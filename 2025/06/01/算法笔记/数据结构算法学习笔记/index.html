
<!DOCTYPE html><html lang="zh-CN">

<head>
  <meta charset="utf-8">
  <meta name="hexo-theme" content="https://github.com/xaoxuu/hexo-theme-stellar/tree/1.30.0" theme-name="Stellar" theme-version="1.30.0">
  
  <meta name="generator" content="Hexo 7.0.0">
  <meta http-equiv='x-dns-prefetch-control' content='on' />
  
  <meta name="renderer" content="webkit">
  <meta name="force-rendering" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="HandheldFriendly" content="True" >
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#000">
  <meta name="theme-color" content="#f9fafb">
  
  <title>æ•°æ®ç»“æ„ç®—æ³•å­¦ä¹ ç¬”è®°-å¸ƒå¤©ç½¡é˜µä¼ç®—æ³•å¦– ç‚¼é‡‘çŸ³ç ´æ•°æ®ç»“æ„ - Jakic's Blog</title>

  
    <meta name="description" content="äºŒå‰æ ‘å¦‚ä¸¤ä»ªå‰‘ï¼Œå“ˆå¸Œè¡¨æ˜¯å…«å¦ç‚‰â€”â€”æ–½ä¸»å¯è¦å‚æ‚Ÿè¿™ã€Œæ—¶ç©ºé€ åŒ–ç»ã€ï¼Ÿ">
<meta property="og:type" content="article">
<meta property="og:title" content="æ•°æ®ç»“æ„ç®—æ³•å­¦ä¹ ç¬”è®°-å¸ƒå¤©ç½¡é˜µä¼ç®—æ³•å¦– ç‚¼é‡‘çŸ³ç ´æ•°æ®ç»“æ„">
<meta property="og:url" content="https://jakicdong.github.io/2025/06/01/%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="Jakic&#39;s Blog">
<meta property="og:description" content="äºŒå‰æ ‘å¦‚ä¸¤ä»ªå‰‘ï¼Œå“ˆå¸Œè¡¨æ˜¯å…«å¦ç‚‰â€”â€”æ–½ä¸»å¯è¦å‚æ‚Ÿè¿™ã€Œæ—¶ç©ºé€ åŒ–ç»ã€ï¼Ÿ">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20251104100612.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250617103247.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250617104155.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250617105425.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250617105921.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250617110526.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250617112637.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250617112834.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250617113153.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250617113256.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250617140917.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250617141433.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250628202415.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250628202517.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250628202626.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250628202741.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250607192928.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20251114101959.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250607193122.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20251013203908.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20251013210813.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250609185157.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250609185120.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/Morris%E4%B8%AD%E5%BA%8F%E9%81%8D%E5%8E%86%E4%BC%AA%E4%BB%A3%E7%A0%81.jpeg">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250624192141.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250709191956.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250709191701.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250710201132.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250723200543.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250723192116.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250723192128.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250609104923.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250609112906.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20251013194516.png">
<meta property="article:published_time" content="2025-05-31T16:00:00.000Z">
<meta property="article:modified_time" content="2025-11-14T02:45:05.104Z">
<meta property="article:author" content="JakicDong">
<meta property="article:tag" content="åŸºç¡€">
<meta property="article:tag" content="leetcode">
<meta property="article:tag" content="ç®—æ³•">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20251104100612.png">
  
  
  
  <meta name="keywords" content="åŸºç¡€,leetcode,ç®—æ³•">

  <!-- feed -->
  

  <link rel="stylesheet" href="/css/main.css?v=1.30.0">


  
    <link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/logo.png">
  

  

  
<!-- hexo injector head_end start --><script src="./func.js"></script><!-- hexo injector head_end end --></head>
<link rel="stylesheet" href="/css/check-in.css"><body><div class="sitebg"><div class="siteblur"></div></div>

<div class="l_body content tech" id="start" layout="post" ><aside class="l_left"><div class="leftbar-container">


<header class="header"><div class="logo-wrap"><a class="avatar" href="/about/"><div class="bg" style="opacity:0;background-image:url(https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/avatar/round/rainbow64@3x.webp);"></div><img no-lazy class="avatar" src="https://avatars.githubusercontent.com/u/130200522?v=4" onerror="javascript:this.classList.add('error');this.src='https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/image/2659360.svg';"></a><a class="title" href="/"><div class="main" ff="title">Jakic's Blog</div><div class="sub normal cap">å­¦ä¹ ç”Ÿæ´»è®°å½•</div><div class="sub hover cap" style="opacity:0"> è¸ä¸Šå–ç»è·¯,æ¯”æŠµè¾¾çµå±±æ›´é‡è¦</div></a></div></header>

<div class="nav-area">
<div class="search-wrapper" id="search-wrapper"><form class="search-form"><a class="search-button" onclick="document.getElementById(&quot;search-input&quot;).focus();"><svg t="1705074644177" viewBox="0 0 1025 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1560" width="200" height="200"><path d="M1008.839137 935.96571L792.364903 719.491476a56.783488 56.783488 0 0 0-80.152866 0 358.53545 358.53545 0 1 1 100.857314-335.166073 362.840335 362.840335 0 0 1-3.689902 170.145468 51.248635 51.248635 0 1 0 99.217358 26.444296 462.057693 462.057693 0 1 0-158.255785 242.303546l185.930047 185.725053a51.248635 51.248635 0 0 0 72.568068 0 51.248635 51.248635 0 0 0 0-72.978056z" p-id="1561"></path><path d="M616.479587 615.969233a50.428657 50.428657 0 0 0-61.498362-5.534852 174.655348 174.655348 0 0 1-177.525271 3.484907 49.403684 49.403684 0 0 0-58.833433 6.76482l-3.074918 2.869923a49.403684 49.403684 0 0 0 8.609771 78.10292 277.767601 277.767601 0 0 0 286.992355-5.739847 49.403684 49.403684 0 0 0 8.404776-76.667958z" p-id="1562"></path></svg></a><input type="text" class="search-input" id="search-input" placeholder="ç«™å†…æœç´¢"></form><div id="search-result"></div><div class="search-no-result">æ²¡æœ‰æ‰¾åˆ°å†…å®¹ï¼</div></div>


<nav class="menu dis-select"><a class="nav-item active" title="åšå®¢é¦–é¡µ" href="/" style="color:#1BCDFC"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M5.879 2.879C5 3.757 5 5.172 5 8v8c0 2.828 0 4.243.879 5.121C6.757 22 8.172 22 11 22h2c2.828 0 4.243 0 5.121-.879C19 20.243 19 18.828 19 16V8c0-2.828 0-4.243-.879-5.121C17.243 2 15.828 2 13 2h-2c-2.828 0-4.243 0-5.121.879M8.25 17a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75M9 12.25a.75.75 0 0 0 0 1.5h6a.75.75 0 0 0 0-1.5zM8.25 9A.75.75 0 0 1 9 8.25h6a.75.75 0 0 1 0 1.5H9A.75.75 0 0 1 8.25 9" clip-rule="evenodd"/><path fill="currentColor" d="M5.235 4.058C5 4.941 5 6.177 5 8v8c0 1.823 0 3.058.235 3.942L5 19.924c-.975-.096-1.631-.313-2.121-.803C2 18.243 2 16.828 2 14v-4c0-2.829 0-4.243.879-5.121c.49-.49 1.146-.707 2.121-.803zm13.53 15.884C19 19.058 19 17.822 19 16V8c0-1.823 0-3.059-.235-3.942l.235.018c.975.096 1.631.313 2.121.803C22 5.757 22 7.17 22 9.999v4c0 2.83 0 4.243-.879 5.122c-.49.49-1.146.707-2.121.803z" opacity=".5"/></svg></a><a class="nav-item" title="æ‰“å¡å¢™" href="/check-in" style="color:#1976D2"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M14.25 4.48v3.057c0 .111 0 .27.02.406a.936.936 0 0 0 .445.683a.96.96 0 0 0 .783.072c.13-.04.272-.108.378-.159L17 8.005l1.124.534c.106.05.248.119.378.16a.958.958 0 0 0 .783-.073a.936.936 0 0 0 .444-.683c.021-.136.021-.295.021-.406V3.031c.113-.005.224-.01.332-.013C21.154 2.98 22 3.86 22 4.933v11.21c0 1.112-.906 2.01-2.015 2.08c-.97.06-2.108.179-2.985.41c-1.082.286-1.99 1.068-3.373 1.436c-.626.167-1.324.257-1.627.323V5.174c.32-.079 1.382-.203 1.674-.371c.184-.107.377-.216.576-.323m5.478 8.338a.75.75 0 0 1-.546.91l-4 1a.75.75 0 0 1-.364-1.456l4-1a.75.75 0 0 1 .91.546" clip-rule="evenodd"/><path fill="currentColor" d="M18.25 3.151c-.62.073-1.23.18-1.75.336a8.2 8.2 0 0 0-.75.27v3.182l.75-.356l.008-.005a1.13 1.13 0 0 1 .492-.13c.047 0 .094.004.138.01c.175.029.315.1.354.12l.009.005l.749.356V3.647z"/><path fill="currentColor" d="M12 5.214c-.334-.064-1.057-.161-1.718-.339C8.938 4.515 8.05 3.765 7 3.487c-.887-.234-2.041-.352-3.018-.412C2.886 3.007 2 3.9 2 4.998v11.146c0 1.11.906 2.01 2.015 2.079c.97.06 2.108.179 2.985.41c.486.129 1.216.431 1.873.726c1.005.451 2.052.797 3.127 1.034z" opacity=".5"/><path fill="currentColor" d="M4.273 12.818a.75.75 0 0 1 .91-.545l4 1a.75.75 0 1 1-.365 1.455l-4-1a.75.75 0 0 1-.545-.91m.909-4.545a.75.75 0 1 0-.364 1.455l4 1a.75.75 0 0 0 .364-1.455z"/></svg></a><a class="nav-item" title="github" target="_blank" rel="noopener" href="https://github.com/JakicDong/" style="color:#1BCDFC"><svg height="32" aria-hidden="true" viewBox="0 0 24 24" version="1.1" width="32" data-view-component="true" class="octicon octicon-mark-github v-align-middle"> <path fill="#cccccc" d="M12 1C5.923 1 1 5.923 1 12c0 4.867 3.149 8.979 7.521 10.436.55.096.756-.233.756-.522 0-.262-.013-1.128-.013-2.049-2.764.509-3.479-.674-3.699-1.292-.124-.317-.66-1.293-1.127-1.554-.385-.207-.936-.715-.014-.729.866-.014 1.485.797 1.691 1.128.99 1.663 2.571 1.196 3.204.907.096-.715.385-1.196.701-1.471-2.448-.275-5.005-1.224-5.005-5.432 0-1.196.426-2.186 1.128-2.956-.111-.275-.496-1.402.11-2.915 0 0 .921-.288 3.024 1.128a10.193 10.193 0 0 1 2.75-.371c.936 0 1.871.123 2.75.371 2.104-1.43 3.025-1.128 3.025-1.128.605 1.513.221 2.64.111 2.915.701.77 1.127 1.747 1.127 2.956 0 4.222-2.571 5.157-5.019 5.432.399.344.743 1.004.743 2.035 0 1.471-.014 2.654-.014 3.025 0 .289.206.632.756.522C19.851 20.979 23 16.854 23 12c0-6.077-4.922-11-11-11Z"></path> </svg></a><a class="nav-item" title="åŠ›æ‰£" target="_blank" rel="noopener" href="https://leetcode.cn/u/dong7/" style="color:#3DC550"><svg width="59" height="22" viewBox="0 0 59 22" fill="none" xmlns="http://www.w3.org/2000/svg" class="h-full w-auto max-w-none"> <path fill-rule="evenodd" clip-rule="evenodd" d="M27.8226 17.4752C28.3202 16.1443 28.7218 14.5458 28.9859 12.6607C29.1277 11.6491 29.2845 10.1658 29.4568 8.20813H35.2561C35.2637 8.20813 35.2713 8.20828 35.2789 8.20857C35.6071 8.22119 35.8628 8.49743 35.8502 8.82558L35.4996 17.9427C35.4873 18.262 35.2249 18.5144 34.9054 18.5144H33.2974C32.8595 18.5144 32.5046 18.8694 32.5046 19.3072C32.5046 19.7451 32.8595 20.1 33.2974 20.1H35.4776C36.3533 20.1 37.0631 19.3901 37.0631 18.5144L37.4595 8.20813C37.4595 7.33244 36.7497 6.62254 35.874 6.62254H29.5913C29.671 5.65054 29.7537 4.58575 29.8394 3.42794C29.8718 2.99129 29.544 2.61109 29.1074 2.57874C28.6707 2.54639 28.2905 2.87414 28.2582 3.3108C28.1689 4.51669 28.0829 5.62069 28.0004 6.62254H25.3695C24.9316 6.62254 24.5767 6.97749 24.5767 7.41534C24.5767 7.85318 24.9316 8.20813 25.3695 8.20813H27.8651C27.7 10.07 27.5501 11.4816 27.4157 12.4407C27.1674 14.2124 26.7941 15.6986 26.3374 16.9199C26.0981 17.5599 25.8527 18.0822 25.6163 18.4944C25.5366 18.6333 25.4649 18.7474 25.4029 18.8378C25.3703 18.8853 25.3512 18.9109 25.3475 18.9155C25.0722 19.256 25.1252 19.7552 25.4657 20.0305C25.8062 20.3057 26.3054 20.2528 26.5806 19.9123C26.6737 19.7971 26.8159 19.5898 26.9917 19.2833C27.271 18.7963 27.5531 18.1959 27.8226 17.4752ZM48.5586 17.3184V7.72969H55.6831C56.3474 7.72969 56.883 8.26047 56.883 8.9117V16.4576C56.883 17.1088 56.3474 17.6396 55.6831 17.6396H53.3916C52.7274 17.6396 52.1918 17.1088 52.1918 16.4576V10.1081C52.1918 9.67022 51.8369 9.31528 51.399 9.31528C50.9612 9.31528 50.6062 9.67022 50.6062 10.1081V16.4576C50.6062 17.9877 51.8548 19.2252 53.3916 19.2252H55.6831C57.2199 19.2252 58.4686 17.9877 58.4686 16.4576V8.9117C58.4686 7.38157 57.2199 6.14411 55.6831 6.14411H48.5586V3.76573C48.5586 3.32788 48.2037 2.97294 47.7658 2.97294C47.328 2.97294 46.9731 3.32788 46.9731 3.76573V6.14411H44.1983C43.7604 6.14411 43.4055 6.49905 43.4055 6.9369C43.4055 7.37475 43.7604 7.72969 44.1983 7.72969H46.9731V12.465L44.3002 13.5341C43.8937 13.6968 43.696 14.1581 43.8586 14.5647C44.0212 14.9712 44.4826 15.1689 44.8891 15.0063L46.9731 14.1727V17.3184C46.9731 18.3666 46.0906 19.2252 44.9911 19.2252C44.5532 19.2252 44.1983 19.5801 44.1983 20.018C44.1983 20.4558 44.5532 20.8108 44.9911 20.8108C46.9567 20.8108 48.5586 19.2522 48.5586 17.3184Z" fill="white"></path> <path d="M13.3797 16.4636C13.874 15.9701 14.674 15.9714 15.1667 16.4665C15.6593 16.9616 15.6581 17.7631 15.1638 18.2566L12.9691 20.4481C10.9443 22.4699 7.64261 22.4992 5.58369 20.5162C5.57179 20.5048 4.655 19.6058 1.63058 16.6402C-0.381491 14.6673 -0.581941 11.5104 1.31147 9.4831L4.84172 5.7031C6.7209 3.69085 10.1849 3.47093 12.3335 5.20847L15.5398 7.80152C16.0828 8.24065 16.1676 9.03757 15.7292 9.58151C15.2909 10.1254 14.4953 10.2104 13.9523 9.77127L10.746 7.17824C9.62238 6.26954 7.65677 6.39434 6.68718 7.43259L3.15688 11.2126C2.23512 12.1996 2.33607 13.7895 3.39833 14.8311C5.61922 17.0088 7.33084 18.6871 7.33282 18.689C8.40324 19.72 10.134 19.7046 11.185 18.6551L13.3797 16.4636Z" fill="#FFA116"></path> <path fill-rule="evenodd" clip-rule="evenodd" d="M8.04824 14.2706C7.35039 14.2706 6.78467 13.7039 6.78467 13.0048C6.78467 12.3057 7.35039 11.739 8.04824 11.739H17.3671C18.0649 11.739 18.6306 12.3057 18.6306 13.0048C18.6306 13.7039 18.0649 14.2706 17.3671 14.2706H8.04824Z" fill="#B3B3B3"></path> <path fill-rule="evenodd" clip-rule="evenodd" d="M9.79343 0.401024C10.2702 -0.109469 11.0698 -0.136141 11.5794 0.34145C12.089 0.819042 12.1156 1.62004 11.6389 2.13054L3.15692 11.2126C2.23513 12.1995 2.33608 13.7894 3.39827 14.831L7.31536 18.6721C7.81405 19.1611 7.82258 19.9625 7.33442 20.4621C6.84626 20.9616 6.04626 20.9702 5.54757 20.4812L1.63046 16.6401C-0.381492 14.6671 -0.581942 11.5102 1.31155 9.48305L9.79343 0.401024Z" fill="white"></path> </svg></a><a class="nav-item" title="çŸ¥è¯†æ˜Ÿçƒ" target="_blank" rel="noopener" href="https://wx.zsxq.com/" style="color:#3DC550"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M20 12a8 8 0 1 1-16 0a8 8 0 0 1 16 0" opacity=".5"/><path fill="currentColor" d="M17.712 5.453c1.047-.193 2.006-.259 2.797-.152c.77.103 1.536.393 1.956 1.064c.446.714.312 1.542-.012 2.258c-.33.728-.918 1.499-1.672 2.268c-1.516 1.547-3.836 3.226-6.597 4.697c-2.763 1.472-5.495 2.484-7.694 2.92c-1.095.217-2.098.299-2.923.201c-.8-.095-1.6-.383-2.032-1.075c-.47-.752-.296-1.63.07-2.379c.375-.768 1.032-1.586 1.872-2.403L4 12.416c0 .219.083.71.168 1.146c.045.23.09.444.123.596c-.652.666-1.098 1.263-1.339 1.756c-.277.567-.208.825-.145.925c.072.116.305.305.937.38c.609.073 1.44.018 2.455-.183c2.02-.4 4.613-1.351 7.28-2.772c2.667-1.42 4.85-3.015 6.23-4.423c.694-.707 1.15-1.334 1.377-1.836c.233-.515.167-.75.107-.844c-.07-.112-.289-.294-.883-.374c-.542-.072-1.272-.041-2.163.112L16.87 5.656c.338-.101.658-.17.842-.203"/></svg></a><a class="nav-item" title="è”ç³»æˆ‘" href="https://jakicdong.github.io/2025/06/01/contact_author/" style="color:#F44336"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="m13.629 20.472l-.542.916c-.483.816-1.69.816-2.174 0l-.542-.916c-.42-.71-.63-1.066-.968-1.262c-.338-.197-.763-.204-1.613-.219c-1.256-.021-2.043-.098-2.703-.372a5 5 0 0 1-2.706-2.706C2 14.995 2 13.83 2 11.5v-1c0-3.273 0-4.91.737-6.112a5 5 0 0 1 1.65-1.651C5.59 2 7.228 2 10.5 2h3c3.273 0 4.91 0 6.113.737a5 5 0 0 1 1.65 1.65C22 5.59 22 7.228 22 10.5v1c0 2.33 0 3.495-.38 4.413a5 5 0 0 1-2.707 2.706c-.66.274-1.447.35-2.703.372c-.85.015-1.275.022-1.613.219c-.338.196-.548.551-.968 1.262" opacity=".5"/><path fill="currentColor" d="M10.99 14.308c-1.327-.978-3.49-2.84-3.49-4.593c0-2.677 2.475-3.677 4.5-1.609c2.025-2.068 4.5-1.068 4.5 1.609c0 1.752-2.163 3.615-3.49 4.593c-.454.335-.681.502-1.01.502c-.329 0-.556-.167-1.01-.502"/></svg></a></nav>
</div>
<div class="sidebar-check-in">
    <div id="sidebar-check-in-calendar"></div>
</div>
<div class="widgets">
<widget class="widget-wrapper slide-up post-list"><div class="widget-header dis-select"><span class="name">ä¸“æ ï¼šå­¦ä¹ åšå®¢</span></div><div class="widget-body"><a class="item" href="/2026/01/31/%E6%9D%82%E9%A1%B9%E7%AC%94%E8%AE%B0/Redis-KV-MySQL%E5%AD%98%E5%82%A8%E5%AF%B9%E6%AF%94/"><span class="title">Redis,KV,MySQLå­˜å‚¨å¯¹æ¯”-å†…å­˜ç£ç›˜å„æ˜¾ç¥é€š å…³ç³»éå…³ç³»å„æœ‰åƒç§‹</span></a><a class="item" href="/2026/01/28/%E6%9D%82%E9%A1%B9%E7%AC%94%E8%AE%B0/%E6%9C%AC%E5%9C%B0GoLand%E4%B8%8E%E8%BF%9C%E7%A8%8B%E5%BC%80%E5%8F%91%E6%9C%BA%E4%BB%A3%E7%A0%81%E5%90%8C%E6%AD%A5%E4%B8%8E%E8%B0%83%E8%AF%95/"><span class="title">æœ¬åœ°GoLandä¸è¿œç¨‹å¼€å‘æœºä»£ç åŒæ­¥ä¸è°ƒè¯•</span></a><a class="item" href="/2026/01/26/%E6%9D%82%E9%A1%B9%E7%AC%94%E8%AE%B0/Clawdbot%E4%BD%BF%E7%94%A8/"><span class="title">Clawdbotä½¿ç”¨</span></a><a class="item" href="/2026/01/12/%E6%9D%82%E9%A1%B9%E7%AC%94%E8%AE%B0/COZE%E5%88%9D%E4%BD%93%E9%AA%8C/"><span class="title">COZEåˆä½“éªŒ</span></a><a class="item" href="/2025/12/01/Go%E5%9F%BA%E7%A1%80/Go%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/"><span class="title">GoåŸºç¡€ç¬”è®°</span></a><a class="item" href="/2025/11/13/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/LLM%E5%A6%82%E4%BD%95%E6%80%9D%E7%BB%B4%E5%8F%8A%E7%93%B6%E9%A2%88%E4%BD%95%E5%9C%A8/"><span class="title">LLMå¦‚ä½•è¿›è¡Œæ€ç»´?LLMçš„ç“¶é¢ˆä½•åœ¨?</span></a><a class="item" href="/2025/10/25/Java%E9%97%AE%E7%AD%94%E7%AC%94%E8%AE%B0/Elasticsearch%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><span class="title">Elasticsearchå­¦ä¹ ç¬”è®°-å¼€å€’æ’ç´¢å¼•é€šå¤©åœ°,å¸ƒåˆ†è¯å™¨ç‚¼æ–‡å­—ä¸¹</span></a><a class="item" href="/2025/10/24/Java%E9%97%AE%E7%AD%94%E7%AC%94%E8%AE%B0/%E7%83%AD%E7%82%B9%E7%9F%A5%E8%AF%86%E7%82%B9%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><span class="title">ğŸ”¥çƒ­ç‚¹çŸ¥è¯†ç‚¹å­¦ä¹ ç¬”è®°-ç‚¼é‡‘ä¸¹ç†”é«˜é¢‘è€ƒç‚¹,å¸ƒå¤©ç½‘æ“’æŠ€æœ¯çƒ­ç‚¹</span></a><a class="item" href="/2025/10/23/Java%E9%97%AE%E7%AD%94%E7%AC%94%E8%AE%B0/Java%E5%9C%BA%E6%99%AF%E8%AE%BE%E8%AE%A1%E9%A2%98%E7%9B%AE%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><span class="title">åœºæ™¯è®¾è®¡å­¦ä¹ ç¬”è®°-é—¯æ¶æ„å¤©å®«æ¼”è¯¸æ³•,é™éœ€æ±‚å¿ƒé­”å®šç¦…å¿ƒ</span></a><a class="item" href="/2025/10/22/Java%E9%97%AE%E7%AD%94%E7%AC%94%E8%AE%B0/Spring%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0(%E7%AC%AC%E4%BA%8C%E7%89%88)/"><span class="title">Springå­¦ä¹ ç¬”è®°(ç¬¬äºŒç‰ˆ)-ç‚¼é‡‘ä¸¹ç‚‰é“¸Beanå±± å¸ƒæ³¨è§£é˜µæ§è½®å›ç›˜</span></a><a class="item" href="/2025/10/18/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/MYDB%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/"><span class="title">MYDBé¡¹ç›®ç¬”è®°</span></a><a class="item" href="/2025/10/17/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/RAG%E7%9F%A5%E8%AF%86%E5%BA%93%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/"><span class="title">RAGçŸ¥è¯†åº“é¡¹ç›®ç¬”è®°</span></a><a class="item" href="/2025/10/13/%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0/SQL%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0/"><span class="title">SQLåˆ·é¢˜ç¬”è®°-æ‰§SQLå’’æ‰«ä¹¾å¤è¡¨,ç¥­è”åˆå½±æ“’æ•°æ®å¦–</span></a><a class="item" href="/2025/10/10/Java%E9%97%AE%E7%AD%94%E7%AC%94%E8%AE%B0/JVM%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><span class="title">JVMå­¦ä¹ ç¬”è®°-çª¥å†…å­˜æ´å¤©è§‚ç„æœº,è°ƒGCè½®å›æŒç”Ÿæ­»</span></a><a class="item" href="/2025/09/29/Java%E9%97%AE%E7%AD%94%E7%AC%94%E8%AE%B0/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><span class="title">è®¾è®¡æ¨¡å¼å­¦ä¹ ç¬”è®°-å¸ƒå¤©ç½¡é˜µé™éœ€æ±‚å¦–,æ¼”å˜åŒ–æœ¯ç ´ä»£ç åŠ«</span></a><a class="item" href="/2025/09/29/Java%E9%97%AE%E7%AD%94%E7%AC%94%E8%AE%B0/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><span class="title">å¾®æœåŠ¡å­¦ä¹ ç¬”è®°-åŒ–æ•´ä¸ºé›¶æ•£ä½œæ˜Ÿ,èšæ²™æˆå¡”æ¶äº‘å°</span></a><a class="item" href="/2025/09/29/Java%E9%97%AE%E7%AD%94%E7%AC%94%E8%AE%B0/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><span class="title">æ“ä½œç³»ç»Ÿå­¦ä¹ ç¬”è®°-æŒè½®å›å†…æ ¸å®šçº²å¸¸,æ¸¡è¿›ç¨‹å†…å­˜åŒ–é˜´é˜³</span></a><a class="item" href="/2025/09/29/Java%E9%97%AE%E7%AD%94%E7%AC%94%E8%AE%B0/%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><span class="title">åˆ†å¸ƒå¼å­¦ä¹ ç¬”è®°-æ¶å¤©ç½‘å¸ƒåˆ†å¸ƒå¼,ç‚¼é‡‘ä¸¹æ¸¡ä¸€è‡´åŠ«</span></a><a class="item" href="/2025/09/29/Java%E9%97%AE%E7%AD%94%E7%AC%94%E8%AE%B0/RocketMQ%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><span class="title">RocketMQå­¦ä¹ ç¬”è®°-æ¶æ¶ˆæ¯æ¡¥é€šä¸‰ç•Œè·¯ æ–½æŒä¹…å’’å®šä¹¾å¤è½®</span></a><a class="item" href="/2025/09/29/Java%E9%97%AE%E7%AD%94%E7%AC%94%E8%AE%B0/MyBatis%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><span class="title">MyBatiså­¦ä¹ ç¬”è®°-æ¶æ˜ å°„æ¡¥é€šäººç¥å¢ƒ å†™SQLå’’è°ƒæ•°æ®å…µ</span></a><a class="item" href="/2025/09/29/Java%E9%97%AE%E7%AD%94%E7%AC%94%E8%AE%B0/Linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><span class="title">Linuxå­¦ä¹ ç¬”è®°-è¸ç»ˆç«¯ç™»çµéœ„æ®¿,æ‰§ç¬¦å’’é©­ä¼—ç”Ÿå™¨</span></a><a class="item" href="/2025/09/24/Java%E9%97%AE%E7%AD%94%E7%AC%94%E8%AE%B0/%E7%AE%80%E5%8E%86%E5%AF%B9%E5%BA%94%E7%9A%84%E4%B8%80%E4%BA%9B%E7%9F%A5%E8%AF%86%E7%82%B9/"><span class="title">ç®€å†å¯¹åº”çŸ¥è¯†ç‚¹</span></a><a class="item" href="/2025/09/09/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/Elasticsearch(ES)%E4%B8%8B%E8%BD%BD%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/"><span class="title">Elasticsearch(ES)ä¸‹è½½ä½¿ç”¨æŒ‡å—</span></a><a class="item" href="/2025/08/30/%E6%9D%82%E9%A1%B9%E7%AC%94%E8%AE%B0/git%E7%A7%98%E9%92%A5%E8%BF%87%E6%9C%9F%E5%A4%84%E7%90%86/"><span class="title">Rediså­¦ä¹ ç¬”è®°</span></a><a class="item" href="/2025/08/08/Java%E9%97%AE%E7%AD%94%E7%AC%94%E8%AE%B0/Java%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><span class="title">Javaå¹¶å‘ç¼–ç¨‹å­¦ä¹ ç¬”è®°-å¸ƒå¤©ç½—ç½‘é”çº¿ç¨‹å¦–,è®¾å…«å¦é˜µä¼ç«æ€é­”</span></a><a class="item" href="/2025/08/06/3DGS/SSH%E8%BF%9C%E7%A8%8B%E8%B0%83%E7%94%A8%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/"><span class="title">SSHè¿œç¨‹è°ƒç”¨å¼€å‘ç¯å¢ƒ</span></a><a class="item" href="/2025/08/05/3DGS/Ubuntu20%E4%BD%BF%E7%94%A8%E5%A4%9A%E4%B8%AA%E7%89%88%E6%9C%ACCUDA/"><span class="title">Ubuntu20ä½¿ç”¨å¤šä¸ªç‰ˆæœ¬CUDA</span></a><a class="item" href="/2025/08/04/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/Thymeleaf%E6%A8%A1%E7%89%88%E5%BC%95%E6%93%8E/"><span class="title">Thymeleafæ¨¡ç‰ˆå¼•æ“</span></a><a class="item" href="/2025/08/01/Java%E9%97%AE%E7%AD%94%E7%AC%94%E8%AE%B0/Java%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><span class="title">Javaé›†åˆæ¡†æ¶å­¦ä¹ ç¬”è®°-å¼€ä¹¾å¤è¢‹çº³ç™¾å· å¸ƒç²ç‘å±€å®šå±±æ²³</span></a><a class="item" href="/2025/07/30/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/Natapp/"><span class="title">Natappå†…ç½‘ç©¿é€ä½¿ç”¨</span></a><a class="item" href="/2025/07/25/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/%E5%BE%AE%E4%BF%A1%E6%89%AB%E7%A0%81%E7%99%BB%E5%BD%95/"><span class="title">å¾®ä¿¡æ‰«ç ç™»å½•</span></a><a class="item" href="/2025/07/25/%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0/%E7%81%B5%E8%8C%B6%E5%B1%B1%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/"><span class="title">çµèŒ¶å±±ç®—æ³•åŸºç¡€ç¬”è®°</span></a><a class="item" href="/2025/07/22/Java%E9%97%AE%E7%AD%94%E7%AC%94%E8%AE%B0/Redis%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><span class="title">Rediså­¦ä¹ ç¬”è®°-ç‡ƒå†…å­˜çœŸç«ç…§å¹½å†¥ å¸ƒé›†ç¾¤é˜µé€šä¹éœ„</span></a><a class="item" href="/2025/07/22/Java%E9%97%AE%E7%AD%94%E7%AC%94%E8%AE%B0/JavaSE%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><span class="title">JavaSEå­¦ä¹ ç¬”è®°-ç­‘åŸºç¯‡å¼€ä¿®è¡Œè·¯,ç‚¼æ°”å±‚ç ´è¯­æ³•éšœ</span></a><a class="item" href="/2025/07/14/%E6%9D%82%E9%A1%B9%E7%AC%94%E8%AE%B0/%E7%A8%8B%E5%BA%8F%E5%91%98%E5%85%BB%E7%94%9F%E6%8C%87%E5%8D%97/"><span class="title">ç¨‹åºå‘˜å…»ç”ŸæŒ‡å—-è°ƒé˜´é˜³æˆ’ä¹…ååŠ« é€šç»è„‰æˆ˜ä»£ç å¦–</span></a><a class="item" href="/2025/07/14/Java%E9%97%AE%E7%AD%94%E7%AC%94%E8%AE%B0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><span class="title">è®¡ç®—æœºç½‘ç»œå­¦ä¹ ç¬”è®°-å¸ƒåè®®æ ˆé€šä¸‰ç•Œ,æ¶è·¯ç”±æ¡¥æ¸¡ä¸‡ç»´</span></a><a class="item" href="/2025/07/12/3DGS/%E4%BD%BF%E7%94%A8Postshot%E8%AE%AD%E7%BB%833DGS%E6%B5%81%E7%A8%8B/"><span class="title">ä½¿ç”¨Postshotè®­ç»ƒ3DGSæ¨¡å‹æµç¨‹</span></a><a class="item" href="/2025/07/09/%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/%E8%B7%A8%E5%9F%9F%E6%94%AF%E6%8C%81%E7%AC%94%E8%AE%B0/"><span class="title">è·¨åŸŸæ”¯æŒç¬”è®°</span></a><a class="item" href="/2025/07/09/%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/MybatisPlus%E7%AC%94%E8%AE%B0/"><span class="title">MybatisPlusç¬”è®°</span></a><a class="item" href="/2025/06/25/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/TecHub%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/"><span class="title">TecHubé¡¹ç›®ç¬”è®°</span></a><a class="item" href="/2025/06/24/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/%E6%8A%80%E6%9C%AF%E6%B4%BE%E7%8E%AF%E5%A2%83%E9%97%AE%E9%A2%98/"><span class="title">æŠ€æœ¯æ´¾é¡¹ç›®ç¯å¢ƒé—®é¢˜</span></a><a class="item" href="/2025/06/24/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/Unity%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0/"><span class="title">Unityæ¸¸æˆå¼€å‘ç¬”è®°</span></a><a class="item" href="/2025/06/21/%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0/%E4%B8%80%E6%AC%A1%E6%80%A7%E6%90%9E%E6%87%82B%E6%A0%91/"><span class="title">ä¸€æ¬¡æ€§ææ‡‚Bæ ‘</span></a><a class="item" href="/2025/06/12/Java%E9%97%AE%E7%AD%94%E7%AC%94%E8%AE%B0/Spring%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><span class="title">Springå­¦ä¹ ç¬”è®°-å¼€IOCç“¶çº³ç™¾å·æ°´ ç»‡AOPç½‘è¦†ä¸‰ç•Œå°˜</span></a><a class="item" href="/2025/06/11/%E6%9D%82%E9%A1%B9%E7%AC%94%E8%AE%B0/nvm%E6%9B%B4%E6%94%B9node%E7%89%88%E6%9C%AC/"><span class="title">nvmæ›´æ”¹nodeç‰ˆæœ¬</span></a><a class="item" href="/2025/06/11/%E6%9D%82%E9%A1%B9%E7%AC%94%E8%AE%B0/node%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/"><span class="title">nodeä½¿ç”¨è®°å½•</span></a><a class="item" href="/2025/06/11/3DGS/3DGS%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><span class="title">3DGSå­¦ä¹ ç¬”è®°-æ’’ç¥ç»ç‚¹å¸ƒæ˜Ÿäº‘é˜µ ç‚¼è¾å°„åœºå¡‘é€ åŒ–èº«</span></a><a class="item" href="/2025/06/11/3DGS/3DGS-Ubuntu%E7%8E%AF%E5%A2%83/"><span class="title">3DGS-Ubuntuç¯å¢ƒ.md</span></a><a class="item" href="/2025/06/10/Java%E9%97%AE%E7%AD%94%E7%AC%94%E8%AE%B0/Mysql%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><span class="title">Mysqlå­¦ä¹ ç¬”è®°-å¸ƒB+æ ‘é˜µé”è‹é¾™ å†™SQLçœŸè¨€å¬å¤©å…µ</span></a><a class="item" href="/2025/06/10/%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/Java%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6%E7%AC%94%E8%AE%B0/"><span class="title">Javaé›†åˆæ¡†æ¶ç¬”è®°</span></a><a class="item" href="/2025/06/09/%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/JVM%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><span class="title">JVMå­¦ä¹ ç¬”è®°</span></a><a class="item" href="/2025/06/07/%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/Java%E5%B9%B6%E5%8F%91%E7%AF%87/"><span class="title">Javaå¹¶å‘ç¯‡</span></a><a class="item" href="/2025/06/06/%E6%9D%82%E9%A1%B9%E7%AC%94%E8%AE%B0/%E5%B8%B8%E7%94%A8%E7%BB%84%E5%90%88%E9%94%AE%E8%AE%B0%E5%BD%95/"><span class="title">å¸¸ç”¨ç»„åˆé”®è®°å½•-ç»“å°è¯€è…¾æŒªä¸‰ç•Œ,å¼¹æŒ‡é—´å‘¼é£å”¤é›¨</span></a><a class="item" href="/2025/06/06/%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/java30%E5%A4%A9%E7%AC%94%E8%AE%B0/"><span class="title">java30å¤©å­¦ä¹ ç¬”è®°</span></a><a class="item" href="/2025/06/05/%E6%9D%82%E9%A1%B9%E7%AC%94%E8%AE%B0/hello-world/"><span class="title">Hello World</span></a><a class="item" href="/2025/06/04/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/%E6%8A%80%E6%9C%AF%E6%B4%BE%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/"><span class="title">æŠ€æœ¯æ´¾é¡¹ç›®ç¬”è®°</span></a><a class="item" href="/2025/06/02/%E6%9D%82%E9%A1%B9%E7%AC%94%E8%AE%B0/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97/"><span class="title">ä¸ªäººåšå®¢æ­å»ºæŒ‡å—-æ¶ç¥¥äº‘è‡ªå»ºè©æå¢ƒ,ç‚¹æ…§ç¯ç‹¬ç…§åšå®¢å¤©</span></a><a class="item" href="/2025/06/01/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/RabbitMQ%E9%A1%B9%E7%9B%AE%E4%BD%BF%E7%94%A8/"><span class="title">RabbitMQé¡¹ç›®ä½¿ç”¨</span></a><a class="item active" href="/2025/06/01/%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><span class="title">æ•°æ®ç»“æ„ç®—æ³•å­¦ä¹ ç¬”è®°-å¸ƒå¤©ç½¡é˜µä¼ç®—æ³•å¦– ç‚¼é‡‘çŸ³ç ´æ•°æ®ç»“æ„</span><svg class="active-icon" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M21 11.098v4.993c0 3.096 0 4.645-.734 5.321c-.35.323-.792.526-1.263.58c-.987.113-2.14-.907-4.445-2.946c-1.02-.901-1.529-1.352-2.118-1.47a2.225 2.225 0 0 0-.88 0c-.59.118-1.099.569-2.118 1.47c-2.305 2.039-3.458 3.059-4.445 2.945a2.238 2.238 0 0 1-1.263-.579C3 20.736 3 19.188 3 16.091v-4.994C3 6.81 3 4.666 4.318 3.333C5.636 2 7.758 2 12 2c4.243 0 6.364 0 7.682 1.332C21 4.665 21 6.81 21 11.098" opacity=".5"/><path fill="currentColor" d="M9 5.25a.75.75 0 0 0 0 1.5h6a.75.75 0 0 0 0-1.5z"/></svg></a><a class="item" href="/2025/06/01/contact_author/"><span class="title">contact_author</span></a></div></widget>

<widget class="widget-wrapper slide-up post-list"><div class="widget-header dis-select"><span class="name">æœ€è¿‘æ›´æ–°</span></div><div class="widget-body fs14"><a class="item title" href="/2026/02/03/%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B026%E5%B9%B42%E6%9C%88/2026.2.3%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><span class="title">2026.2.3å­¦ä¹ æ—¥è®°</span></a><a class="item title" href="/2025/09/11/%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B025%E5%B9%B49%E6%9C%88/2025.9.12%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><span class="title">2025.9.11å­¦ä¹ æ—¥è®°</span></a><a class="item title" href="/2025/08/08/Java%E9%97%AE%E7%AD%94%E7%AC%94%E8%AE%B0/Java%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><span class="title">Javaå¹¶å‘ç¼–ç¨‹å­¦ä¹ ç¬”è®°-å¸ƒå¤©ç½—ç½‘é”çº¿ç¨‹å¦–,è®¾å…«å¦é˜µä¼ç«æ€é­”</span></a><a class="item title" href="/2025/07/22/Java%E9%97%AE%E7%AD%94%E7%AC%94%E8%AE%B0/JavaSE%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><span class="title">JavaSEå­¦ä¹ ç¬”è®°-ç­‘åŸºç¯‡å¼€ä¿®è¡Œè·¯,ç‚¼æ°”å±‚ç ´è¯­æ³•éšœ</span></a><a class="item title" href="/2026/01/26/%E6%9D%82%E9%A1%B9%E7%AC%94%E8%AE%B0/Clawdbot%E4%BD%BF%E7%94%A8/"><span class="title">Clawdbotä½¿ç”¨</span></a><a class="item title" href="/2026/01/12/%E6%9D%82%E9%A1%B9%E7%AC%94%E8%AE%B0/COZE%E5%88%9D%E4%BD%93%E9%AA%8C/"><span class="title">COZEåˆä½“éªŒ</span></a><a class="item title" href="/2025/06/11/3DGS/3DGS%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><span class="title">3DGSå­¦ä¹ ç¬”è®°-æ’’ç¥ç»ç‚¹å¸ƒæ˜Ÿäº‘é˜µ ç‚¼è¾å°„åœºå¡‘é€ åŒ–èº«</span></a><a class="item title" href="/2025/06/06/%E6%9D%82%E9%A1%B9%E7%AC%94%E8%AE%B0/%E5%B8%B8%E7%94%A8%E7%BB%84%E5%90%88%E9%94%AE%E8%AE%B0%E5%BD%95/"><span class="title">å¸¸ç”¨ç»„åˆé”®è®°å½•-ç»“å°è¯€è…¾æŒªä¸‰ç•Œ,å¼¹æŒ‡é—´å‘¼é£å”¤é›¨</span></a><a class="item title" href="/2026/01/31/%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B026%E5%B9%B41%E6%9C%88/2026.1.31%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><span class="title">2026.1.31å­¦ä¹ æ—¥è®°</span></a><a class="item title" href="/2026/01/31/%E6%9D%82%E9%A1%B9%E7%AC%94%E8%AE%B0/Redis-KV-MySQL%E5%AD%98%E5%82%A8%E5%AF%B9%E6%AF%94/"><span class="title">Redis,KV,MySQLå­˜å‚¨å¯¹æ¯”-å†…å­˜ç£ç›˜å„æ˜¾ç¥é€š å…³ç³»éå…³ç³»å„æœ‰åƒç§‹</span></a></div></widget>
</div>

</div></aside><div class="l_main" id="main">





<div class="article banner top">
  <div class="content">
    <div class="top bread-nav footnote"><div class="left"><div class="flex-row" id="breadcrumb"><a class="cap breadcrumb" href="/">ä¸»é¡µ</a>
<span class="sep"></span><a class="cap breadcrumb" id="menu" href="/topic">ä¸“æ </a><span class="sep"></span><a class="cap breadcrumb" id="proj" href="/2026/01/31/%E6%9D%82%E9%A1%B9%E7%AC%94%E8%AE%B0/Redis-KV-MySQL%E5%AD%98%E5%82%A8%E5%AF%B9%E6%AF%94/">å­¦ä¹ åšå®¢</a></div>
<div class="flex-row" id="post-meta"><span class="text created">å‘å¸ƒäºï¼š<time datetime="2025-05-31T16:00:00.000Z">2025-06-01</time></span><span class="sep updated"></span><span class="text updated">æ›´æ–°äºï¼š<time datetime="2025-11-14T02:45:05.104Z">2025-11-14</time></span></div></div></div>
    
    <div class="bottom only-title">
      
      <div class="text-area">
        <h1 class="text title"><span>æ•°æ®ç»“æ„ç®—æ³•å­¦ä¹ ç¬”è®°-å¸ƒå¤©ç½¡é˜µä¼ç®—æ³•å¦– ç‚¼é‡‘çŸ³ç ´æ•°æ®ç»“æ„</span></h1>
        
      </div>
    </div>
    
  </div>
  </div><article class="md-text content slide-up"><h1 id="ç®—æ³•ç¬”è®°"><a href="#ç®—æ³•ç¬”è®°" class="headerlink" title="ç®—æ³•ç¬”è®°"></a>ç®—æ³•ç¬”è®°</h1><h2 id="ä¸€äº›å¥½çš„é€»è¾‘æ€è·¯"><a href="#ä¸€äº›å¥½çš„é€»è¾‘æ€è·¯" class="headerlink" title="ä¸€äº›å¥½çš„é€»è¾‘æ€è·¯"></a>ä¸€äº›å¥½çš„é€»è¾‘æ€è·¯</h2><h3 id="åé—®é¢˜"><a href="#åé—®é¢˜" class="headerlink" title="åé—®é¢˜"></a>åé—®é¢˜</h3><p>å¦‚æœä¸€ä¸ªé—®é¢˜æ­£é—®é¢˜å¾ˆå¤æ‚,å¯ä»¥å°è¯•æƒ³ä¸€ä¸‹åé—®é¢˜,<br>æ¯”å¦‚æ±‚æœ‰æ°å¥½kä¸ªç›¸é‚»æ•°çš„æ•°ç»„ä¸ªæ•°,æ­£é—®é¢˜å¾ˆå¤æ‚,ä½†æ˜¯åé—®é¢˜åªéœ€è¦æ‰¾åˆ°n-k-1ä¸ªåˆ†å‰²çº¿,æŠŠæ•°ç»„åˆ†å‰²æˆn-kå—.<br><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/count-the-number-of-arrays-with-k-matching-adjacent-elements?envType=daily-question&envId=2025-06-17">3405. ç»Ÿè®¡æ°å¥½æœ‰ K ä¸ªç›¸ç­‰ç›¸é‚»å…ƒç´ çš„æ•°ç»„æ•°ç›®</a></p>
<h3 id="å­é—®é¢˜"><a href="#å­é—®é¢˜" class="headerlink" title="å­é—®é¢˜"></a>å­é—®é¢˜</h3><p>å¦‚æœä¸€ä¸ªå¤§çš„é—®é¢˜å¯ä»¥åˆ†è§£æˆå¤šä¸ªå­é—®é¢˜,å¯ä»¥å°è¯•å…ˆè§£å†³å­é—®é¢˜,å†è§£å†³å¤§é—®é¢˜.è¿™å°±å¯ä»¥ç”¨é€’å½’æˆ–åŠ¨æ€è§„åˆ’çš„æ–¹æ³•æ¥è§£å†³.</p>
<h3 id="é‚»åŸŸæ¶ˆé™¤é—®é¢˜"><a href="#é‚»åŸŸæ¶ˆé™¤é—®é¢˜" class="headerlink" title="é‚»åŸŸæ¶ˆé™¤é—®é¢˜"></a>é‚»åŸŸæ¶ˆé™¤é—®é¢˜</h3><p>å¯¹äºä¸´é¡¹æ¶ˆé™¤é—®é¢˜,å¹¶ä¸”å…ˆåé¡ºåºæ— å…³,å¯ä»¥è€ƒè™‘ä½¿ç”¨æ ˆæ¥å®ç°.<br>ä»å·¦åˆ°å³æ¥æ‰§è¡Œ.</p>
<h2 id="ACM-æ ¼å¼"><a href="#ACM-æ ¼å¼" class="headerlink" title="ACM æ ¼å¼"></a>ACM æ ¼å¼</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="type">BufferedReader</span> <span class="variable">br</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(System.in));</span><br><span class="line">        <span class="type">PrintWriter</span> <span class="variable">pw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PrintWriter</span>(System.out);</span><br><span class="line">        </span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> Integer.parseInt(br.readLine());</span><br><span class="line">        String[] times = br.readLine().split(<span class="string">&quot; &quot;</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="type">long</span> <span class="variable">prev</span> <span class="operator">=</span> parseTime(times[<span class="number">0</span>]);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="type">long</span> <span class="variable">current</span> <span class="operator">=</span> parseTime(times[i]);</span><br><span class="line">            <span class="type">long</span> <span class="variable">diff</span> <span class="operator">=</span> current - prev;</span><br><span class="line">            <span class="keyword">if</span> (diff &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                diff += <span class="number">24</span> * <span class="number">60</span> * <span class="number">60</span>; </span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">double</span> <span class="variable">circles</span> <span class="operator">=</span> diff / <span class="number">60.0</span>;</span><br><span class="line">            pw.printf(<span class="string">&quot;%.2f\n&quot;</span>, circles);</span><br><span class="line">            prev = current;</span><br><span class="line">        &#125;</span><br><span class="line">        pw.flush();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">long</span> <span class="title function_">parseTime</span><span class="params">(String time)</span> &#123;</span><br><span class="line">        String[] parts = time.split(<span class="string">&quot;:&quot;</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">hour</span> <span class="operator">=</span> Integer.parseInt(parts[<span class="number">0</span>]);</span><br><span class="line">        <span class="type">int</span> <span class="variable">minute</span> <span class="operator">=</span> Integer.parseInt(parts[<span class="number">1</span>]);</span><br><span class="line">        <span class="type">int</span> <span class="variable">second</span> <span class="operator">=</span> Integer.parseInt(parts[<span class="number">2</span>]);</span><br><span class="line">        <span class="keyword">return</span> hour * <span class="number">3600L</span> + minute * <span class="number">60L</span> + second;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="type">BufferedReader</span> <span class="variable">br</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(System.in));</span><br><span class="line">        String line;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span> ((line = br.readLine()) != <span class="literal">null</span>) &#123; <span class="comment">// é€è¡Œè¯»å–</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> Integer.parseInt(line.trim());</span><br><span class="line">            <span class="type">int</span>[] nums = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">            </span><br><span class="line">            String[] parts = br.readLine().split(<span class="string">&quot; &quot;</span>);</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">                nums[i] = Integer.parseInt(parts[i]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// å¤„ç†é€»è¾‘</span></span><br><span class="line">            <span class="comment">// è¾“å‡ºç»“æœ</span></span><br><span class="line">            System.out.println(result);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> scanner.next();</span><br><span class="line">        System.out.println(replaceNumber(s));</span><br><span class="line">        scanner.close();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>ç¬¬äºŒç§:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">    <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> scanner.next();</span><br><span class="line">    System.out.println(replaceNumber(s));</span><br><span class="line">    scanner.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="è¾“å…¥æ ¼å¼"><a href="#è¾“å…¥æ ¼å¼" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// ç¤ºä¾‹1: æ•°ç»„è¾“å…¥</span></span><br><span class="line">        <span class="type">int</span>[] nums = &#123;<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">4</span>&#125;;</span><br><span class="line">        <span class="type">int</span> <span class="variable">target</span> <span class="operator">=</span> <span class="number">5</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// ç¤ºä¾‹2: çŸ©é˜µ/äºŒç»´æ•°ç»„</span></span><br><span class="line">        <span class="type">int</span>[][] matrix = &#123;</span><br><span class="line">            &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;,</span><br><span class="line">            &#123;<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>&#125;,</span><br><span class="line">            &#123;<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>&#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// ç¤ºä¾‹3: é“¾è¡¨ï¼ˆéœ€è¦å…ˆå®šä¹‰ListNodeç±»ï¼‰</span></span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">head</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>(<span class="number">1</span>);</span><br><span class="line">        head.next = <span class="keyword">new</span> <span class="title class_">ListNode</span>(<span class="number">2</span>);</span><br><span class="line">        head.next.next = <span class="keyword">new</span> <span class="title class_">ListNode</span>(<span class="number">3</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// ç¤ºä¾‹4: å­—ç¬¦ä¸²</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> <span class="string">&quot;hello world&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">pattern</span> <span class="operator">=</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// è°ƒç”¨ä½ çš„ç®—æ³•å‡½æ•°</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> twoSum(nums, target);</span><br><span class="line">        System.out.println(<span class="string">&quot;ç»“æœ: &quot;</span> + result);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ä½ çš„ç®—æ³•å‡½æ•°</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">twoSum</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">        <span class="comment">// ç®—æ³•å®ç°...</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å­—ç¬¦ä¸²æ•°ç»„</span></span><br><span class="line">String[] words1 = &#123;<span class="string">&quot;hello&quot;</span>, <span class="string">&quot;world&quot;</span>, <span class="string">&quot;java&quot;</span>, <span class="string">&quot;algorithm&quot;</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é“¾è¡¨èŠ‚ç‚¹å®šä¹‰</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ListNode</span> &#123;</span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line">    ListNode next;</span><br><span class="line">    ListNode(<span class="type">int</span> x) &#123; val = x; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="æ‚é¡¹æ“ä½œ"><a href="#æ‚é¡¹æ“ä½œ" class="headerlink" title="æ‚é¡¹æ“ä½œ"></a>æ‚é¡¹æ“ä½œ</h2><p>ç»å¯¹å€¼:<br><code>Math.abs();</code><br>Intæœ€å¤§å€¼:<br><code>Integer.MAX_VALUE</code><br>å‰å¯¼é›¶:<br>Integer.numberOfLeadingZeros(k);</p>
<p>å–éšæœºå€¼ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.ThreadLocalRandom;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RandomDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">        <span class="comment">//0~9</span></span><br><span class="line">        <span class="comment">// æ–¹æ³•1: Math.random()</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">random1</span> <span class="operator">=</span> (<span class="type">int</span>) (Math.random() * n);</span><br><span class="line">        System.out.println(<span class="string">&quot;Math.random(): &quot;</span> + random1);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ–¹æ³•2: Randomç±»</span></span><br><span class="line">        <span class="type">Random</span> <span class="variable">rand</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>();</span><br><span class="line">        <span class="type">int</span> <span class="variable">random2</span> <span class="operator">=</span> rand.nextInt(n);</span><br><span class="line">        System.out.println(<span class="string">&quot;Random: &quot;</span> + random2);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ–¹æ³•3: ThreadLocalRandomï¼ˆå¤šçº¿ç¨‹å®‰å…¨ï¼‰</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">random3</span> <span class="operator">=</span> ThreadLocalRandom.current().nextInt(n);</span><br><span class="line">        System.out.println(<span class="string">&quot;ThreadLocalRandom: &quot;</span> + random3);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Array-å¸¸ç”¨æ“ä½œ"><a href="#Array-å¸¸ç”¨æ“ä½œ" class="headerlink" title="Array å¸¸ç”¨æ“ä½œ"></a>Array å¸¸ç”¨æ“ä½œ</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ========== æ•°ç»„å£°æ˜ä¸åˆå§‹åŒ– ==========</span></span><br><span class="line"><span class="type">int</span>[] arr = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">5</span>];              <span class="comment">// åˆ›å»ºç©ºæ•°ç»„ [0,0,0,0,0]</span></span><br><span class="line"><span class="type">int</span>[] nums = &#123;<span class="number">3</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">2</span>&#125;;            <span class="comment">// ç›´æ¥åˆå§‹åŒ–</span></span><br><span class="line">String[] strArr = &#123;<span class="string">&quot;A&quot;</span>, <span class="string">&quot;B&quot;</span>, <span class="string">&quot;C&quot;</span>&#125;;   <span class="comment">// å­—ç¬¦ä¸²æ•°ç»„</span></span><br><span class="line"><span class="type">int</span>[][] matrix = &#123;&#123;<span class="number">1</span>,<span class="number">2</span>&#125;, &#123;<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;&#125;;   <span class="comment">// äºŒç»´æ•°ç»„</span></span><br><span class="line"><span class="comment">// ========== åŸºæœ¬æ“ä½œ ==========</span></span><br><span class="line"><span class="comment">// è®¿é—®å…ƒç´ </span></span><br><span class="line"><span class="type">int</span> <span class="variable">first</span> <span class="operator">=</span> nums[<span class="number">0</span>];                </span><br><span class="line">nums[<span class="number">2</span>] = <span class="number">9</span>;                        </span><br><span class="line"><span class="comment">// è·å–é•¿åº¦</span></span><br><span class="line"><span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> nums.length;                <span class="comment">// ä¸€ç»´æ•°ç»„é•¿åº¦ â†’ 5</span></span><br><span class="line"><span class="type">int</span> <span class="variable">cols</span> <span class="operator">=</span> matrix[<span class="number">1</span>].length;          <span class="comment">// äºŒç»´æ•°ç»„ç¬¬äºŒç»´é•¿åº¦ â†’ 3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ========== éå†æ“ä½œ ==========</span></span><br><span class="line"><span class="comment">// æ™®é€šforå¾ªç¯</span></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i&lt;nums.length; i++) &#123;</span><br><span class="line">    System.out.print(nums[i] + <span class="string">&quot; &quot;</span>); <span class="comment">// 3 1 9 5 2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å¢å¼ºforå¾ªç¯</span></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> num : nums) &#123;</span><br><span class="line">    System.out.print(num + <span class="string">&quot; &quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// äºŒç»´æ•°ç»„éå†</span></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span>[] row : matrix) &#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> n : row) &#123;</span><br><span class="line">        System.out.print(n + <span class="string">&quot; &quot;</span>);   <span class="comment">// 1 2 / 3 4 5</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æ•°ç»„å·¥å…·æ“ä½œ</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ========== æ•°ç»„å·¥å…·æ“ä½œ ==========</span></span><br><span class="line"><span class="comment">// ========== æ’åºæ“ä½œ ==========</span></span><br><span class="line"><span class="comment">//å‡åºæ’åº</span></span><br><span class="line">Arrays.sort(array);</span><br><span class="line"><span class="comment">//é™åºæ’åº</span></span><br><span class="line">Arrays.sort(Collections.reverseOrder());</span><br><span class="line"><span class="comment">//è‡ªå®šä¹‰æ’åº</span></span><br><span class="line">Arrays.sort(array, (a, b) -&gt; a - b); <span class="comment">//å‡åº</span></span><br><span class="line">Arrays.sort(array, (a, b) -&gt; b - a); <span class="comment">//é™åº</span></span><br><span class="line"><span class="comment">// å¤åˆ¶</span></span><br><span class="line"><span class="type">int</span>[] copy1 = Arrays.copyOf(nums, <span class="number">3</span>); <span class="comment">// å¤åˆ¶å‰3å…ƒç´  â†’ [1,2,3]</span></span><br><span class="line"><span class="type">int</span>[] copy2 = Arrays.copyOfRange(nums, <span class="number">1</span>, <span class="number">4</span>); <span class="comment">// å¤åˆ¶1-3ç´¢å¼• â†’ [2,3,5]</span></span><br><span class="line"><span class="comment">// æ¯”è¾ƒ</span></span><br><span class="line"><span class="type">boolean</span> <span class="variable">isEqual</span> <span class="operator">=</span> Arrays.equals(nums, copy1); <span class="comment">// false</span></span><br><span class="line"><span class="comment">// å¡«å……</span></span><br><span class="line">Arrays.fill(nums, <span class="number">0</span>);                <span class="comment">// å…¨éƒ¨å¡«å……0 â†’ [0,0,0,0,0]</span></span><br><span class="line">Arrays.fill(nums, <span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>);          <span class="comment">// ç´¢å¼•1-2å¡«å……5 â†’ [0,5,5,0,0]</span></span><br><span class="line"><span class="comment">// ========== ç±»å‹è½¬æ¢ ==========</span></span><br><span class="line"><span class="comment">// æ•°ç»„è½¬Listï¼ˆå›ºå®šå¤§å°ï¼‰</span></span><br><span class="line">List&lt;Integer&gt; list = Arrays.asList(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>); </span><br><span class="line"><span class="comment">// æ•°ç»„è½¬Stream</span></span><br><span class="line"><span class="type">IntStream</span> <span class="variable">stream</span> <span class="operator">=</span> Arrays.stream(nums);</span><br><span class="line"><span class="comment">// ========== å…¶ä»–æ“ä½œ ==========</span></span><br><span class="line"><span class="comment">// äºŒåˆ†æŸ¥æ‰¾ï¼ˆéœ€å…ˆæ’åºï¼‰</span></span><br><span class="line"><span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> Arrays.binarySearch(nums, <span class="number">5</span>);  <span class="comment">// è¿”å›å…ƒç´ ç´¢å¼•</span></span><br><span class="line"><span class="comment">// å¤šç»´æ•°ç»„æ“ä½œ</span></span><br><span class="line"><span class="type">int</span>[][] matrixCopy = Arrays.copyOf(matrix, matrix.length); <span class="comment">// æµ…æ‹·è´</span></span><br><span class="line"><span class="type">String</span> <span class="variable">deepStr</span> <span class="operator">=</span> Arrays.deepToString(matrix); <span class="comment">// &quot;[[1, 2], [3, 4, 5]]&quot;</span></span><br><span class="line"><span class="comment">// åè½¬æ•°ç»„</span></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i&lt;nums.length/<span class="number">2</span>; i++) &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> nums[i];</span><br><span class="line">    nums[i] = nums[nums.length-<span class="number">1</span>-i];</span><br><span class="line">    nums[nums.length-<span class="number">1</span>-i] = temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æ•°ç»„å¸¦ç€ç´¢å¼•æ’åº</strong><br><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/find-subsequence-of-length-k-with-the-largest-sum?envType=daily-question&envId=2025-06-28">ä¾‹é¢˜</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span>[] maxSubsequence(<span class="type">int</span>[] nums, <span class="type">int</span> k) &#123;</span><br><span class="line">    <span class="type">int</span> n=nums.length;</span><br><span class="line">    <span class="type">int</span> ans[]=<span class="keyword">new</span> <span class="title class_">int</span>[k];</span><br><span class="line">    Integer idx[]=<span class="keyword">new</span> <span class="title class_">Integer</span>[n];</span><br><span class="line">    Arrays.setAll(idx, i-&gt;i);</span><br><span class="line">    Arrays.sort(idx,(a,b)-&gt;nums[a]-nums[b]);</span><br><span class="line">    <span class="type">int</span> j=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=n-k;i&lt;n;i++) &#123;</span><br><span class="line">        ans[j++]=idx[i];</span><br><span class="line">    &#125;</span><br><span class="line">    Arrays.sort(ans);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;k;i++) &#123;</span><br><span class="line">        ans[i]=nums[ans[i]];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>å’Œ int æ•°ç»„ç›¸äº’è½¬æ¢ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Integer[] arr = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br><span class="line">ArrayList&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(Arrays.asList(arr));</span><br><span class="line">ArrayList&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">Integer[] arr = list.toArray(<span class="keyword">new</span> <span class="title class_">Integer</span>[<span class="number">0</span>]);</span><br><span class="line"><span class="comment">//ä½†æ˜¯å¦‚ä½•è½¬æˆint[]æ•°ç»„å‘¢</span></span><br><span class="line"><span class="comment">//æ–¹æ³•1 </span></span><br><span class="line">arr = list.stream().mapToInt(Integer::valueOf).toArray();</span><br></pre></td></tr></table></figure>

<h2 id="List-å¸¸ç”¨æ“ä½œ"><a href="#List-å¸¸ç”¨æ“ä½œ" class="headerlink" title="List å¸¸ç”¨æ“ä½œ"></a>List å¸¸ç”¨æ“ä½œ</h2><p><strong>åˆå§‹åŒ–</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ====================== 1. åˆå§‹åŒ– List ======================</span></span><br><span class="line">List&lt;String&gt; arrayList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();   <span class="comment">// å¯ä¿®æ”¹åˆ—è¡¨</span></span><br><span class="line">List&lt;Integer&gt; linkedList = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;(); </span><br><span class="line">List&lt;String&gt; immutableList = List.of(<span class="string">&quot;A&quot;</span>, <span class="string">&quot;B&quot;</span>, <span class="string">&quot;C&quot;</span>);  <span class="comment">// Java9+ ä¸å¯å˜åˆ—è¡¨</span></span><br></pre></td></tr></table></figure>
<p><strong>å¢åˆ æ”¹æŸ¥</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ====================== 2. æ·»åŠ å…ƒç´  ======================</span></span><br><span class="line">arrayList.add(<span class="string">&quot;Apple&quot;</span>);       <span class="comment">// æœ«å°¾æ·»åŠ </span></span><br><span class="line">arrayList.add(<span class="number">0</span>, <span class="string">&quot;Banana&quot;</span>);   <span class="comment">// ç´¢å¼•0æ’å…¥</span></span><br><span class="line">arrayList.addAll(List.of(<span class="string">&quot;Orange&quot;</span>, <span class="string">&quot;Grape&quot;</span>));  <span class="comment">// æ‰¹é‡æ·»åŠ </span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ====================== 3. è®¿é—®å…ƒç´  ======================</span></span><br><span class="line"><span class="type">String</span> <span class="variable">firstElement</span> <span class="operator">=</span> arrayList.get(<span class="number">0</span>);               <span class="comment">// &quot;Banana&quot;</span></span><br><span class="line"><span class="type">boolean</span> <span class="variable">containsApple</span> <span class="operator">=</span> arrayList.contains(<span class="string">&quot;Apple&quot;</span>);  <span class="comment">// true</span></span><br><span class="line"><span class="type">int</span> <span class="variable">indexOfOrange</span> <span class="operator">=</span> arrayList.indexOf(<span class="string">&quot;Orange&quot;</span>);      <span class="comment">// 2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ====================== 4. åˆ é™¤å…ƒç´  ======================</span></span><br><span class="line">arrayList.remove(<span class="string">&quot;Banana&quot;</span>);    <span class="comment">// æŒ‰å€¼åˆ é™¤</span></span><br><span class="line">arrayList.remove(<span class="number">0</span>);          <span class="comment">// æŒ‰ç´¢å¼•åˆ é™¤</span></span><br><span class="line">arrayList.clear();            <span class="comment">// æ¸…ç©ºåˆ—è¡¨</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ====================== 5. ä¿®æ”¹å…ƒç´  ======================</span></span><br><span class="line">arrayList.add(<span class="string">&quot;Mango&quot;</span>);</span><br><span class="line">arrayList.set(<span class="number">0</span>, <span class="string">&quot;Pineapple&quot;</span>);  <span class="comment">// ä¿®æ”¹ç´¢å¼•0çš„å…ƒç´ </span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ====================== 6. éå† List ======================</span></span><br><span class="line">Collections.sort(path); <span class="comment">// ç›´æ¥ä¿®æ”¹åŸList</span></span><br><span class="line">Collections.sort(path, Collections.reverseOrder()); <span class="comment">// é™åºæ’åº</span></span><br><span class="line"><span class="comment">// æ–¹å¼1: æ™®é€šforå¾ªç¯</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; arrayList.size(); i++) &#123;</span><br><span class="line">    System.out.println(arrayList.get(i));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ–¹å¼2: å¢å¼ºforå¾ªç¯</span></span><br><span class="line"><span class="keyword">for</span> (String fruit : arrayList) &#123;</span><br><span class="line">    System.out.println(fruit);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ–¹å¼3: è¿­ä»£å™¨</span></span><br><span class="line">Iterator&lt;String&gt; it = arrayList.iterator();</span><br><span class="line"><span class="keyword">while</span> (it.hasNext()) &#123;</span><br><span class="line">    System.out.println(it.next());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ–¹å¼4: forEach + Lambda</span></span><br><span class="line">arrayList.forEach(System.out::println);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>å…¶ä»–æ“ä½œ</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// ====================== 7. å…¶ä»–æ“ä½œ ======================</span></span><br><span class="line"><span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> arrayList.size();                     <span class="comment">// åˆ—è¡¨é•¿åº¦</span></span><br><span class="line"><span class="type">boolean</span> <span class="variable">isEmpty</span> <span class="operator">=</span> arrayList.isEmpty();           <span class="comment">// æ˜¯å¦ä¸ºç©º</span></span><br><span class="line">List&lt;String&gt; subList = arrayList.subList(<span class="number">0</span>, <span class="number">2</span>);  <span class="comment">// æˆªå–å­åˆ—è¡¨</span></span><br><span class="line">Object[] array = arrayList.toArray();            <span class="comment">// è½¬ä¸ºæ•°ç»„</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ====================== 8. æ³¨æ„äº‹é¡¹ ======================</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">1. ArrayListåˆå§‹å®¹é‡10ï¼Œæ‰©å®¹1.5å€ </span></span><br><span class="line"><span class="comment">2. LinkedListç”¨èŠ‚ç‚¹é“¾æ¥å®ç°</span></span><br><span class="line"><span class="comment">3. çº¿ç¨‹ä¸å®‰å…¨ï¼Œå¤šçº¿ç¨‹ç¯å¢ƒä½¿ç”¨ï¼š</span></span><br><span class="line"><span class="comment">List&lt;String&gt; syncList = Collections.synchronizedList(new ArrayList&lt;&gt;());</span></span><br><span class="line"><span class="comment">4. å¿«é€Ÿå¤±è´¥æœºåˆ¶(fast-fail)ï¼šéå†æ—¶ä¿®æ”¹ä¼šæŠ›å‡ºConcurrentModificationException</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<p><strong>äºŒç»´Listä¾‹å­</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TwoDListExample</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// ======================</span></span><br><span class="line">        <span class="comment">// 1. åˆ›å»ºäºŒç»´List</span></span><br><span class="line">        <span class="comment">// ======================</span></span><br><span class="line">        List&lt;Integer&gt;[] ls = <span class="keyword">new</span> <span class="title class_">ArrayList</span>[<span class="number">26</span>];</span><br><span class="line">        Arrays.setAll(ls,i-&gt;<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;());</span><br><span class="line">        <span class="comment">// æ–¹æ³•1: ä½¿ç”¨Arrays.asList()åˆå§‹åŒ–</span></span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt; matrix1 = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        matrix1.add(Arrays.asList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>));</span><br><span class="line">        matrix1.add(Arrays.asList(<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>));</span><br><span class="line">        matrix1.add(Arrays.asList(<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>));</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// æ–¹æ³•2: åŠ¨æ€åˆ›å»ºç©ºäºŒç»´List</span></span><br><span class="line">        List&lt;List&lt;String&gt;&gt; matrix2 = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// æ–¹æ³•3: ä½¿ç”¨åµŒå¥—å¾ªç¯åˆå§‹åŒ–</span></span><br><span class="line">        List&lt;List&lt;Character&gt;&gt; matrix3 = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">            List&lt;Character&gt; row = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; <span class="number">4</span>; j++) &#123;</span><br><span class="line">                row.add((<span class="type">char</span>) (<span class="string">&#x27;A&#x27;</span> + i + j));</span><br><span class="line">            &#125;</span><br><span class="line">            matrix3.add(row);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// ======================</span></span><br><span class="line">        <span class="comment">// 2. æ·»åŠ å…ƒç´ </span></span><br><span class="line">        <span class="comment">// ======================</span></span><br><span class="line">        <span class="comment">// æ·»åŠ æ–°è¡Œ</span></span><br><span class="line">        matrix2.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(Arrays.asList(<span class="string">&quot;Java&quot;</span>, <span class="string">&quot;Python&quot;</span>)));</span><br><span class="line">        matrix2.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(Arrays.asList(<span class="string">&quot;C++&quot;</span>, <span class="string">&quot;JavaScript&quot;</span>)));</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// åœ¨æŒ‡å®šè¡Œæ·»åŠ å…ƒç´ </span></span><br><span class="line">        matrix2.get(<span class="number">0</span>).add(<span class="string">&quot;Ruby&quot;</span>);      <span class="comment">// ç¬¬ä¸€è¡Œæ·»åŠ å…ƒç´ </span></span><br><span class="line">        matrix2.get(<span class="number">1</span>).add(<span class="number">0</span>, <span class="string">&quot;Go&quot;</span>);     <span class="comment">// ç¬¬äºŒè¡Œå¼€å¤´æ’å…¥å…ƒç´ </span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">// æ·»åŠ æ–°è¡Œï¼ˆç©ºè¡Œï¼‰</span></span><br><span class="line">        matrix2.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;());</span><br><span class="line">        matrix2.get(<span class="number">2</span>).add(<span class="string">&quot;Swift&quot;</span>);     <span class="comment">// ç»™æ–°è¡Œæ·»åŠ å…ƒç´ </span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// ======================</span></span><br><span class="line">        <span class="comment">// 3. è®¿é—®å…ƒç´ </span></span><br><span class="line">        <span class="comment">// ======================</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">// è®¿é—®å•ä¸ªå…ƒç´ </span></span><br><span class="line">        <span class="type">int</span> <span class="variable">element</span> <span class="operator">=</span> matrix1.get(<span class="number">1</span>).get(<span class="number">2</span>);  <span class="comment">// è·å–ç¬¬äºŒè¡Œç¬¬ä¸‰åˆ—å…ƒç´  â†’ 6</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">lang</span> <span class="operator">=</span> matrix2.get(<span class="number">0</span>).get(<span class="number">1</span>);  <span class="comment">// è·å–ç¬¬ä¸€è¡Œç¬¬äºŒåˆ—å…ƒç´  â†’ &quot;Python&quot;</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">// è·å–è¡Œæ•°</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">rows</span> <span class="operator">=</span> matrix1.size();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// è·å–åˆ—æ•°ï¼ˆç‰¹å®šè¡Œï¼‰</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">colsRow0</span> <span class="operator">=</span> matrix1.get(<span class="number">0</span>).size();</span><br><span class="line">        <span class="type">int</span> <span class="variable">colsRow2</span> <span class="operator">=</span> matrix2.get(<span class="number">2</span>).size();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ======================</span></span><br><span class="line">        <span class="comment">// 4. ä¿®æ”¹å…ƒç´ </span></span><br><span class="line">        <span class="comment">// ======================</span></span><br><span class="line">        </span><br><span class="line">        matrix1.get(<span class="number">0</span>).set(<span class="number">0</span>, <span class="number">100</span>);     <span class="comment">// ä¿®æ”¹ç¬¬ä¸€è¡Œç¬¬ä¸€åˆ—: 1 â†’ 100</span></span><br><span class="line">        matrix2.get(<span class="number">1</span>).set(<span class="number">2</span>, <span class="string">&quot;TypeScript&quot;</span>); <span class="comment">// ä¿®æ”¹ç¬¬äºŒè¡Œç¬¬ä¸‰åˆ—</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// ======================</span></span><br><span class="line">        <span class="comment">// 5. åˆ é™¤å…ƒç´ </span></span><br><span class="line">        <span class="comment">// ======================</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">// åˆ é™¤æŒ‡å®šä½ç½®çš„å…ƒç´ </span></span><br><span class="line">        matrix1.get(<span class="number">2</span>).remove(<span class="number">1</span>);       <span class="comment">// åˆ é™¤ç¬¬ä¸‰è¡Œç¬¬äºŒåˆ—å…ƒç´ (8)</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">// åˆ é™¤æ•´è¡Œ</span></span><br><span class="line">        matrix2.remove(<span class="number">2</span>);              <span class="comment">// åˆ é™¤ç¬¬ä¸‰è¡Œ</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// ======================</span></span><br><span class="line">        <span class="comment">// 6. éå†äºŒç»´List</span></span><br><span class="line">        <span class="comment">// ======================</span></span><br><span class="line">        </span><br><span class="line">        System.out.println(<span class="string">&quot;\néå†matrix1:&quot;</span>);</span><br><span class="line">        <span class="comment">// æ–¹æ³•1: ç´¢å¼•éå†</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; matrix1.size(); i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; matrix1.get(i).size(); j++) &#123;</span><br><span class="line">                System.out.print(matrix1.get(i).get(j) + <span class="string">&quot; &quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println();</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        System.out.println(<span class="string">&quot;\néå†matrix2:&quot;</span>);</span><br><span class="line">        <span class="comment">// æ–¹æ³•2: å¢å¼ºforå¾ªç¯</span></span><br><span class="line">        <span class="keyword">for</span> (List&lt;String&gt; row : matrix2) &#123;</span><br><span class="line">            <span class="keyword">for</span> (String item : row) &#123;</span><br><span class="line">                System.out.print(item + <span class="string">&quot; &quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println();</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        System.out.println(<span class="string">&quot;\néå†matrix3:&quot;</span>);</span><br><span class="line">        <span class="comment">// æ–¹æ³•3: ä½¿ç”¨forEach + lambda</span></span><br><span class="line">        matrix3.forEach(row -&gt; &#123;</span><br><span class="line">            row.forEach(item -&gt; System.out.print(item + <span class="string">&quot; &quot;</span>));</span><br><span class="line">            System.out.println();</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ======================</span></span><br><span class="line">        <span class="comment">// 7. å…¶ä»–å¸¸ç”¨æ“ä½œ</span></span><br><span class="line">        <span class="comment">// ======================</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">// æ£€æŸ¥æ˜¯å¦ä¸ºç©º</span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">isEmpty</span> <span class="operator">=</span> matrix2.isEmpty();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// æ£€æŸ¥æ˜¯å¦åŒ…å«å…ƒç´ </span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">containsPython</span> <span class="operator">=</span> matrix2.get(<span class="number">0</span>).contains(<span class="string">&quot;Python&quot;</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// æŸ¥æ‰¾å…ƒç´ ä½ç½®</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">rowIndex</span> <span class="operator">=</span> -<span class="number">1</span>, colIndex = -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; matrix1.size(); i++) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> matrix1.get(i).indexOf(<span class="number">5</span>);</span><br><span class="line">            <span class="keyword">if</span> (index != -<span class="number">1</span>) &#123;</span><br><span class="line">                rowIndex = i;</span><br><span class="line">                colIndex = index;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// è½¬æ¢ä¸ºäºŒç»´æ•°ç»„</span></span><br><span class="line">        String[][] array2D = <span class="keyword">new</span> <span class="title class_">String</span>[matrix2.size()][];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; matrix2.size(); i++) &#123;</span><br><span class="line">            List&lt;String&gt; row = matrix2.get(i);</span><br><span class="line">            array2D[i] = row.toArray(<span class="keyword">new</span> <span class="title class_">String</span>[<span class="number">0</span>]);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">////ç¿»è½¬è¡Œ</span></span><br><span class="line">        <span class="comment">//æ–¹æ³•1 ä½¿ç”¨å·¥å…·ç±»</span></span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt; matrix = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">// å‡è®¾ matrix å·²ç»å¡«å……æ•°æ®</span></span><br><span class="line">        <span class="comment">// ç¿»è½¬è¡Œï¼ˆé¦–è¡Œå˜æœ«è¡Œï¼Œæ¬¡è¡Œå˜æ¬¡æœ«è¡Œï¼Œä¾æ­¤ç±»æ¨ï¼‰</span></span><br><span class="line">        Collections.reverse(matrix);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ–¹æ³•2</span></span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt; matrix = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">// å‡è®¾ matrix å·²ç»å¡«å……æ•°æ®</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> matrix.size() - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">            <span class="comment">// ä½¿ç”¨ä¸´æ—¶è¡Œ temp äº¤æ¢å·¦å³ä¸¤è¡Œ</span></span><br><span class="line">            List&lt;Integer&gt; temp = matrix.get(left);</span><br><span class="line">            matrix.set(left, matrix.get(right));</span><br><span class="line">            matrix.set(right, temp);</span><br><span class="line">            left++;</span><br><span class="line">            right--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//æ–¹æ³•3 Stream</span></span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt; matrix = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">// å‡è®¾ matrix å·²ç»å¡«å……æ•°æ®</span></span><br><span class="line">        <span class="comment">// ç¿»è½¬è¡Œé¡ºåº</span></span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt; reversed = IntStream.range(<span class="number">0</span>, matrix.size())</span><br><span class="line">            .mapToObj(i -&gt; matrix.get(matrix.size() - <span class="number">1</span> - i))</span><br><span class="line">            .collect(Collectors.toList());</span><br><span class="line"></span><br><span class="line">        matrix = reversed; <span class="comment">// å¦‚æœéœ€è¦åŸåœ°ç¿»è½¬ï¼Œéœ€é‡æ–°èµ‹å€¼</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ‰“å°ç»“æœ</span></span><br><span class="line">        System.out.println(<span class="string">&quot;\nmatrix1: &quot;</span> + matrix1);</span><br><span class="line">        System.out.println(<span class="string">&quot;matrix2: &quot;</span> + matrix2);</span><br><span class="line">        System.out.println(<span class="string">&quot;matrix3: &quot;</span> + matrix3);</span><br><span class="line">        System.out.println(<span class="string">&quot;æ‰¾åˆ°æ•°å­—5çš„ä½ç½®: [&quot;</span> + rowIndex + <span class="string">&quot;][&quot;</span> + colIndex + <span class="string">&quot;]&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="HashSet-å¸¸ç”¨æ“ä½œ"><a href="#HashSet-å¸¸ç”¨æ“ä½œ" class="headerlink" title="HashSet å¸¸ç”¨æ“ä½œ"></a>HashSet å¸¸ç”¨æ“ä½œ</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// =================== HashSet åŸºç¡€æ“ä½œ ===================</span></span><br><span class="line"><span class="keyword">import</span> java.util.Collections;</span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºå¯¹è±¡</span></span><br><span class="line">Set&lt;String&gt; set = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();       <span class="comment">// ç©ºé›†åˆï¼ˆé»˜è®¤åˆå§‹å®¹é‡16ï¼Œè´Ÿè½½å› å­0.75ï¼‰</span></span><br><span class="line">Set&lt;Integer&gt; initSet = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;(<span class="number">32</span>); <span class="comment">// æŒ‡å®šåˆå§‹å®¹é‡</span></span><br><span class="line">Set&lt;String&gt; prefilled = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;(Arrays.asList(<span class="string">&quot;A&quot;</span>, <span class="string">&quot;B&quot;</span>, <span class="string">&quot;C&quot;</span>)); <span class="comment">// é€šè¿‡é›†åˆåˆå§‹åŒ–</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å…ƒç´ æ“ä½œ</span></span><br><span class="line"><span class="type">boolean</span> <span class="variable">added</span> <span class="operator">=</span> set.add(<span class="string">&quot;Apple&quot;</span>);        <span class="comment">// æ·»åŠ å…ƒç´  â†’ trueï¼ˆé¦–æ¬¡æ·»åŠ ï¼‰</span></span><br><span class="line"><span class="type">boolean</span> <span class="variable">dupAdd</span> <span class="operator">=</span> set.add(<span class="string">&quot;Apple&quot;</span>);       <span class="comment">// æ·»åŠ é‡å¤å…ƒç´  â†’ false</span></span><br><span class="line"><span class="type">boolean</span> <span class="variable">hasBanana</span> <span class="operator">=</span> set.contains(<span class="string">&quot;Apple&quot;</span>); <span class="comment">// æ£€æŸ¥å­˜åœ¨ â†’ true</span></span><br><span class="line"><span class="type">boolean</span> <span class="variable">removed</span> <span class="operator">=</span> set.remove(<span class="string">&quot;Apple&quot;</span>);   <span class="comment">// åˆ é™¤å…ƒç´  â†’ trueï¼ˆå­˜åœ¨æ—¶ï¼‰</span></span><br><span class="line">set.clear();                             <span class="comment">// æ¸…ç©ºé›†åˆ</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰¹é‡æ“ä½œ</span></span><br><span class="line">Set&lt;String&gt; fruits = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;(Arrays.asList(<span class="string">&quot;Orange&quot;</span>, <span class="string">&quot;Mango&quot;</span>));</span><br><span class="line"><span class="type">boolean</span> <span class="variable">addedAll</span> <span class="operator">=</span> set.addAll(fruits);   <span class="comment">// åˆå¹¶é›†åˆ â†’ trueï¼ˆé›†åˆæ”¹å˜æ—¶ï¼‰</span></span><br><span class="line"><span class="type">boolean</span> <span class="variable">retainAll</span> <span class="operator">=</span> set.retainAll(Arrays.asList(<span class="string">&quot;Mango&quot;</span>)); <span class="comment">// ä¿ç•™äº¤é›† â†’ trueï¼ˆé›†åˆæ”¹å˜æ—¶ï¼‰</span></span><br><span class="line"><span class="type">boolean</span> <span class="variable">removeAll</span> <span class="operator">=</span> set.removeAll(fruits); <span class="comment">// åˆ é™¤æ‰€æœ‰åŒ¹é…å…ƒç´  â†’ trueï¼ˆé›†åˆæ”¹å˜æ—¶ï¼‰</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// éå†æ“ä½œ</span></span><br><span class="line">set.add(<span class="string">&quot;Apple&quot;</span>);</span><br><span class="line">set.add(<span class="string">&quot;Banana&quot;</span>);</span><br><span class="line"><span class="keyword">for</span> (String item : set) &#123;                <span class="comment">// å¢å¼ºforå¾ªç¯ï¼ˆæ— åºï¼‰</span></span><br><span class="line">    System.out.print(item + <span class="string">&quot; &quot;</span>);        <span class="comment">// è¾“å‡ºé¡ºåºä¸ç¡®å®šï¼ˆå¦‚ &quot;Banana Apple&quot;ï¼‰</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Iterator&lt;String&gt; it = set.iterator();    <span class="comment">// è¿­ä»£å™¨éå†</span></span><br><span class="line"><span class="keyword">while</span> (it.hasNext()) &#123;</span><br><span class="line">    System.out.print(it.next() + <span class="string">&quot; &quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">set.forEach(item -&gt; System.out.print(item)); <span class="comment">// Java8+ Lambdaéå†</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// é›†åˆä¿¡æ¯</span></span><br><span class="line"><span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> set.size();                   <span class="comment">// å…ƒç´ æ•°é‡ï¼ˆå¦‚ 2ï¼‰</span></span><br><span class="line"><span class="type">boolean</span> <span class="variable">isEmpty</span> <span class="operator">=</span> set.isEmpty();          <span class="comment">// æ˜¯å¦ç©ºé›†åˆ â†’ false</span></span><br><span class="line">Object[] array = set.toArray();          <span class="comment">// è½¬Objectæ•°ç»„</span></span><br><span class="line">String[] strArray = set.toArray(<span class="keyword">new</span> <span class="title class_">String</span>[<span class="number">0</span>]); <span class="comment">// è½¬æŒ‡å®šç±»å‹æ•°ç»„</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç‰¹æ®Šæ“ä½œ</span></span><br><span class="line">Set&lt;String&gt; cloneSet = (HashSet&lt;String&gt;) ((HashSet&lt;String&gt;) set).clone(); <span class="comment">// æµ…æ‹·è´</span></span><br><span class="line">Set&lt;String&gt; syncSet = Collections.synchronizedSet(set); <span class="comment">// çº¿ç¨‹å®‰å…¨åŒ…è£…</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// é›†åˆè¿ç®—ç¤ºä¾‹</span></span><br><span class="line">Set&lt;String&gt; set1 = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;(Arrays.asList(<span class="string">&quot;A&quot;</span>, <span class="string">&quot;B&quot;</span>));</span><br><span class="line">Set&lt;String&gt; set2 = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;(Arrays.asList(<span class="string">&quot;B&quot;</span>, <span class="string">&quot;C&quot;</span>));</span><br><span class="line"></span><br><span class="line">Set&lt;String&gt; union = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;(set1);  <span class="comment">// å¹¶é›† â†’ [A, B, C]</span></span><br><span class="line">union.addAll(set2);</span><br><span class="line"></span><br><span class="line">Set&lt;String&gt; intersection = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;(set1); <span class="comment">// äº¤é›† â†’ [B]</span></span><br><span class="line">intersection.retainAll(set2);</span><br><span class="line"></span><br><span class="line">Set&lt;String&gt; difference = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;(set1);   <span class="comment">// å·®é›† â†’ [A]</span></span><br><span class="line">difference.removeAll(set2);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ ¸å¿ƒç‰¹æ€§ï¼š</span></span><br><span class="line"><span class="comment">1. å”¯ä¸€æ€§ï¼šåŸºäº hashCode() å’Œ equals() åˆ¤æ–­é‡å¤</span></span><br><span class="line"><span class="comment">2. æ— åºæ€§ï¼šéå†é¡ºåºä¸ä¿è¯ä¸æ’å…¥é¡ºåºä¸€è‡´</span></span><br><span class="line"><span class="comment">3. å…è®¸ null å…ƒç´ ï¼ˆä½†åªèƒ½æœ‰ä¸€ä¸ª nullï¼‰</span></span><br><span class="line"><span class="comment">4. åŸºç¡€æ“ä½œæ—¶é—´å¤æ‚åº¦ï¼šadd/remove/contains â†’ å¹³å‡ O(1)</span></span><br><span class="line"><span class="comment">5. éçº¿ç¨‹å®‰å…¨ï¼šéœ€é€šè¿‡ Collections.synchronizedSet åŒ…è£…å®ç°çº¿ç¨‹å®‰å…¨</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h2 id="HashMap-å¸¸ç”¨æ“ä½œ"><a href="#HashMap-å¸¸ç”¨æ“ä½œ" class="headerlink" title="HashMap å¸¸ç”¨æ“ä½œ"></a>HashMap å¸¸ç”¨æ“ä½œ</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// =================== HashMap åŸºç¡€æ“ä½œ ===================</span></span><br><span class="line"><span class="keyword">import</span> java.util.Collections;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºå¯¹è±¡</span></span><br><span class="line">Map&lt;String, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();         <span class="comment">// é»˜è®¤å®¹é‡16ï¼Œè´Ÿè½½å› å­0.75</span></span><br><span class="line">Map&lt;String, String&gt; initMap = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;(<span class="number">32</span>);    <span class="comment">// æŒ‡å®šåˆå§‹å®¹é‡</span></span><br><span class="line">Map&lt;String, Integer&gt; prefilled = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;(Map.of(<span class="string">&quot;A&quot;</span>, <span class="number">1</span>, <span class="string">&quot;B&quot;</span>, <span class="number">2</span>)); <span class="comment">// Java9+å¿«é€Ÿåˆå§‹åŒ–</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¢åˆ æ”¹æ“ä½œ</span></span><br><span class="line">map.put(<span class="string">&quot;Apple&quot;</span>, <span class="number">10</span>);              <span class="comment">// æ·»åŠ é”®å€¼å¯¹ â†’ &#123;Apple=10&#125;</span></span><br><span class="line">map.put(<span class="string">&quot;Banana&quot;</span>, <span class="number">20</span>);             <span class="comment">// â†’ &#123;Apple=10, Banana=20&#125;</span></span><br><span class="line">map.putIfAbsent(<span class="string">&quot;Apple&quot;</span>, <span class="number">50</span>);      <span class="comment">// ä»…å½“é”®ä¸å­˜åœ¨æ—¶æ·»åŠ  â†’ åŸå€¼10ä¿æŒä¸å˜</span></span><br><span class="line">map.replace(<span class="string">&quot;Apple&quot;</span>, <span class="number">15</span>);          <span class="comment">// æ›¿æ¢å·²æœ‰é”®çš„å€¼ â†’ &#123;Apple=15, Banana=20&#125;</span></span><br><span class="line">map.remove(<span class="string">&quot;Banana&quot;</span>);              <span class="comment">// åˆ é™¤é”® â†’ &#123;Apple=15&#125;</span></span><br><span class="line">map.replace(<span class="string">&quot;Apple&quot;</span>, <span class="number">15</span>, <span class="number">20</span>);      <span class="comment">// é”®å€¼åŒ¹é…æ—¶æ›¿æ¢ â†’ &#123;Apple=20&#125;</span></span><br><span class="line">map.clear();                       <span class="comment">// æ¸…ç©ºæ˜ å°„</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æŸ¥è¯¢æ“ä½œ</span></span><br><span class="line"><span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> map.get(<span class="string">&quot;Apple&quot;</span>);       <span class="comment">// è·å–å€¼ï¼ˆéœ€ç¡®ä¿é”®å­˜åœ¨ï¼‰</span></span><br><span class="line"><span class="type">Integer</span> <span class="variable">countSafe</span> <span class="operator">=</span> map.get(<span class="string">&quot;Orange&quot;</span>); <span class="comment">// é”®ä¸å­˜åœ¨æ—¶è¿”å›null</span></span><br><span class="line"><span class="type">boolean</span> <span class="variable">existsKey</span> <span class="operator">=</span> map.containsKey(<span class="string">&quot;Apple&quot;</span>); <span class="comment">// æ£€æŸ¥é”®æ˜¯å¦å­˜åœ¨ â†’ true</span></span><br><span class="line"><span class="type">boolean</span> <span class="variable">existsValue</span> <span class="operator">=</span> map.containsValue(<span class="number">20</span>); <span class="comment">// æ£€æŸ¥å€¼æ˜¯å¦å­˜åœ¨ â†’ true</span></span><br><span class="line"><span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> map.size();             <span class="comment">// é”®å€¼å¯¹æ•°é‡</span></span><br><span class="line"><span class="type">boolean</span> <span class="variable">isEmpty</span> <span class="operator">=</span> map.isEmpty();   <span class="comment">// æ˜¯å¦ä¸ºç©ºæ˜ å°„</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// éå†æ“ä½œï¼ˆ4ç§æ–¹å¼ï¼‰</span></span><br><span class="line"><span class="comment">// 1. Entryéå†ï¼ˆæ¨èï¼‰</span></span><br><span class="line"><span class="keyword">for</span> (Map.Entry&lt;String, Integer&gt; entry : map.entrySet()) &#123;</span><br><span class="line">    System.out.println(entry.getKey() + <span class="string">&quot;: &quot;</span> + entry.getValue());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. Keyéå†</span></span><br><span class="line"><span class="keyword">for</span> (String key : map.keySet()) &#123;</span><br><span class="line">    System.out.println(key + <span class="string">&quot; -&gt; &quot;</span> + map.get(key));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. Valueéå†</span></span><br><span class="line"><span class="keyword">for</span> (Integer value : map.values()) &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Value: &quot;</span> + value);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 4. Java8+ Lambdaéå†</span></span><br><span class="line">map.forEach((k, v) -&gt; System.out.println(k + <span class="string">&quot;=&quot;</span> + v));</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰¹é‡æ“ä½œ</span></span><br><span class="line">Map&lt;String, Integer&gt; newItems = Map.of(<span class="string">&quot;Cherry&quot;</span>, <span class="number">5</span>, <span class="string">&quot;Durian&quot;</span>, <span class="number">8</span>);</span><br><span class="line">map.putAll(newItems);              <span class="comment">// åˆå¹¶æ˜ å°„ â†’ &#123;Apple=20, Cherry=5, Durian=8&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç‰¹æ®Šå€¼å¤„ç†</span></span><br><span class="line">map.put(<span class="literal">null</span>, <span class="number">0</span>);                  <span class="comment">// å…è®¸nullé”® â†’ &#123;null=0&#125;</span></span><br><span class="line">map.put(<span class="string">&quot;Mango&quot;</span>, <span class="literal">null</span>);            <span class="comment">// å…è®¸nullå€¼ â†’ &#123;null=0, Mango=null&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// é«˜çº§æ“ä½œï¼ˆJava8+ï¼‰</span></span><br><span class="line">map.computeIfAbsent(<span class="string">&quot;Orange&quot;</span>, k -&gt; <span class="number">3</span>);    <span class="comment">// ä¸å­˜åœ¨æ—¶è®¡ç®— â†’ æ·»åŠ  Orange=3</span></span><br><span class="line">map.computeIfPresent(<span class="string">&quot;Apple&quot;</span>, (k, v) -&gt; v + <span class="number">5</span>); <span class="comment">// å­˜åœ¨æ—¶æ›´æ–° â†’ Apple=25</span></span><br><span class="line">map.merge(<span class="string">&quot;Apple&quot;</span>, <span class="number">10</span>, (oldVal, newVal) -&gt; oldVal + newVal); <span class="comment">// åˆå¹¶å€¼ â†’ Apple=35</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// çº¿ç¨‹å®‰å…¨åŒ…è£…</span></span><br><span class="line">Map&lt;String, Integer&gt; syncMap = Collections.synchronizedMap(map);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸å¯å˜æ˜ å°„ï¼ˆJava9+ï¼‰</span></span><br><span class="line">Map&lt;String, Integer&gt; immutableMap = Map.ofEntries(</span><br><span class="line">    Map.entry(<span class="string">&quot;A&quot;</span>, <span class="number">1</span>),</span><br><span class="line">    Map.entry(<span class="string">&quot;B&quot;</span>, <span class="number">2</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ ¸å¿ƒç‰¹æ€§ï¼š</span></span><br><span class="line"><span class="comment">1. é”®å”¯ä¸€æ€§ï¼šåŸºäº hashCode() å’Œ equals() åˆ¤æ–­é‡å¤</span></span><br><span class="line"><span class="comment">2. æ— åºå­˜å‚¨ï¼šè¿­ä»£é¡ºåºä¸ä¿è¯ä¸æ’å…¥é¡ºåºä¸€è‡´</span></span><br><span class="line"><span class="comment">3. å…è®¸ä¸€ä¸ªnullé”®å’Œå¤šä¸ªnullå€¼</span></span><br><span class="line"><span class="comment">4. åŸºç¡€æ“ä½œæ—¶é—´å¤æ‚åº¦ï¼šget/put â†’ å¹³å‡ O(1)</span></span><br><span class="line"><span class="comment">5. æ‰©å®¹æœºåˆ¶ï¼šå½“å…ƒç´ æ•°é‡è¶…è¿‡ï¼ˆå®¹é‡*è´Ÿè½½å› å­ï¼‰æ—¶è‡ªåŠ¨ç¿»å€æ‰©å®¹</span></span><br><span class="line"><span class="comment">6. æ ‘åŒ–ä¼˜åŒ–ï¼šå½“é“¾è¡¨é•¿åº¦è¶…è¿‡8æ—¶è½¬çº¢é»‘æ ‘ï¼ˆJava8+ï¼‰</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">HashMap&lt;Character, Integer&gt; hm_s = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"><span class="comment">//éå†å­—ç¬¦ä¸²çš„æ‰€æœ‰å­—ç¬¦ï¼ˆæ›´æ¸…æ™°çš„é€»è¾‘ï¼‰</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">char</span> c : s.toCharArray()) &#123;</span><br><span class="line">    hm_s.merge(c, <span class="number">1</span>, Integer::sum);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ä½¿ç”¨getOrDefaulté¿å…NullPointerException</span></span><br><span class="line"><span class="type">int</span> <span class="variable">countS</span> <span class="operator">=</span> hm_s.getOrDefault(c, <span class="number">0</span>);</span><br></pre></td></tr></table></figure>

<p>ä¸€ä¸ª Key åªèƒ½å¯¹åº”ä¸€ä¸ªå€¼ï¼Œæ‰€ä»¥å¦‚æœè¦å®ç°ç±»ä¼¼ Multimap çš„ç»“æ„éœ€è¦å¦‚ä¸‹æ–¹å¼ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åˆå§‹åŒ–</span></span><br><span class="line">HashMap&lt;String, List&lt;Integer&gt;&gt; multiValueMap = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="comment">/////æ·»åŠ å…ƒç´ </span></span><br><span class="line"><span class="keyword">if</span> (!multiValueMap.containsKey(<span class="string">&quot;scores&quot;</span>)) &#123;</span><br><span class="line">    multiValueMap.put(<span class="string">&quot;scores&quot;</span>, <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;());</span><br><span class="line">&#125;</span><br><span class="line">multiValueMap.get(<span class="string">&quot;scores&quot;</span>).add(<span class="number">90</span>);</span><br><span class="line"><span class="comment">// è‹¥é”®ä¸å­˜åœ¨ï¼Œè‡ªåŠ¨åˆ›å»ºç©ºåˆ—è¡¨</span></span><br><span class="line">multiValueMap.computeIfAbsent(<span class="string">&quot;scores&quot;</span>, k -&gt; <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;()).add(<span class="number">90</span>);</span><br><span class="line">multiValueMap.computeIfAbsent(<span class="string">&quot;scores&quot;</span>, k -&gt; <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;()).add(<span class="number">85</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">////è®¿é—®å…ƒç´ </span></span><br><span class="line"><span class="comment">//è·å–æŸä¸ªé”®çš„æ‰€æœ‰å€¼</span></span><br><span class="line">List&lt;Integer&gt; scores = multiValueMap.get(<span class="string">&quot;scores&quot;</span>);</span><br><span class="line"><span class="keyword">if</span> (scores != <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> num : scores) &#123;</span><br><span class="line">        System.out.println(num); <span class="comment">//è¾“å‡º 90, 85</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//é¿å… NullPointerExceptionçš„æƒ…å†µ</span></span><br><span class="line">List&lt;Integer&gt; scores = multiValueMap.getOrDefault(<span class="string">&quot;scores&quot;</span>, <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;());</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> num : scores) &#123;</span><br><span class="line">    System.out.println(num);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">////åˆ é™¤å…ƒç´ </span></span><br><span class="line"><span class="comment">//åˆ é™¤æ•´ä¸ªé”®å€¼å¯¹</span></span><br><span class="line">multiValueMap.remove(<span class="string">&quot;scores&quot;</span>);</span><br><span class="line"><span class="comment">// åˆ é™¤æŸä¸ªé”®çš„ç‰¹å®šå€¼</span></span><br><span class="line">List&lt;Integer&gt; scores = multiValueMap.get(<span class="string">&quot;scores&quot;</span>);</span><br><span class="line"><span class="keyword">if</span> (scores != <span class="literal">null</span>) &#123;</span><br><span class="line">    scores.remove(Integer.valueOf(<span class="number">90</span>)); <span class="comment">// åˆ é™¤å€¼ä¸º 90 çš„å…ƒç´ </span></span><br><span class="line">    <span class="comment">// å¦‚æœåˆ—è¡¨ä¸ºç©ºï¼Œå¯é€‰åˆ é™¤é”®</span></span><br><span class="line">    <span class="keyword">if</span> (scores.isEmpty()) &#123;</span><br><span class="line">        multiValueMap.remove(<span class="string">&quot;scores&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">////éå†å“ˆå¸Œè¡¨</span></span><br><span class="line"><span class="comment">// éå†æ‰€æœ‰é”®å€¼å¯¹</span></span><br><span class="line"><span class="keyword">for</span> (Map.Entry&lt;String, List&lt;Integer&gt;&gt; entry : multiValueMap.entrySet()) &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> entry.getKey();</span><br><span class="line">    List&lt;Integer&gt; values = entry.getValue();</span><br><span class="line">    System.out.println(key + <span class="string">&quot;: &quot;</span> + values);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//éå†æ‰€æœ‰é”®</span></span><br><span class="line"><span class="keyword">for</span> (String key : multiValueMap.keySet()) &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Key: &quot;</span> + key);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//éå†æ‰€æœ‰å€¼</span></span><br><span class="line"><span class="keyword">for</span> (List&lt;Integer&gt; values : multiValueMap.values()) &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Values: &quot;</span> + values);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Stringçš„å¸¸ç”¨æ“ä½œ"><a href="#Stringçš„å¸¸ç”¨æ“ä½œ" class="headerlink" title="Stringçš„å¸¸ç”¨æ“ä½œ"></a>Stringçš„å¸¸ç”¨æ“ä½œ</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// =================== String å¸¸ç”¨æ“ä½œ ===================</span></span><br><span class="line"><span class="comment">// åˆ›å»ºå¯¹è±¡</span></span><br><span class="line"><span class="type">String</span> <span class="variable">str1</span> <span class="operator">=</span> <span class="string">&quot;Hello&quot;</span>;                   <span class="comment">// ç›´æ¥é‡åˆ›å»ºï¼ˆå­—ç¬¦ä¸²å¸¸é‡æ± ï¼‰</span></span><br><span class="line"><span class="type">String</span> <span class="variable">str2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;World&quot;</span>);       <span class="comment">// å †å†…å­˜æ–°å¯¹è±¡</span></span><br><span class="line"><span class="type">char</span>[] chars = &#123;<span class="string">&#x27;J&#x27;</span>,<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;v&#x27;</span>,<span class="string">&#x27;a&#x27;</span>&#125;;</span><br><span class="line"><span class="type">String</span> <span class="variable">str3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(chars);          <span class="comment">// é€šè¿‡å­—ç¬¦æ•°ç»„åˆ›å»º â†’ &quot;Java&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åŸºæœ¬æ“ä½œ</span></span><br><span class="line"><span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> str1.length();                  <span class="comment">// è·å–é•¿åº¦ â†’ 5</span></span><br><span class="line"><span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> str1.charAt(<span class="number">1</span>);                  <span class="comment">// è·å–ç´¢å¼•1å­—ç¬¦ â†’ &#x27;e&#x27;</span></span><br><span class="line"><span class="type">String</span> <span class="variable">substr1</span> <span class="operator">=</span> str1.substring(<span class="number">2</span>);      <span class="comment">// ä»ç´¢å¼•2æˆªå– â†’ &quot;llo&quot;</span></span><br><span class="line"><span class="type">String</span> <span class="variable">substr2</span> <span class="operator">=</span> str1.substring(<span class="number">1</span>,<span class="number">4</span>);    <span class="comment">// æˆªå–1-3ç´¢å¼• â†’ &quot;ell&quot;</span></span><br><span class="line"><span class="type">String</span> <span class="variable">concatStr</span> <span class="operator">=</span> str1.concat(<span class="string">&quot; World&quot;</span>);<span class="comment">// æ‹¼æ¥ â†’ &quot;Hello World&quot;</span></span><br><span class="line"><span class="type">String</span> <span class="variable">upper</span> <span class="operator">=</span> str1.toUpperCase();       <span class="comment">// è½¬å¤§å†™ â†’ &quot;HELLO&quot;</span></span><br><span class="line"><span class="type">String</span> <span class="variable">lower</span> <span class="operator">=</span> <span class="string">&quot;HELLO&quot;</span>.toLowerCase();    <span class="comment">// è½¬å°å†™ â†’ &quot;hello&quot;</span></span><br><span class="line"><span class="type">String</span> <span class="variable">trimStr</span> <span class="operator">=</span> <span class="string">&quot;  text  &quot;</span>.trim();      <span class="comment">// å»é¦–å°¾ç©ºæ ¼ â†’ &quot;text&quot;</span></span><br><span class="line"><span class="type">String</span> <span class="variable">replaced</span> <span class="operator">=</span> str1.replace(<span class="string">&#x27;l&#x27;</span>, <span class="string">&#x27;L&#x27;</span>);<span class="comment">// æ›¿æ¢å­—ç¬¦ â†’ &quot;HeLLo&quot;</span></span><br><span class="line"><span class="type">String</span> <span class="variable">replacedAll</span> <span class="operator">=</span> <span class="string">&quot;a1b2c3&quot;</span>.replaceAll(<span class="string">&quot;\\d&quot;</span>, <span class="string">&quot;#&quot;</span>); <span class="comment">// æ­£åˆ™æ›¿æ¢ â†’ &quot;a#b#c#&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è½¬æ¢ä¸æ¯”è¾ƒ</span></span><br><span class="line"><span class="type">char</span>[] arr = str1.toCharArray();         <span class="comment">// è½¬å­—ç¬¦æ•°ç»„ â†’ [&#x27;H&#x27;,&#x27;e&#x27;,&#x27;l&#x27;,&#x27;l&#x27;,&#x27;o&#x27;]</span></span><br><span class="line"><span class="type">byte</span>[] bytes = str1.getBytes();          <span class="comment">// æŒ‰é»˜è®¤ç¼–ç è½¬å­—èŠ‚æ•°ç»„</span></span><br><span class="line"><span class="type">boolean</span> <span class="variable">eq1</span> <span class="operator">=</span> str1.equals(<span class="string">&quot;Hello&quot;</span>);      <span class="comment">// å€¼æ¯”è¾ƒ â†’ true</span></span><br><span class="line"><span class="type">boolean</span> <span class="variable">eq2</span> <span class="operator">=</span> str1.equalsIgnoreCase(<span class="string">&quot;hElLo&quot;</span>); <span class="comment">// å¿½ç•¥å¤§å°å†™ â†’ true</span></span><br><span class="line"><span class="type">int</span> <span class="variable">cmp</span> <span class="operator">=</span> str1.compareTo(<span class="string">&quot;Hella&quot;</span>);       <span class="comment">// å­—å…¸åºæ¯”è¾ƒ â†’ æ­£æ•°ï¼ˆ&#x27;o&#x27; &gt; &#x27;a&#x27;ï¼‰</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ­£åˆ™å¤„ç†</span></span><br><span class="line"><span class="type">boolean</span> <span class="variable">matches</span> <span class="operator">=</span> <span class="string">&quot;123&quot;</span>.matches(<span class="string">&quot;\\d+&quot;</span>);      <span class="comment">// æ­£åˆ™åŒ¹é… â†’ true</span></span><br><span class="line">String[] parts = <span class="string">&quot;a,b,c&quot;</span>.split(<span class="string">&quot;,&quot;</span>);          <span class="comment">// åˆ†å‰²</span></span><br><span class="line"><span class="comment">//Arrays.adList()</span></span><br><span class="line"><span class="comment">// å­—ç¬¦ä¸² â†’ [&quot;a&quot;,&quot;b&quot;,&quot;c&quot;]</span></span><br><span class="line">String[] regexParts = <span class="string">&quot;a1b2c3&quot;</span>.split(<span class="string">&quot;\\d&quot;</span>);  <span class="comment">// æŒ‰æ•°å­—åˆ†å‰² â†’ [&quot;a&quot;,&quot;b&quot;,&quot;c&quot;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ ¼å¼åŒ–å¤„ç†</span></span><br><span class="line"><span class="type">String</span> <span class="variable">format1</span> <span class="operator">=</span> String.format(<span class="string">&quot;%s-%d&quot;</span>, <span class="string">&quot;ID&quot;</span>, <span class="number">100</span>);  <span class="comment">// â†’ &quot;ID-100&quot;</span></span><br><span class="line"><span class="type">String</span> <span class="variable">format2</span> <span class="operator">=</span> String.join(<span class="string">&quot;|&quot;</span>, <span class="string">&quot;A&quot;</span>, <span class="string">&quot;B&quot;</span>, <span class="string">&quot;C&quot;</span>);    <span class="comment">// â†’ &quot;A|B|C&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç‰¹æ®Šåˆ¤æ–­</span></span><br><span class="line"><span class="type">boolean</span> <span class="variable">isEmpty</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>.isEmpty();          <span class="comment">// ç©ºå­—ç¬¦ä¸² â†’ true</span></span><br><span class="line"><span class="type">boolean</span> <span class="variable">isBlank</span> <span class="operator">=</span> <span class="string">&quot;   &quot;</span>.isBlank();       <span class="comment">// å…¨ç©ºç™½å­—ç¬¦ï¼ˆJava 11+ï¼‰ â†’ true</span></span><br><span class="line"><span class="type">boolean</span> <span class="variable">starts</span> <span class="operator">=</span> str1.startsWith(<span class="string">&quot;He&quot;</span>);  <span class="comment">// å¼€å¤´åˆ¤æ–­ â†’ true</span></span><br><span class="line"><span class="type">boolean</span> <span class="variable">ends</span> <span class="operator">=</span> str1.endsWith(<span class="string">&quot;lo&quot;</span>);      <span class="comment">// ç»“å°¾åˆ¤æ–­ â†’ true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ ¸å¿ƒç‰¹æ€§ï¼š</span></span><br><span class="line"><span class="comment">1. ä¸å¯å˜æ€§ï¼šæ‰€æœ‰æ“ä½œè¿”å›æ–°å­—ç¬¦ä¸²ï¼ŒåŸå¯¹è±¡ä¸å˜</span></span><br><span class="line"><span class="comment">2. å­—ç¬¦ä¸²å¸¸é‡æ± å¤ç”¨æœºåˆ¶ï¼šç›´æ¥é‡èµ‹å€¼ä¼˜å…ˆä½¿ç”¨å¸¸é‡æ± </span></span><br><span class="line"><span class="comment">3. æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼æ“ä½œï¼ˆsplit/matches/replaceAllç­‰ï¼‰</span></span><br><span class="line"><span class="comment">4. åŒ…å«ä¸°å¯Œçš„æ ¼å¼åŒ–æ–¹æ³•ï¼ˆformat/joinç­‰ï¼‰</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<p><strong>intè½¬String</strong><br><code>String s = String.valueOf(i);</code><br><code>String s = Integer.toString(i);</code><br><strong>String è½¬ int</strong><br><code>String str = &quot;123&quot;;</code><br><code>int num = Integer.parseInt(str);</code></p>
<h2 id="StringBuffer-å’Œ-StringBuilder"><a href="#StringBuffer-å’Œ-StringBuilder" class="headerlink" title="StringBuffer å’Œ StringBuilder"></a>StringBuffer å’Œ StringBuilder</h2><p><code>StringBuilder</code> ç±»åœ¨ Java 5 ä¸­è¢«æå‡ºï¼Œå®ƒå’Œ <code>StringBuffer</code> ä¹‹é—´çš„æœ€å¤§ä¸åŒåœ¨äº <code>StringBuilder</code> çš„æ–¹æ³•ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼ˆä¸èƒ½åŒæ­¥è®¿é—®ï¼‰ã€‚<br>ç”±äº <code>StringBuilder</code> ç›¸è¾ƒäº <code>StringBuffer</code> æœ‰é€Ÿåº¦ä¼˜åŠ¿ï¼Œæ‰€ä»¥å¤šæ•°æƒ…å†µä¸‹å»ºè®®ä½¿ç”¨ <code>StringBuilder</code> ç±»ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// =================== StringBuilder ===================</span></span><br><span class="line"><span class="comment">// åˆ›å»ºå¯¹è±¡</span></span><br><span class="line"><span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();      <span class="comment">// é»˜è®¤å®¹é‡16</span></span><br><span class="line"><span class="type">StringBuilder</span> <span class="variable">sb2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>(<span class="string">&quot;Hello&quot;</span>); <span class="comment">// æŒ‡å®šåˆå§‹å†…å®¹</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åŸºæœ¬æ“ä½œ</span></span><br><span class="line">sb.append(<span class="string">&quot; World&quot;</span>);       <span class="comment">// è¿½åŠ å†…å®¹ â†’ &quot;Hello World&quot;</span></span><br><span class="line">sb.insert(<span class="number">5</span>, <span class="string">&quot; Java&quot;</span>);     <span class="comment">// æŒ‡å®šä½ç½®æ’å…¥ â†’ &quot;Hello Java World&quot;</span></span><br><span class="line">sb.delete(<span class="number">5</span>, <span class="number">10</span>);          <span class="comment">// åˆ é™¤5-9ä½ç½® â†’ &quot;Hello World&quot;</span></span><br><span class="line">sb.replace(<span class="number">6</span>, <span class="number">11</span>, <span class="string">&quot;Earth&quot;</span>); <span class="comment">// æ›¿æ¢æŒ‡å®šåŒºé—´ â†’ &quot;Hello Earth&quot;</span></span><br><span class="line">sb.reverse();              <span class="comment">// åè½¬ â†’ &quot;htraE olleH&quot; </span></span><br><span class="line">sb.setLength(<span class="number">5</span>);           <span class="comment">// æˆªæ–­ä¿ç•™å‰5å­—ç¬¦ â†’ &quot;htraE&quot;</span></span><br><span class="line"><span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> sb.charAt(<span class="number">2</span>);     <span class="comment">// è·å–ç´¢å¼•2çš„å­—ç¬¦ â†’ &#x27;r&#x27;</span></span><br><span class="line">sb.setCharAt(<span class="number">0</span>, <span class="string">&#x27;H&#x27;</span>);      <span class="comment">// ä¿®æ”¹ç´¢å¼•0å­—ç¬¦ â†’ &quot;HtraE&quot;</span></span><br><span class="line"><span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> sb.length();     <span class="comment">// è·å–å½“å‰é•¿åº¦ â†’ 5</span></span><br><span class="line"><span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> sb.toString();  <span class="comment">// è½¬æ¢ä¸ºString</span></span><br><span class="line">res = <span class="keyword">new</span> <span class="title class_">StringBuilder</span>(p.s).repeat(res,p.k); <span class="comment">//é‡å¤res kæ¬¡ é‡å¤æ“ä½œ</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ­£å‘éå†</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; sb.length(); i++) &#123;</span><br><span class="line">    <span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> sb.charAt(i);</span><br><span class="line">    System.out.println(c);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// é“¾å¼è°ƒç”¨</span></span><br><span class="line"><span class="type">StringBuilder</span> <span class="variable">sb3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>()</span><br><span class="line">    .append(<span class="number">123</span>)           <span class="comment">// æ”¯æŒå¤šç±»å‹</span></span><br><span class="line">    .append(<span class="number">3.14</span>)</span><br><span class="line">    .append(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">sb.setLength(prevLen); <span class="comment">// ç›´æ¥å›é€€åˆ°æ·»åŠ å‰çš„é•¿åº¦</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// =================== StringBuffer ===================</span></span><br><span class="line"><span class="comment">// åˆ›å»ºå¯¹è±¡ï¼ˆæ“ä½œæ–¹æ³•ä¸StringBuilderå®Œå…¨ä¸€è‡´ï¼‰</span></span><br><span class="line"><span class="type">StringBuffer</span> <span class="variable">sbf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>(); </span><br><span class="line">sbf.append(<span class="number">100</span>);           <span class="comment">// è¿½åŠ æ•°å€¼</span></span><br><span class="line">sbf.insert(<span class="number">3</span>, <span class="keyword">new</span> <span class="title class_">char</span>[]&#123;<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;B&#x27;</span>&#125;); <span class="comment">// æ’å…¥å­—ç¬¦æ•°ç»„</span></span><br><span class="line">sbf.deleteCharAt(<span class="number">4</span>);       <span class="comment">// åˆ é™¤å•ä¸ªå­—ç¬¦</span></span><br><span class="line">sbf.setLength(<span class="number">0</span>);          <span class="comment">// æ¸…ç©ºç¼“å†²åŒºï¼ˆå¤ç”¨å¯¹è±¡ï¼‰</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// çº¿ç¨‹å®‰å…¨ç¤ºä¾‹</span></span><br><span class="line">sbf.append(<span class="string">&quot;ThreadSafe&quot;</span>);  <span class="comment">// æ‰€æœ‰æ–¹æ³•éƒ½æœ‰synchronizedä¿®é¥°ç¬¦</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* å…±æ€§ç‰¹å¾ï¼š</span></span><br><span class="line"><span class="comment">1. åˆå§‹å®¹é‡16ï¼Œè‡ªåŠ¨æ‰©å®¹ï¼ˆæ¯æ¬¡æ‰©å®¹2n+2ï¼‰</span></span><br><span class="line"><span class="comment">2. append() æ”¯æŒæ‰€æœ‰åŸºç¡€ç±»å‹/Objectç±»å‹</span></span><br><span class="line"><span class="comment">3. ä¿®æ”¹åå¯¹è±¡åœ°å€ä¸å˜ï¼ˆä¸Stringçš„ä¸å¯å˜æ€§å¯¹æ¯”ï¼‰</span></span><br><span class="line"><span class="comment">4. ä¸»è¦æ–¹æ³•ï¼šappend/insert/delete/replace/reverse</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> buffer.toString();  <span class="comment">// StringBuffer â†’ String</span></span><br><span class="line"><span class="type">String</span> <span class="variable">s2</span> <span class="operator">=</span> builder.toString(); <span class="comment">// StringBuilder â†’ String</span></span><br></pre></td></tr></table></figure>

<h2 id="PriorityQueueçš„å¸¸ç”¨æ“ä½œ"><a href="#PriorityQueueçš„å¸¸ç”¨æ“ä½œ" class="headerlink" title="PriorityQueueçš„å¸¸ç”¨æ“ä½œ"></a>PriorityQueueçš„å¸¸ç”¨æ“ä½œ</h2><h3 id="recordçš„å¸¸ç”¨æ“ä½œ"><a href="#recordçš„å¸¸ç”¨æ“ä½œ" class="headerlink" title="recordçš„å¸¸ç”¨æ“ä½œ"></a>recordçš„å¸¸ç”¨æ“ä½œ</h3><p>ç›¸å½“äºå®šä¹‰ä¸€ä¸ªä¸å¯å˜çš„æ•°æ®ç±».<br>ç”±äºrecordæ˜¯Java 14å¼•å…¥çš„ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨Java 14ä»¥ä¸Šçš„ç‰ˆæœ¬ã€‚<br>å¹¶ä¸”é€šå¸¸recordæ˜¯ç”¨åœ¨ä¼˜å…ˆé˜Ÿåˆ—çš„æ¯”è¾ƒå™¨ä¸­ï¼Œæ‰€ä»¥ç›´æ¥æ”¾åœ¨è¿™é‡Œ.<br>ç›´æ¥ä¸¾ä¸€ä¸ªä¾‹å­:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">record</span> <span class="title class_">Node</span><span class="params">(<span class="type">double</span> gain , <span class="type">int</span> a , <span class="type">int</span> b)</span>&#123;&#125;</span><br><span class="line">PriorityQueue&lt;Node&gt; pq = <span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;&gt;((a, b) -&gt; Double.compare(b.gain, a.gain));</span><br><span class="line">pq.offer(<span class="keyword">new</span> <span class="title class_">Node</span>(<span class="number">1.0</span>, <span class="number">1</span>, <span class="number">2</span>));</span><br><span class="line">pq.offer(<span class="keyword">new</span> <span class="title class_">Node</span>(<span class="number">2.0</span>, <span class="number">2</span>, <span class="number">3</span>));</span><br><span class="line">pq.offer(<span class="keyword">new</span> <span class="title class_">Node</span>(<span class="number">3.0</span>, <span class="number">3</span>, <span class="number">4</span>));  </span><br><span class="line">System.out.println(pq.poll().gain);</span><br><span class="line">System.out.println(pq.poll().gain);</span><br><span class="line">System.out.println(pq.poll().gain); </span><br></pre></td></tr></table></figure>
<p>è¾“å‡º:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">3.0</span><br><span class="line">2.0</span><br><span class="line">1.0</span><br></pre></td></tr></table></figure>
<p>åŸºæœ¬ç”¨æ³•å°±æ˜¯è¿™æ ·.</p>
<p><strong>å°é¡¶å †(é»˜è®¤ï¼Œå‰ K å¤§ï¼Œå‡åº)</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºå°é¡¶å †ï¼ˆé»˜è®¤ï¼‰</span></span><br><span class="line">PriorityQueue&lt;Integer&gt; minHeap = <span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;&gt;();</span><br><span class="line"><span class="comment">// æ·»åŠ å…ƒç´ </span></span><br><span class="line">minHeap.offer(<span class="number">5</span>);</span><br><span class="line">minHeap.add(<span class="number">3</span>); <span class="comment">// offerå’ŒaddåŠŸèƒ½ç›¸åŒ</span></span><br><span class="line"><span class="comment">// æŸ¥çœ‹å †é¡¶å…ƒç´ ï¼ˆä¸åˆ é™¤ï¼‰</span></span><br><span class="line"><span class="type">int</span> <span class="variable">min</span> <span class="operator">=</span> minHeap.peek();</span><br><span class="line"><span class="comment">// å–å‡ºå †é¡¶å…ƒç´ ï¼ˆåˆ é™¤ï¼‰</span></span><br><span class="line"><span class="type">int</span> <span class="variable">removedMin</span> <span class="operator">=</span> minHeap.poll();</span><br><span class="line"><span class="comment">// è·å–å †å¤§å°</span></span><br><span class="line"><span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> minHeap.size();</span><br><span class="line"><span class="comment">// æ£€æŸ¥æ˜¯å¦ä¸ºç©º</span></span><br><span class="line"><span class="type">boolean</span> <span class="variable">isEmpty</span> <span class="operator">=</span> minHeap.isEmpty();</span><br><span class="line"><span class="comment">// åˆ é™¤æŒ‡å®šå…ƒç´ ï¼ˆéå †é¡¶ï¼‰</span></span><br><span class="line">minHeap.remove(<span class="number">2</span>);</span><br><span class="line"><span class="comment">// æ¸…ç©ºå †</span></span><br><span class="line">minHeap.clear();</span><br></pre></td></tr></table></figure>
<p><strong>å¤§é¡¶å †(å‰ K å°ï¼Œé™åº)</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºå¤§é¡¶å †ï¼ˆä½¿ç”¨è‡ªå®šä¹‰æ¯”è¾ƒå™¨ï¼‰</span></span><br><span class="line">PriorityQueue&lt;Integer&gt; maxHeap = <span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;&gt;((a, b) -&gt; b - a);</span><br><span class="line"><span class="comment">// æˆ– PriorityQueue&lt;&gt;(Comparator.reverseOrder());</span></span><br><span class="line"><span class="comment">// æ·»åŠ å…ƒç´ </span></span><br><span class="line">maxHeap.offer(<span class="number">8</span>);</span><br><span class="line">maxHeap.add(<span class="number">4</span>);</span><br><span class="line"><span class="comment">// æŸ¥çœ‹å †é¡¶å…ƒç´ ï¼ˆä¸åˆ é™¤ï¼‰</span></span><br><span class="line"><span class="type">int</span> <span class="variable">max</span> <span class="operator">=</span> maxHeap.peek();</span><br><span class="line"><span class="comment">// å–å‡ºå †é¡¶å…ƒç´ ï¼ˆåˆ é™¤ï¼‰</span></span><br><span class="line"><span class="type">int</span> <span class="variable">removedMax</span> <span class="operator">=</span> maxHeap.poll();</span><br><span class="line"><span class="comment">// æ£€æŸ¥å…ƒç´ æ˜¯å¦å­˜åœ¨</span></span><br><span class="line"><span class="type">boolean</span> <span class="variable">contains</span> <span class="operator">=</span> maxHeap.contains(<span class="number">5</span>);</span><br><span class="line"><span class="comment">// éå†å¹¶è¾“å‡ºå…ƒç´ </span></span><br><span class="line"><span class="keyword">for</span> (Integer num : minHeap) &#123;</span><br><span class="line">    System.out.println(num);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ„é€ æŒ‰ç…§å­—å…¸åºæ’åˆ—çš„ä¼˜å…ˆé˜Ÿåˆ—</span></span><br><span class="line">PriorityQueue&lt;Integer&gt; pq = <span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;&gt;((a, b) -&gt; &#123;</span><br><span class="line">    <span class="comment">// å°† int è½¬æ¢ä¸º String åæ¯”è¾ƒå­—å…¸åº</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">strA</span> <span class="operator">=</span> String.valueOf(a);</span><br><span class="line">    <span class="type">String</span> <span class="variable">strB</span> <span class="operator">=</span> String.valueOf(b);</span><br><span class="line">    <span class="keyword">return</span> strA.compareTo(strB);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p><strong>å †æ±‚å‰kå¤§,ç„¶åå­˜å‚¨ç´¢å¼•(éœ€è¦ä¿å­˜ä¸‹æ ‡çš„å†™æ³•)</strong><br><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/find-subsequence-of-length-k-with-the-largest-sum?envType=daily-question&envId=2025-06-28">å †æ±‚å‰kå¤§,ç„¶åå­˜å‚¨ç´¢å¼•</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å°æ ¹å †ï¼Œå¦‚æœå½“å‰å…ƒç´ å¤§äºå †é¡¶ï¼Œåˆ™åŠ å…¥å †ä¸­ï¼Œå †ä¸­çš„å…ƒç´ è¿˜è¦ä¿å­˜å…¶ä¸‹æ ‡</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span>[] maxSubsequence(<span class="type">int</span>[] nums, <span class="type">int</span> k) &#123;</span><br><span class="line">    PriorityQueue&lt;<span class="type">int</span>[]&gt; heap = <span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;&gt;((o1,o2)-&gt;o1[<span class="number">0</span>]-o2[<span class="number">0</span>]);</span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> nums.length;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(heap.size() &lt; k) heap.offer(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;nums[i], i&#125;);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(nums[i] &gt; heap.peek()[<span class="number">0</span>]) &#123;</span><br><span class="line">            heap.poll();</span><br><span class="line">            heap.offer(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;nums[i], i&#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span>[] idx = <span class="keyword">new</span> <span class="title class_">int</span>[k];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; k; i++) &#123;</span><br><span class="line">        idx[i] = heap.poll()[<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    Arrays.sort(idx);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; k; i++) &#123;</span><br><span class="line">        idx[i] = nums[idx[i]];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> idx;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>è‡ªå®šä¹‰å¯¹è±¡å †</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è‡ªå®šä¹‰ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line">    String name;</span><br><span class="line">    <span class="type">int</span> score;</span><br><span class="line">    <span class="comment">// æ„é€ æ–¹æ³•ç­‰...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æŒ‰åˆ†æ•°çš„å°é¡¶å †</span></span><br><span class="line">PriorityQueue&lt;Student&gt; studentMinHeap = <span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;&gt;(</span><br><span class="line">    (s1, s2) -&gt; s1.score - s2.score</span><br><span class="line">);</span><br><span class="line"><span class="comment">// æŒ‰åˆ†æ•°çš„å¤§é¡¶å †  </span></span><br><span class="line">PriorityQueue&lt;Student&gt; studentMaxHeap = <span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;&gt;(</span><br><span class="line">    (s1, s2) -&gt; s2.score - s1.score</span><br><span class="line">);</span><br><span class="line"><span class="comment">// æ·»åŠ è‡ªå®šä¹‰å¯¹è±¡</span></span><br><span class="line">studentMinHeap.offer(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;Alice&quot;</span>, <span class="number">85</span>));</span><br></pre></td></tr></table></figure>

<p><strong>å †åºæ€§è´¨</strong><br>å †ç±»å‹	æ¯”è¾ƒæ¡ä»¶	æ•°å­¦è¡¨è¾¾	Javaæ¯”è¾ƒå™¨å®ç°<br>å°é¡¶å †	çˆ¶ â‰¤ å­	a â‰¤ b	a - b æˆ– a.compareTo(b)<br>å¤§é¡¶å †	çˆ¶ â‰¥ å­	a â‰¥ b	b - a æˆ– b.compareTo(a)<br><strong>æ¯”è¾ƒå™¨çš„æœ¬è´¨</strong><br>aåœ¨å †é‡Œä»£è¡¨çˆ¶èŠ‚ç‚¹ bæ˜¯å­èŠ‚ç‚¹ <code>a-b</code> è¦å°äº0 aä¼˜å…ˆçº§æ‰é«˜ <code>a&lt;b</code> æ‰€ä»¥æ˜¯æœ€å°å †</p>
<p>æ¯”è¾ƒå™¨å®šä¹‰çš„æ˜¯â€ä¼˜å…ˆçº§â€å…³ç³»ï¼š</p>
<p>è¿”å›è´Ÿæ•°ï¼šç¬¬ä¸€ä¸ªå‚æ•°ï¼ˆaï¼‰åº”è¯¥æ’åœ¨å‰é¢ï¼ˆæ›´é«˜ä¼˜å…ˆçº§ï¼‰</p>
<p>è¿”å›æ­£æ•°ï¼šç¬¬äºŒä¸ªå‚æ•°ï¼ˆbï¼‰åº”è¯¥æ’åœ¨å‰é¢</p>
<p>è¿”å›é›¶ï¼šä¸¤è€…ä¼˜å…ˆçº§ç›¸åŒ</p>
<p><strong>ä½¿ç”¨åœºæ™¯</strong><br>å‰ K å¤§çš„å…ƒç´ ï¼šä½¿ç”¨æœ€å°å †ï¼Œå› ä¸ºå †é¡¶æ˜¯å­˜å‚¨çš„æœ€å°çš„å…ƒç´ ï¼Œå¦‚æœæ–°å¢å…ƒç´ æ¯”å †é¡¶å¤§ï¼Œé‚£åªéœ€è¦æ›¿æ¢æ‰å †é¡¶å³å¯ã€‚<br>å‰ K å°çš„å…ƒç´ ï¼šä½¿ç”¨æœ€å¤§å †ï¼Œå› ä¸ºå †é¡¶æ˜¯å­˜å‚¨çš„æœ€å¤§çš„å…ƒç´ ï¼Œå¦‚æœæ–°å¢å…ƒç´ æ¯”å †é¡¶å°ï¼Œé‚£åªéœ€è¦æ›¿æ¢æ‰å †é¡¶å³å¯ã€‚<br>é»˜è®¤å°é¡¶å †ï¼šå‡åºæ’åºã€‚<br>é»˜è®¤å¤§é¡¶å †ï¼šé™åºæ’åºã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxEvents</span><span class="params">(<span class="type">int</span>[][] events)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">mx</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span>[] e : events) &#123;</span><br><span class="line">            mx = Math.max(mx, e[<span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æŒ‰ç…§å¼€å§‹æ—¶é—´åˆ†ç»„</span></span><br><span class="line">        List&lt;Integer&gt;[] groups = <span class="keyword">new</span> <span class="title class_">ArrayList</span>[mx + <span class="number">1</span>];</span><br><span class="line">        Arrays.setAll(groups, i -&gt; <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;());</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span>[] e : events) &#123;</span><br><span class="line">            groups[e[<span class="number">0</span>]].add(e[<span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        PriorityQueue&lt;Integer&gt; pq = <span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt;= mx; i++) &#123;</span><br><span class="line">            <span class="comment">// åˆ é™¤è¿‡æœŸä¼šè®®</span></span><br><span class="line">            <span class="keyword">while</span> (!pq.isEmpty() &amp;&amp; pq.peek() &lt; i) &#123;</span><br><span class="line">                pq.poll();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// æ–°å¢å¯ä»¥å‚åŠ çš„ä¼šè®®</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> endDay : groups[i]) &#123;</span><br><span class="line">                pq.offer(endDay);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// å‚åŠ ä¸€ä¸ªç»“æŸæ—¶é—´æœ€æ—©çš„ä¼šè®®</span></span><br><span class="line">            <span class="keyword">if</span> (!pq.isEmpty()) &#123;</span><br><span class="line">                ans++;</span><br><span class="line">                pq.poll();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Deque-çš„å¸¸ç”¨æ“ä½œ"><a href="#Deque-çš„å¸¸ç”¨æ“ä½œ" class="headerlink" title="Deque çš„å¸¸ç”¨æ“ä½œ"></a>Deque çš„å¸¸ç”¨æ“ä½œ</h2><p>Dequeå¸¸ç”¨äºå®ç°é˜Ÿåˆ—å’Œæ ˆ.åŒ…æ‹¬ç»´æŠ¤å•è°ƒæ ˆ.</p>
<p><strong>åˆ›å»º</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Deque;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayDeque;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆå§‹åŒ– Dequeï¼ˆä»¥ ArrayDeque ä¸ºä¾‹ï¼‰</span></span><br><span class="line">Deque&lt;String&gt; deque = <span class="keyword">new</span> <span class="title class_">ArrayDeque</span>&lt;&gt;(); <span class="comment">//ä¸èƒ½æ’å…¥nullå…ƒç´ </span></span><br><span class="line">Deque&lt;String&gt; deque = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br></pre></td></tr></table></figure>
<p><strong>æ’å…¥</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é˜Ÿå¤´æ’å…¥</span></span><br><span class="line">deque.addFirst(<span class="string">&quot;A&quot;</span>);      <span class="comment">// æ’å…¥å…ƒç´ åˆ°é˜Ÿå¤´ï¼ˆå®¹é‡æ»¡æ—¶æŠ›å‡º IllegalStateExceptionï¼‰</span></span><br><span class="line">deque.offerFirst(<span class="string">&quot;B&quot;</span>);    <span class="comment">// æ’å…¥å…ƒç´ åˆ°é˜Ÿå¤´ï¼ˆå®¹é‡æ»¡æ—¶è¿”å› falseï¼‰</span></span><br><span class="line"><span class="comment">// é˜Ÿå°¾æ’å…¥</span></span><br><span class="line">deque.addLast(<span class="string">&quot;C&quot;</span>);       <span class="comment">// æ’å…¥å…ƒç´ åˆ°é˜Ÿå°¾ï¼ˆå®¹é‡æ»¡æ—¶æŠ›å‡º IllegalStateExceptionï¼‰</span></span><br><span class="line">deque.offerLast(<span class="string">&quot;D&quot;</span>);     <span class="comment">// æ’å…¥å…ƒç´ åˆ°é˜Ÿå°¾ï¼ˆå®¹é‡æ»¡æ—¶è¿”å› falseï¼‰</span></span><br><span class="line"><span class="comment">// æ‰¹é‡æ’å…¥ï¼ˆä» Collection ç»§æ‰¿ï¼‰</span></span><br><span class="line">deque.addAll(List.of(<span class="string">&quot;E&quot;</span>, <span class="string">&quot;F&quot;</span>));  <span class="comment">// ä¾æ¬¡æ’å…¥é˜Ÿå°¾</span></span><br></pre></td></tr></table></figure>
<p><strong>åˆ é™¤</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é˜Ÿå¤´åˆ é™¤</span></span><br><span class="line"><span class="type">String</span> <span class="variable">first1</span> <span class="operator">=</span> deque.removeFirst();  <span class="comment">// åˆ é™¤å¹¶è¿”å›é˜Ÿå¤´å…ƒç´ ï¼ˆç©ºé˜Ÿåˆ—æŠ› NoSuchElementExceptionï¼‰</span></span><br><span class="line"><span class="type">String</span> <span class="variable">first2</span> <span class="operator">=</span> deque.pollFirst();     <span class="comment">// åˆ é™¤å¹¶è¿”å›é˜Ÿå¤´å…ƒç´ ï¼ˆç©ºé˜Ÿåˆ—è¿”å› nullï¼‰</span></span><br><span class="line"><span class="comment">// é˜Ÿå°¾åˆ é™¤</span></span><br><span class="line"><span class="type">String</span> <span class="variable">last1</span> <span class="operator">=</span> deque.removeLast();    <span class="comment">// åˆ é™¤å¹¶è¿”å›é˜Ÿå°¾å…ƒç´ ï¼ˆç©ºé˜Ÿåˆ—æŠ›å¼‚å¸¸ï¼‰</span></span><br><span class="line"><span class="type">String</span> <span class="variable">last2</span> <span class="operator">=</span> deque.pollLast();      <span class="comment">// åˆ é™¤å¹¶è¿”å›é˜Ÿå°¾å…ƒç´ ï¼ˆç©ºé˜Ÿåˆ—è¿”å› nullï¼‰</span></span><br><span class="line"><span class="comment">// åˆ é™¤æŒ‡å®šå…ƒç´ ï¼ˆä»é˜Ÿå¤´å¼€å§‹æœç´¢ï¼‰</span></span><br><span class="line"><span class="type">boolean</span> <span class="variable">removed1</span> <span class="operator">=</span> deque.remove(<span class="string">&quot;E&quot;</span>);           <span class="comment">// åˆ é™¤ç¬¬ä¸€ä¸ªå‡ºç°çš„ &quot;E&quot;</span></span><br><span class="line"><span class="type">boolean</span> <span class="variable">removed2</span> <span class="operator">=</span> deque.removeFirstOccurrence(<span class="string">&quot;F&quot;</span>); <span class="comment">// åˆ é™¤é˜Ÿå¤´æ–¹å‘ç¬¬ä¸€ä¸ª &quot;F&quot;</span></span><br><span class="line"><span class="type">boolean</span> <span class="variable">removed3</span> <span class="operator">=</span> deque.removeLastOccurrence(<span class="string">&quot;G&quot;</span>);   <span class="comment">// åˆ é™¤é˜Ÿå°¾æ–¹å‘ç¬¬ä¸€ä¸ª &quot;G&quot;</span></span><br></pre></td></tr></table></figure>
<p><strong>æŸ¥çœ‹</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æŸ¥çœ‹é˜Ÿå¤´</span></span><br><span class="line"><span class="type">String</span> <span class="variable">head1</span> <span class="operator">=</span> deque.getFirst();    <span class="comment">// è¿”å›é˜Ÿå¤´å…ƒç´ ï¼ˆç©ºé˜Ÿåˆ—æŠ›å¼‚å¸¸ï¼‰</span></span><br><span class="line"><span class="type">String</span> <span class="variable">head2</span> <span class="operator">=</span> deque.peekFirst();   <span class="comment">// è¿”å›é˜Ÿå¤´å…ƒç´ ï¼ˆç©ºé˜Ÿåˆ—è¿”å› nullï¼‰</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æŸ¥çœ‹é˜Ÿå°¾</span></span><br><span class="line"><span class="type">String</span> <span class="variable">tail1</span> <span class="operator">=</span> deque.getLast();     <span class="comment">// è¿”å›é˜Ÿå°¾å…ƒç´ ï¼ˆç©ºé˜Ÿåˆ—æŠ›å¼‚å¸¸ï¼‰</span></span><br><span class="line"><span class="type">String</span> <span class="variable">tail2</span> <span class="operator">=</span> deque.peekLast();    <span class="comment">// è¿”å›é˜Ÿå°¾å…ƒç´ ï¼ˆç©ºé˜Ÿåˆ—è¿”å› nullï¼‰</span></span><br></pre></td></tr></table></figure>
<p><strong>çŠ¶æ€</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">boolean</span> <span class="variable">isEmpty</span> <span class="operator">=</span> deque.isEmpty();  <span class="comment">// åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º</span></span><br><span class="line"><span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> deque.size();            <span class="comment">// è¿”å›å…ƒç´ æ•°é‡</span></span><br><span class="line"><span class="type">boolean</span> <span class="variable">exists</span> <span class="operator">=</span> deque.contains(<span class="string">&quot;A&quot;</span>); <span class="comment">// åˆ¤æ–­æ˜¯å¦åŒ…å«å…ƒç´  &quot;A&quot;</span></span><br></pre></td></tr></table></figure>

<p><strong>éå†</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿­ä»£å™¨ï¼ˆæ­£å‘ï¼šé˜Ÿå¤´ â†’ é˜Ÿå°¾ï¼‰</span></span><br><span class="line">Iterator&lt;String&gt; iterator = deque.iterator();</span><br><span class="line"><span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">element</span> <span class="operator">=</span> iterator.next();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åå‘è¿­ä»£å™¨ï¼ˆé˜Ÿå°¾ â†’ é˜Ÿå¤´ï¼‰</span></span><br><span class="line">Iterator&lt;String&gt; descendingIterator = deque.descendingIterator();</span><br><span class="line"><span class="keyword">while</span> (descendingIterator.hasNext()) &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">element</span> <span class="operator">=</span> descendingIterator.next();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>å…¶ä»–</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ¸…ç©ºé˜Ÿåˆ—</span></span><br><span class="line">deque.clear();</span><br><span class="line"><span class="comment">// è½¬æ¢ä¸ºæ•°ç»„</span></span><br><span class="line">Object[] array1 = deque.toArray();                   <span class="comment">// è¿”å› Object[]</span></span><br><span class="line">String[] array2 = deque.toArray(<span class="keyword">new</span> <span class="title class_">String</span>[<span class="number">0</span>]);      <span class="comment">// æŒ‡å®šç±»å‹æ•°ç»„</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ================== æ ˆæ“ä½œï¼ˆDeque å…¼å®¹çš„é¢å¤–æ–¹æ³•ï¼‰==================</span></span><br><span class="line">deque.push(<span class="string">&quot;X&quot;</span>);      <span class="comment">// ç­‰æ•ˆäº addFirst()</span></span><br><span class="line"><span class="type">String</span> <span class="variable">popped</span> <span class="operator">=</span> deque.pop();  <span class="comment">// ç­‰æ•ˆäº removeFirst()</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// ================== å®¹é‡é™åˆ¶é˜Ÿåˆ—ï¼ˆå¦‚ LinkedBlockingDequeï¼‰==================</span></span><br><span class="line"><span class="comment">// é˜»å¡æ“ä½œç¤ºä¾‹ï¼ˆéœ€ä½¿ç”¨çº¿ç¨‹å®‰å…¨ Dequeï¼Œæ­¤å¤„ä»…å±•ç¤ºæ–¹æ³•ï¼‰</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">deque.offerFirst(&quot;W&quot;, 1, TimeUnit.SECONDS);  // ç­‰å¾…1ç§’å°è¯•æ’å…¥é˜Ÿå¤´</span></span><br><span class="line"><span class="comment">deque.offerLast(&quot;Z&quot;, 1, TimeUnit.SECONDS);   // ç­‰å¾…1ç§’å°è¯•æ’å…¥é˜Ÿå°¾</span></span><br><span class="line"><span class="comment">String item = deque.pollFirst(1, TimeUnit.SECONDS); // ç­‰å¾…1ç§’å°è¯•å–å‡ºé˜Ÿå¤´</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h2 id="TreeMap-çš„å¸¸ç”¨æ“ä½œ"><a href="#TreeMap-çš„å¸¸ç”¨æ“ä½œ" class="headerlink" title="TreeMap çš„å¸¸ç”¨æ“ä½œ"></a>TreeMap çš„å¸¸ç”¨æ“ä½œ</h2><p><strong>åˆ›å»º</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é»˜è®¤æŒ‰keyå‡åºæ’åˆ—</span></span><br><span class="line">TreeMap&lt;Integer, String&gt; map = <span class="keyword">new</span> <span class="title class_">TreeMap</span>&lt;&gt;();</span><br><span class="line"><span class="comment">// æŒ‰keyé™åºæ’åˆ—</span></span><br><span class="line">TreeMap&lt;String, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">TreeMap</span>&lt;&gt;(Collections.reverseOrder());</span><br><span class="line"><span class="comment">// è‡ªå®šä¹‰æ¯”è¾ƒå™¨ï¼ŒæŒ‰keyå‡åºæ’åˆ—</span></span><br><span class="line">TreeMap&lt;String, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">TreeMap</span>&lt;&gt;((a, b) -&gt; a.compareTo(b));</span><br></pre></td></tr></table></figure>
<p><strong>æ·»åŠ &#x2F;ä¿®æ”¹</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ·»åŠ é”®å€¼å¯¹ï¼Œå¦‚æœkeyå·²å­˜åœ¨åˆ™æ›´æ–°value</span></span><br><span class="line">map.put(<span class="number">1</span>, <span class="string">&quot;A&quot;</span>);</span><br><span class="line">map.put(<span class="number">2</span>, <span class="string">&quot;B&quot;</span>);</span><br><span class="line">map.put(<span class="number">3</span>, <span class="string">&quot;C&quot;</span>);</span><br></pre></td></tr></table></figure>
<p><strong>åˆ é™¤</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ é™¤æŒ‡å®škeyçš„é”®å€¼å¯¹ï¼Œè¿”å›è¢«åˆ é™¤çš„value</span></span><br><span class="line"><span class="type">String</span> <span class="variable">removed</span> <span class="operator">=</span> map.remove(<span class="number">1</span>);</span><br><span class="line"><span class="comment">// åˆ é™¤å¹¶è¿”å›ç¬¬ä¸€ä¸ªï¼ˆæœ€å°çš„ï¼‰é”®å€¼å¯¹</span></span><br><span class="line">Map.Entry&lt;Integer, String&gt; first = map.pollFirstEntry();</span><br><span class="line"><span class="comment">// åˆ é™¤å¹¶è¿”å›æœ€åä¸€ä¸ªï¼ˆæœ€å¤§çš„ï¼‰é”®å€¼å¯¹</span></span><br><span class="line">Map.Entry&lt;Integer, String&gt; last = map.pollLastEntry();</span><br><span class="line"><span class="comment">// æ¸…ç©ºæ‰€æœ‰é”®å€¼å¯¹</span></span><br><span class="line">map.clear();</span><br></pre></td></tr></table></figure>

<p><strong>éå†</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// éå†é”®å€¼å¯¹</span></span><br><span class="line"><span class="keyword">for</span> (Map.Entry&lt;Integer, String&gt; entry : map.entrySet()) &#123;</span><br><span class="line">    System.out.println(entry.getKey() + <span class="string">&quot; = &quot;</span> + entry.getValue());</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// éå†keyï¼ˆæŒ‰å‡åºï¼‰</span></span><br><span class="line"><span class="keyword">for</span> (Integer key : map.keySet()) &#123;</span><br><span class="line">    System.out.println(key);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// éå†valueï¼ˆæŒ‰å¯¹åº”keyçš„å‡åºï¼‰</span></span><br><span class="line"><span class="keyword">for</span> (String value : map.values()) &#123;</span><br><span class="line">    System.out.println(value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æœ‰åºæ“ä½œ</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å–ç¬¬ä¸€ä¸ªï¼ˆæœ€å°çš„ï¼‰é”®å€¼å¯¹ï¼Œä¸åˆ é™¤</span></span><br><span class="line">Map.Entry&lt;Integer, String&gt; first = map.firstEntry();</span><br><span class="line"><span class="comment">// è·å–æœ€åä¸€ä¸ªï¼ˆæœ€å¤§çš„ï¼‰é”®å€¼å¯¹ï¼Œä¸åˆ é™¤</span></span><br><span class="line">Map.Entry&lt;Integer, String&gt; last = map.lastEntry();</span><br><span class="line"><span class="comment">// è·å–ç¬¬ä¸€ä¸ªï¼ˆæœ€å°çš„ï¼‰key</span></span><br><span class="line"><span class="type">Integer</span> <span class="variable">firstKey</span> <span class="operator">=</span> map.firstKey();</span><br><span class="line"><span class="comment">// è·å–æœ€åä¸€ä¸ªï¼ˆæœ€å¤§çš„ï¼‰key</span></span><br><span class="line"><span class="type">Integer</span> <span class="variable">lastKey</span> <span class="operator">=</span> map.lastKey();</span><br><span class="line"><span class="comment">// è·å–å°äºæŒ‡å®škeyçš„æœ€å¤§é”®å€¼å¯¹</span></span><br><span class="line">Map.Entry&lt;Integer, String&gt; lower = map.lowerEntry(<span class="number">5</span>);</span><br><span class="line"><span class="comment">// è·å–å¤§äºæŒ‡å®škeyçš„æœ€å°é”®å€¼å¯¹</span></span><br><span class="line">Map.Entry&lt;Integer, String&gt; higher = map.higherEntry(<span class="number">5</span>);</span><br><span class="line"><span class="comment">// è·å–å°äºç­‰äºæŒ‡å®škeyçš„æœ€å¤§é”®å€¼å¯¹</span></span><br><span class="line">Map.Entry&lt;Integer, String&gt; floor = map.floorEntry(<span class="number">5</span>);</span><br><span class="line"><span class="comment">// è·å–å¤§äºç­‰äºæŒ‡å®škeyçš„æœ€å°é”®å€¼å¯¹</span></span><br><span class="line">Map.Entry&lt;Integer, String&gt; ceiling = map.ceilingEntry(<span class="number">5</span>);</span><br></pre></td></tr></table></figure>

<p><strong>å…¶ä»–</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å–é”®å€¼å¯¹æ•°é‡</span></span><br><span class="line"><span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> map.size();</span><br><span class="line"><span class="comment">// åˆ¤æ–­æ˜¯å¦ä¸ºç©º</span></span><br><span class="line"><span class="type">boolean</span> <span class="variable">isEmpty</span> <span class="operator">=</span> map.isEmpty();</span><br><span class="line"><span class="comment">// è·å–é™åºæ’åˆ—çš„è§†å›¾</span></span><br><span class="line">NavigableMap&lt;Integer, String&gt; descMap = map.descendingMap();</span><br></pre></td></tr></table></figure>


<h1 id="å¹¶å‘ç¼–ç¨‹"><a href="#å¹¶å‘ç¼–ç¨‹" class="headerlink" title="å¹¶å‘ç¼–ç¨‹"></a>å¹¶å‘ç¼–ç¨‹</h1><h2 id="ç»§æ‰¿Threadç±»"><a href="#ç»§æ‰¿Threadç±»" class="headerlink" title="ç»§æ‰¿Threadç±»"></a>ç»§æ‰¿Threadç±»</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. è‡ªå®šä¹‰ä¸€ä¸ªç±»ï¼Œç»§æ‰¿ java.lang.Thread ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyThread</span> <span class="keyword">extends</span> <span class="title class_">Thread</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyThread</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 2. é‡å†™ run() æ–¹æ³•ï¼šæ­¤æ–¹æ³•æ˜¯çº¿ç¨‹çš„å…¥å£ç‚¹ï¼ŒåŒ…å«äº†è¦å¹¶å‘æ‰§è¡Œçš„ä»£ç é€»è¾‘</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">            System.out.println(name + <span class="string">&quot; è¿è¡Œï¼š &quot;</span> + i);</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="comment">// ç¡çœ ä¸€æ®µæ—¶é—´ï¼Œæ¨¡æ‹Ÿä»»åŠ¡æ‰§è¡Œæ—¶é—´ï¼Œä½¿çº¿ç¨‹äº¤æ›¿æ•ˆæœæ›´æ˜æ˜¾</span></span><br><span class="line">                Thread.sleep((<span class="type">int</span>) (Math.random() * <span class="number">1000</span>));</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThreadDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 3. åˆ›å»ºçº¿ç¨‹å¯¹è±¡</span></span><br><span class="line">        <span class="type">MyThread</span> <span class="variable">t1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyThread</span>(<span class="string">&quot;çº¿ç¨‹A&quot;</span>);</span><br><span class="line">        <span class="type">MyThread</span> <span class="variable">t2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyThread</span>(<span class="string">&quot;çº¿ç¨‹B&quot;</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 4. å¯åŠ¨çº¿ç¨‹ï¼šè°ƒç”¨ start() æ–¹æ³•ï¼Œæ³¨æ„ä¸æ˜¯ç›´æ¥è°ƒç”¨ run()ï¼</span></span><br><span class="line">        t1.start(); <span class="comment">// JVM ä¼šåˆ›å»ºä¸€ä¸ªæ–°çº¿ç¨‹æ¥æ‰§è¡Œ run() æ–¹æ³•</span></span><br><span class="line">        t2.start(); </span><br><span class="line">        </span><br><span class="line">        <span class="comment">// å¦‚æœè°ƒç”¨ t1.run()ï¼Œåˆ™åªæ˜¯æ™®é€šæ–¹æ³•è°ƒç”¨ï¼Œä»åœ¨ main çº¿ç¨‹ä¸­é¡ºåºæ‰§è¡Œã€‚</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Runnableæ¥å£"><a href="#Runnableæ¥å£" class="headerlink" title="Runnableæ¥å£"></a>Runnableæ¥å£</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. è‡ªå®šä¹‰ä¸€ä¸ªç±»ï¼Œå®ç° java.lang.Runnable æ¥å£</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyRunnable</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyRunnable</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 2. å®ç° run() æ–¹æ³•</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">            System.out.println(name + <span class="string">&quot; è¿è¡Œï¼š &quot;</span> + i);</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep((<span class="type">int</span>) (Math.random() * <span class="number">1000</span>));</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RunnableDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 3. åˆ›å»ºä»»åŠ¡å¯¹è±¡ï¼ˆçº¿ç¨‹ä½“ï¼‰</span></span><br><span class="line">        <span class="type">Runnable</span> <span class="variable">task1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyRunnable</span>(<span class="string">&quot;çº¿ç¨‹-1&quot;</span>);</span><br><span class="line">        <span class="type">Runnable</span> <span class="variable">task2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyRunnable</span>(<span class="string">&quot;çº¿ç¨‹-2&quot;</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 4. åˆ›å»ºçº¿ç¨‹å¯¹è±¡ï¼Œå¹¶å°†ä»»åŠ¡å¯¹è±¡ä½œä¸ºå‚æ•°ä¼ å…¥</span></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(task1);</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(task2);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 5. å¯åŠ¨çº¿ç¨‹</span></span><br><span class="line">        t1.start();</span><br><span class="line">        t2.start();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// ç®€æ´å†™æ³•ï¼šä½¿ç”¨åŒ¿åå†…éƒ¨ç±» + Lambda è¡¨è¾¾å¼</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;Lambdaçº¿ç¨‹è¿è¡Œä¸­&quot;</span>);</span><br><span class="line">        &#125;).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="ä¸Šé”"><a href="#ä¸Šé”" class="headerlink" title="ä¸Šé”"></a>ä¸Šé”</h2><h3 id="synchronized"><a href="#synchronized" class="headerlink" title="synchronized"></a>synchronized</h3><p><strong>åŒæ­¥ä»£ç å—</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é”å¯¹è±¡å¯ä»¥æ˜¯ä»»æ„ Objectï¼Œä½†æ‰€æœ‰ç«äº‰çº¿ç¨‹å¿…é¡»ä½¿ç”¨åŒä¸€ä¸ªé”å¯¹è±¡</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> <span class="type">Object</span> <span class="variable">lock</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Object</span>(); </span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">synchronized</span> (lock) &#123; <span class="comment">// è·å– lock å¯¹è±¡çš„é”</span></span><br><span class="line">        count++; <span class="comment">// ä¸´ç•ŒåŒº</span></span><br><span class="line">    &#125; <span class="comment">// é‡Šæ”¾é”</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>åŒæ­¥å®ä¾‹æ–¹æ³•</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">()</span> &#123;</span><br><span class="line">    count++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç­‰ä»·äº</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">synchronized</span> (<span class="built_in">this</span>) &#123;</span><br><span class="line">        count++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>åŒæ­¥é™æ€æ–¹æ³•â€‹â€‹</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">staticAdd</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç­‰ä»·äº</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">staticAdd</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">synchronized</span> (MyClass.class) &#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Lock"><a href="#Lock" class="headerlink" title="Lock"></a>Lock</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.Lock;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.ReentrantLock;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LockDemo</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">Lock</span> <span class="variable">lock</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ReentrantLock</span>(); <span class="comment">// åˆ›å»ºå¯é‡å…¥é”</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">()</span> &#123;</span><br><span class="line">        lock.lock(); <span class="comment">// è·å–é”ï¼Œå¦‚æœé”è¢«å ç”¨ï¼Œåˆ™ç­‰å¾…</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            count++; <span class="comment">// ä¸´ç•ŒåŒº</span></span><br><span class="line">            <span class="comment">// å…¶ä»–å¯èƒ½æŠ›å‡ºå¼‚å¸¸çš„ä»£ç ...</span></span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            lock.unlock(); <span class="comment">// å¿…é¡»åœ¨ finally å—ä¸­é‡Šæ”¾é”ï¼Œç¡®ä¿é”ä¸€å®šè¢«é‡Šæ”¾ï¼</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å°è¯•è·å–é”ï¼Œé¿å…æ­»ç­‰</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">tryAdd</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (lock.tryLock()) &#123; <span class="comment">// å°è¯•è·å–é”ï¼Œç«‹å³è¿”å› true/false</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                count++;</span><br><span class="line">            &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">                lock.unlock();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// æ²¡æ‹¿åˆ°é”ï¼Œåšå…¶ä»–äº‹æƒ…</span></span><br><span class="line">            System.out.println(<span class="string">&quot;è·å–é”å¤±è´¥ï¼Œæ‰§è¡Œå¤‡ç”¨é€»è¾‘&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20251104100612.png" alt="20251104100612"></p>
<h3 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><ol>
<li>ä¸¤ä¸ªçº¿ç¨‹äº¤æ›¿è¾“å‡º1A2B3C4D5E</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//synchronized+ wait()/notify()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AlternatePrintBasic</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Object</span> <span class="variable">lock</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="variable">numTurn</span> <span class="operator">=</span> <span class="literal">true</span>; <span class="comment">// æ§åˆ¶è¯¥è°æ‰§è¡Œï¼štrue-æ•°å­—çº¿ç¨‹ï¼Œfalse-å­—æ¯çº¿ç¨‹</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">numThread</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (lock) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++) &#123;</span><br><span class="line">                    <span class="comment">// å¦‚æœä¸è¯¥æ•°å­—çº¿ç¨‹æ‰§è¡Œï¼Œå°±ç­‰å¾…</span></span><br><span class="line">                    <span class="keyword">while</span> (!numTurn) &#123;</span><br><span class="line">                        <span class="keyword">try</span> &#123;</span><br><span class="line">                            lock.wait();</span><br><span class="line">                        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                            e.printStackTrace();</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    </span><br><span class="line">                    System.out.print(i); <span class="comment">// è¾“å‡ºæ•°å­—</span></span><br><span class="line">                    numTurn = <span class="literal">false</span>;     <span class="comment">// åˆ‡æ¢æƒé™ç»™å­—æ¯çº¿ç¨‹</span></span><br><span class="line">                    lock.notify();       <span class="comment">// å”¤é†’å­—æ¯çº¿ç¨‹</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        </span><br><span class="line">        <span class="type">Thread</span> <span class="variable">letterThread</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (lock) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> <span class="string">&#x27;A&#x27;</span>; c &lt;= <span class="string">&#x27;E&#x27;</span>; c++) &#123;</span><br><span class="line">                    <span class="comment">// å¦‚æœä¸è¯¥å­—æ¯çº¿ç¨‹æ‰§è¡Œï¼Œå°±ç­‰å¾…</span></span><br><span class="line">                    <span class="keyword">while</span> (numTurn) &#123;</span><br><span class="line">                        <span class="keyword">try</span> &#123;</span><br><span class="line">                            lock.wait();</span><br><span class="line">                        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                            e.printStackTrace();</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    </span><br><span class="line">                    System.out.print(c); <span class="comment">// è¾“å‡ºå­—æ¯</span></span><br><span class="line">                    numTurn = <span class="literal">true</span>;      <span class="comment">// åˆ‡æ¢æƒé™ç»™æ•°å­—çº¿ç¨‹</span></span><br><span class="line">                    lock.notify();       <span class="comment">// å”¤é†’æ•°å­—çº¿ç¨‹</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        </span><br><span class="line">        numThread.start();</span><br><span class="line">        letterThread.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.Condition;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.ReentrantLock;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AlternatePrintWithLock</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">ReentrantLock</span> <span class="variable">lock</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ReentrantLock</span>();</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">Condition</span> <span class="variable">numCondition</span> <span class="operator">=</span> lock.newCondition();  <span class="comment">// æ•°å­—çº¿ç¨‹çš„æ¡ä»¶é˜Ÿåˆ—</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">Condition</span> <span class="variable">letterCondition</span> <span class="operator">=</span> lock.newCondition(); <span class="comment">// å­—æ¯çº¿ç¨‹çš„æ¡ä»¶é˜Ÿåˆ—</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="variable">numTurn</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">numThread</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            lock.lock();</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++) &#123;</span><br><span class="line">                    <span class="keyword">while</span> (!numTurn) &#123;</span><br><span class="line">                        numCondition.await(); <span class="comment">// æ•°å­—çº¿ç¨‹ç­‰å¾…</span></span><br><span class="line">                    &#125;</span><br><span class="line">                    </span><br><span class="line">                    System.out.print(i);</span><br><span class="line">                    numTurn = <span class="literal">false</span>;</span><br><span class="line">                    letterCondition.signal(); <span class="comment">// ç²¾ç¡®å”¤é†’å­—æ¯çº¿ç¨‹</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">                lock.unlock();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        </span><br><span class="line">        <span class="type">Thread</span> <span class="variable">letterThread</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            lock.lock();</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> <span class="string">&#x27;A&#x27;</span>; c &lt;= <span class="string">&#x27;E&#x27;</span>; c++) &#123;</span><br><span class="line">                    <span class="keyword">while</span> (numTurn) &#123;</span><br><span class="line">                        letterCondition.await(); <span class="comment">// å­—æ¯çº¿ç¨‹ç­‰å¾…</span></span><br><span class="line">                    &#125;</span><br><span class="line">                    </span><br><span class="line">                    System.out.print(c);</span><br><span class="line">                    numTurn = <span class="literal">true</span>;</span><br><span class="line">                    numCondition.signal(); <span class="comment">// ç²¾ç¡®å”¤é†’æ•°å­—çº¿ç¨‹</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">                lock.unlock();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        </span><br><span class="line">        numThread.start();</span><br><span class="line">        letterThread.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="çº¿ç¨‹æ± "><a href="#çº¿ç¨‹æ± " class="headerlink" title="çº¿ç¨‹æ± "></a>çº¿ç¨‹æ± </h2><p>ç®€å•å®ç°</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.BlockingQueue;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.LinkedBlockingQueue;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.atomic.AtomicBoolean;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç®€å•çº¿ç¨‹æ± å®ç°</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SimpleThreadPool</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å·¥ä½œçº¿ç¨‹é˜Ÿåˆ—</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> List&lt;WorkerThread&gt; workers;</span><br><span class="line">    <span class="comment">// ä»»åŠ¡é˜Ÿåˆ—</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> BlockingQueue&lt;Runnable&gt; taskQueue;</span><br><span class="line">    <span class="comment">// çº¿ç¨‹æ± çŠ¶æ€</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> AtomicBoolean isShutdown;</span><br><span class="line">    <span class="comment">// çº¿ç¨‹æ± å¤§å°</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span> poolSize;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">SimpleThreadPool</span><span class="params">(<span class="type">int</span> poolSize)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.poolSize = poolSize;</span><br><span class="line">        <span class="built_in">this</span>.taskQueue = <span class="keyword">new</span> <span class="title class_">LinkedBlockingQueue</span>&lt;&gt;();</span><br><span class="line">        <span class="built_in">this</span>.workers = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(poolSize);</span><br><span class="line">        <span class="built_in">this</span>.isShutdown = <span class="keyword">new</span> <span class="title class_">AtomicBoolean</span>(<span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆå§‹åŒ–å·¥ä½œçº¿ç¨‹</span></span><br><span class="line">        initializeWorkers();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isShutdown</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> isShutdown.get();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆå§‹åŒ–å·¥ä½œçº¿ç¨‹</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">initializeWorkers</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; poolSize; i++) &#123;</span><br><span class="line">            <span class="type">WorkerThread</span> <span class="variable">worker</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">WorkerThread</span>(<span class="string">&quot;Pool-Thread-&quot;</span> + i);</span><br><span class="line">            worker.start();</span><br><span class="line">            workers.add(worker);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æäº¤ä»»åŠ¡åˆ°çº¿ç¨‹æ± </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">execute</span><span class="params">(Runnable task)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (isShutdown.get()) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalStateException</span>(<span class="string">&quot;çº¿ç¨‹æ± å·²å…³é—­ï¼Œæ— æ³•æäº¤æ–°ä»»åŠ¡&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (task == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">NullPointerException</span>(<span class="string">&quot;ä»»åŠ¡ä¸èƒ½ä¸ºnull&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            taskQueue.put(task);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            Thread.currentThread().interrupt();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å…³é—­çº¿ç¨‹æ± ï¼ˆç­‰å¾…æ‰€æœ‰ä»»åŠ¡å®Œæˆï¼‰</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">shutdown</span><span class="params">()</span> &#123;</span><br><span class="line">        isShutdown.set(<span class="literal">true</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;çº¿ç¨‹æ± å¼€å§‹å…³é—­...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ç«‹å³å…³é—­çº¿ç¨‹æ± ï¼ˆä¸ç­‰å¾…ä»»åŠ¡å®Œæˆï¼‰</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">shutdownNow</span><span class="params">()</span> &#123;</span><br><span class="line">        isShutdown.set(<span class="literal">true</span>);</span><br><span class="line">        <span class="comment">// ä¸­æ–­æ‰€æœ‰å·¥ä½œçº¿ç¨‹</span></span><br><span class="line">        <span class="keyword">for</span> (WorkerThread worker : workers) &#123;</span><br><span class="line">            worker.interrupt();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ¸…ç©ºä»»åŠ¡é˜Ÿåˆ—</span></span><br><span class="line">        taskQueue.clear();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ç­‰å¾…æ‰€æœ‰ä»»åŠ¡å®Œæˆ</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">awaitTermination</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        <span class="keyword">for</span> (WorkerThread worker : workers) &#123;</span><br><span class="line">            worker.join();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è·å–ç­‰å¾…æ‰§è¡Œçš„ä»»åŠ¡æ•°é‡</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getPendingTaskCount</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> taskQueue.size();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å·¥ä½œçº¿ç¨‹å†…éƒ¨ç±»</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">class</span> <span class="title class_">WorkerThread</span> <span class="keyword">extends</span> <span class="title class_">Thread</span> &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">WorkerThread</span><span class="params">(String name)</span> &#123;</span><br><span class="line">            <span class="built_in">super</span>(name);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">            System.out.println(Thread.currentThread().getName() + <span class="string">&quot; å¼€å§‹å·¥ä½œ&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">while</span> (!isShutdown.get() || !taskQueue.isEmpty()) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    <span class="comment">// ä»ä»»åŠ¡é˜Ÿåˆ—è·å–ä»»åŠ¡ï¼ˆé˜»å¡å¼ï¼‰</span></span><br><span class="line">                    <span class="type">Runnable</span> <span class="variable">task</span> <span class="operator">=</span> taskQueue.take();</span><br><span class="line">                    System.out.println(Thread.currentThread().getName() + <span class="string">&quot; æ‰§è¡Œä»»åŠ¡&quot;</span>);</span><br><span class="line"></span><br><span class="line">                    <span class="comment">// æ‰§è¡Œä»»åŠ¡</span></span><br><span class="line">                    task.run();</span><br><span class="line"></span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    <span class="comment">// å“åº”ä¸­æ–­ï¼Œé€€å‡ºå¾ªç¯</span></span><br><span class="line">                    <span class="keyword">if</span> (isShutdown.get()) &#123;</span><br><span class="line">                        System.out.println(Thread.currentThread().getName() + <span class="string">&quot; è¢«ä¸­æ–­ï¼Œå‡†å¤‡é€€å‡º&quot;</span>);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                    <span class="comment">// æ•è·ä»»åŠ¡æ‰§è¡Œä¸­çš„å¼‚å¸¸ï¼Œé¿å…å·¥ä½œçº¿ç¨‹é€€å‡º</span></span><br><span class="line">                    System.err.println(<span class="string">&quot;ä»»åŠ¡æ‰§è¡Œå¼‚å¸¸: &quot;</span> + e.getMessage());</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            System.out.println(Thread.currentThread().getName() + <span class="string">&quot; ç»“æŸå·¥ä½œ&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç®€å•çº¿ç¨‹æ± çš„æµ‹è¯•</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æµ‹è¯•æ‰‹å†™çº¿ç¨‹æ± </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThreadPoolTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        <span class="comment">// åˆ›å»ºçº¿ç¨‹æ± ï¼ˆ3ä¸ªçº¿ç¨‹ï¼‰</span></span><br><span class="line">        <span class="type">SimpleThreadPool</span> <span class="variable">threadPool</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleThreadPool</span>(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;=== æäº¤10ä¸ªä»»åŠ¡åˆ°çº¿ç¨‹æ±  ===&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æäº¤10ä¸ªä»»åŠ¡</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">10</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">final</span> <span class="type">int</span> <span class="variable">taskId</span> <span class="operator">=</span> i;</span><br><span class="line">            threadPool.execute(() -&gt; &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    System.out.println(Thread.currentThread().getName() +</span><br><span class="line">                            <span class="string">&quot; æ­£åœ¨æ‰§è¡Œä»»åŠ¡ &quot;</span> + taskId);</span><br><span class="line">                    <span class="comment">// æ¨¡æ‹Ÿä»»åŠ¡æ‰§è¡Œæ—¶é—´</span></span><br><span class="line">                    Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">                    System.out.println(Thread.currentThread().getName() +</span><br><span class="line">                            <span class="string">&quot; å®Œæˆä»»åŠ¡ &quot;</span> + taskId);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    Thread.currentThread().interrupt();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç›‘æ§ä»»åŠ¡é˜Ÿåˆ—</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">500</span>);</span><br><span class="line">                    <span class="type">int</span> <span class="variable">pendingTasks</span> <span class="operator">=</span> threadPool.getPendingTaskCount();</span><br><span class="line">                    System.out.println(<span class="string">&quot;å½“å‰ç­‰å¾…ä»»åŠ¡æ•°: &quot;</span> + pendingTasks);</span><br><span class="line">                    <span class="keyword">if</span> (pendingTasks == <span class="number">0</span> &amp;&amp; threadPool.isShutdown()) &#123;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).start();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç­‰å¾…5ç§’åå…³é—­çº¿ç¨‹æ± </span></span><br><span class="line">        Thread.sleep(<span class="number">5000</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;\n=== å‡†å¤‡å…³é—­çº¿ç¨‹æ±  ===&quot;</span>);</span><br><span class="line"></span><br><span class="line">        threadPool.shutdown();</span><br><span class="line">        threadPool.awaitTermination();</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;æ‰€æœ‰ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œç¨‹åºé€€å‡º&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¸¦è¿”å›å€¼çš„</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.concurrent.Callable;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.Future;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.FutureTask;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å¢å¼ºç‰ˆçº¿ç¨‹æ± ï¼ˆæ”¯æŒCallableå’ŒFutureï¼‰</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EnhancedThreadPool</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> SimpleThreadPool threadPool;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">EnhancedThreadPool</span><span class="params">(<span class="type">int</span> poolSize)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.threadPool = <span class="keyword">new</span> <span class="title class_">SimpleThreadPool</span>(poolSize);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æäº¤Callableä»»åŠ¡ï¼Œè¿”å›Future</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> &lt;T&gt; Future&lt;T&gt; <span class="title function_">submit</span><span class="params">(Callable&lt;T&gt; task)</span> &#123;</span><br><span class="line">        FutureTask&lt;T&gt; futureTask = <span class="keyword">new</span> <span class="title class_">FutureTask</span>&lt;&gt;(task);</span><br><span class="line">        threadPool.execute(futureTask);</span><br><span class="line">        <span class="keyword">return</span> futureTask;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æäº¤Runnableä»»åŠ¡ï¼Œè¿”å›Future</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> Future&lt;?&gt; submit(Runnable task) &#123;</span><br><span class="line">        FutureTask&lt;?&gt; futureTask = <span class="keyword">new</span> <span class="title class_">FutureTask</span>&lt;&gt;(task, <span class="literal">null</span>);</span><br><span class="line">        threadPool.execute(futureTask);</span><br><span class="line">        <span class="keyword">return</span> futureTask;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">execute</span><span class="params">(Runnable task)</span> &#123;</span><br><span class="line">        threadPool.execute(task);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">shutdown</span><span class="params">()</span> &#123;</span><br><span class="line">        threadPool.shutdown();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">shutdownNow</span><span class="params">()</span> &#123;</span><br><span class="line">        threadPool.shutdownNow();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">awaitTermination</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        threadPool.awaitTermination();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æµ‹è¯•å¢å¼ºç‰ˆçº¿ç¨‹æ± </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">EnhancedThreadPoolTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">EnhancedThreadPool</span> <span class="variable">pool</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">EnhancedThreadPool</span>(<span class="number">2</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// æäº¤æœ‰è¿”å›å€¼çš„ä»»åŠ¡</span></span><br><span class="line">        Future&lt;String&gt; future1 = pool.submit(() -&gt; &#123;</span><br><span class="line">            Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;ä»»åŠ¡1ç»“æœ&quot;</span>;</span><br><span class="line">        &#125;);</span><br><span class="line">        </span><br><span class="line">        Future&lt;Integer&gt; future2 = pool.submit(() -&gt; &#123;</span><br><span class="line">            Thread.sleep(<span class="number">2000</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="number">42</span>;</span><br><span class="line">        &#125;);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// è·å–ç»“æœ</span></span><br><span class="line">        System.out.println(<span class="string">&quot;ä»»åŠ¡1ç»“æœ: &quot;</span> + future1.get());</span><br><span class="line">        System.out.println(<span class="string">&quot;ä»»åŠ¡2ç»“æœ: &quot;</span> + future2.get());</span><br><span class="line">        </span><br><span class="line">        pool.shutdown();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="æ¨¡è¿ç®—æ’ç­‰å¼-è´¹é©¬å°å®šç†-ç»„åˆæ•°"><a href="#æ¨¡è¿ç®—æ’ç­‰å¼-è´¹é©¬å°å®šç†-ç»„åˆæ•°" class="headerlink" title="æ¨¡è¿ç®—æ’ç­‰å¼&#x2F;è´¹é©¬å°å®šç†&#x2F;ç»„åˆæ•°"></a>æ¨¡è¿ç®—æ’ç­‰å¼&#x2F;è´¹é©¬å°å®šç†&#x2F;ç»„åˆæ•°</h1><p>çµç¥çš„æ¨¡è¿ç®—å¸–å­.respect.<br><a target="_blank" rel="noopener" href="https://leetcode.cn/discuss/post/3584387/fen-xiang-gun-mo-yun-suan-de-shi-jie-dan-7xgu/">https://leetcode.cn/discuss/post/3584387/fen-xiang-gun-mo-yun-suan-de-shi-jie-dan-7xgu/</a></p>
<p>Javaçš„å–æ¨¡ï¼ˆmodï¼‰å’Œå–ä½™ï¼ˆ% remï¼‰ï¼Œå‘ç°æˆ‘ä»¬å¸¸ç”¨çš„åŸºæœ¬éƒ½æ˜¯æ­£æ•°å–ä½™æˆ–å–æ¨¡ï¼Œé‚£å¸¦æœ‰è´Ÿæ•°çš„è¦æ€ä¹ˆè®¡ç®—å‘¢ã€‚<br>å½“xå’Œyçš„æ­£è´Ÿç›¸åŒï¼Œå–ä½™å’Œå–æ¨¡ç»“æœç›¸åŒï¼Œå½“xå’Œyæ­£è´Ÿä¸åŒï¼Œå–ä½™ç»“æœçš„ç¬¦å·å’Œxç›¸åŒï¼Œå–æ¨¡ç»“æœçš„ç¬¦å·å’Œyçš„ç¬¦å·ç›¸åŒã€‚<br>å‡è®¾ï¼šè¢«é™¤æ•° a é™¤æ•° b å•†c ä½™æ•°d  å…¬å¼ a&#x2F;b&#x3D;câ€¦d  å¯ä»¥å˜å½¢ä¸º  d&#x3D;a-b*c<br>é‚£ä¹ˆå…³é”®å°±åœ¨äºè¿™ä¸ªcå–ä»€ä¹ˆå€¼ã€‚<br>ä¸¾ä¸ªæ —å­ï¼ša&#x3D;5ï¼Œb&#x3D;-2 ï¼Œé‚£ä¹ˆ 5Ã·(-2)&#x3D;-2.5</p>
<p>å–æ¨¡çš„æ—¶å€™ï¼Œå› ä¸ºmod å‡½æ•°é‡‡ç”¨äº† <code>floor</code> å‡½æ•°ï¼Œ<strong>floorå‡½æ•°æ˜¯å‘ä¸‹å–æ•´çš„</strong>ï¼Œæ‰€ä»¥-2.5å‘ä¸‹å–æ•´å°±æ˜¯-3ï¼Œé‚£ä¹ˆd&#x3D;5-(-2)*(-3)&#x3D;5-6&#x3D;-1ã€‚</p>
<p>å–ä½™(%)çš„æ—¶å€™ï¼Œå› ä¸ºrem å‡½æ•°é‡‡ç”¨ <code>fix</code> å‡½æ•°ï¼Œ<strong>fixå‡½æ•°æ˜¯å‘0å–æ•´çš„</strong>ï¼Œæ‰€ä»¥-2.5å‘0å–æ•´å°±æ˜¯-2ï¼Œé‚£ä¹ˆd&#x3D;5-(-2)*(-2)&#x3D;5-4&#x3D;1ã€‚</p>
<p><strong>å‰è¨€</strong><br>æŸäº›é¢˜ç›®ï¼Œç”±äºè¦è®¡ç®—çš„ç­”æ¡ˆéå¸¸å¤§ï¼ˆè¶…å‡º 64 ä½æ•´æ•°çš„èŒƒå›´ï¼‰ï¼Œä¼šè¦æ±‚æŠŠç­”æ¡ˆå¯¹ 10e9+7 å–æ¨¡ã€‚å¦‚æœæ²¡æœ‰å¤„ç†å¾—å½“çš„è¯ï¼Œä¼š WAï¼ˆé”™è¯¯ï¼‰æˆ–è€… TLEï¼ˆè¶…æ—¶ï¼‰ã€‚<br>ä¾‹å¦‚è®¡ç®—ä¸€å †æ•°å­—çš„ä¹˜ç§¯ï¼Œå¦‚æœæ²¡æœ‰åŠæ—¶å–æ¨¡ï¼Œä¹˜æ³•ä¼šæº¢å‡ºï¼ˆä¾‹å¦‚è®¡ç®—ç»“æœè¶…å‡º C++ ä¸­ long long çš„æœ€å¤§å€¼ï¼‰ï¼Œä»è€Œå¾—åˆ°å’Œé¢„æœŸä¸ç¬¦çš„ç­”æ¡ˆã€‚<br>å¯¹äº Python æ¥è¯´ï¼Œè™½ç„¶æ²¡æœ‰æº¢å‡ºçš„é—®é¢˜ï¼Œä½†å¤§æ•´æ•°ï¼ˆbig integerï¼‰ä¹‹é—´çš„è¿ç®—å¹¶ä¸æ˜¯ O(1) çš„ï¼Œå¯èƒ½ä¼šå¯¼è‡´ TLEã€‚</p>
<p>å¦‚ä½•æ­£ç¡®çš„å–æ¨¡å‘¢?</p>
<p><strong>åŠ æ³•å’Œä¹˜æ³•çš„å–æ¨¡</strong><br>å¦‚æœè®©ä½ è®¡ç®— 1234Ã—6789 çš„<strong>ä¸ªä½æ•°</strong>ï¼Œä½ ä¼šå¦‚ä½•è®¡ç®—ï¼Ÿ</p>
<p>ç”±äºåªæœ‰ä¸ªä½æ•°ä¼šå½±å“åˆ°ä¹˜ç§¯çš„ä¸ªä½æ•°ï¼Œé‚£ä¹ˆ 4Ã—9&#x3D;36 çš„ä¸ªä½æ•° 6 å°±æ˜¯ç­”æ¡ˆã€‚</p>
<p>å¯¹äº 1234+6789 çš„ä¸ªä½æ•°ï¼ŒåŒç†ï¼Œ4+9&#x3D;13 çš„ä¸ªä½æ•° 3 å°±æ˜¯ç­”æ¡ˆã€‚</p>
<p>ä½ èƒ½æŠŠè¿™ä¸ªç»“è®ºæŠ½è±¡æˆæ•°å­¦ç­‰å¼å—ï¼Ÿ</p>
<p>ä¸€èˆ¬æ¶‰åŠåˆ°å–æ¨¡çš„é¢˜ç›®ï¼Œä¼šç”¨åˆ°å¦‚ä¸‹ä¸¤ä¸ªæ’ç­‰å¼ï¼Œå…¶ä¸­ mod è¡¨ç¤ºå–æ¨¡è¿ç®—ï¼ˆmoduloï¼‰ï¼Œå³ç¼–ç¨‹è¯­è¨€ä¸­çš„ %ã€‚ä¸Šé¢è®¡ç®—çš„æ˜¯ m&#x3D;10 çš„æƒ…å†µã€‚</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250617103247.png" alt="20250617103247"></p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250617104155.png" alt="20250617104155"><br>æ ¹æ®è¿™ä¸¤ä¸ªæ’ç­‰å¼ï¼Œæˆ‘ä»¬å¯ä»¥<strong>åœ¨è®¡ç®—è¿‡ç¨‹ä¸­ï¼ˆä¾‹å¦‚å¾ªç¯ï¼‰ï¼Œå¯¹åŠ æ³•å’Œä¹˜æ³•çš„ç»“æœå–æ¨¡</strong>ï¼Œè€Œä¸æ˜¯åœ¨å¾ªç¯ç»“æŸåå†å–æ¨¡ã€‚<br>æ³¨ï¼šå¦‚æœæ¶‰åŠåˆ°å¹‚è¿ç®—ï¼Œ<strong>æŒ‡æ•°æ˜¯ä¸èƒ½éšæ„å–æ¨¡çš„</strong>ã€‚å¦‚æœæŒ‡æ•°åœ¨ 64 ä½æ•´æ•°çš„èŒƒå›´å†…ï¼Œå¯ä»¥ç”¨å¿«é€Ÿå¹‚è®¡ç®—ï¼ŒåŸç†è§ä¸€å¼ å›¾ç§’æ‡‚å¿«é€Ÿå¹‚ï¼›å¦‚æœæŒ‡æ•°è¶…å‡º 64 ä½æ•´æ•°çš„èŒƒå›´ï¼Œè§æ¬§æ‹‰é™å¹‚ã€‚</p>
<p>å¦‚æœè®¡ç®—è¿‡ç¨‹ä¸­æœ‰å‡æ³•ï¼Œå¯èƒ½ä¼šäº§ç”Ÿè´Ÿæ•°ï¼Œå¤„ç†ä¸å½“ä¹Ÿä¼šå¯¼è‡´ WAã€‚å¦‚ä½•æ­£ç¡®å¤„ç†è¿™ç§æƒ…å†µå‘¢ï¼Ÿ<br><strong>åŒä½™</strong><br><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250617105425.png" alt="20250617105425"></p>
<p><strong>åŒä½™å¼çš„ç§»é¡¹</strong><br>åŒä½™å¼ä¸­çš„åŠ å‡æ³•å¯ä»¥ç§»é¡¹<br><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250617105921.png" alt="20250617105921"><br><strong>è´Ÿæ•°å’Œå‡æ³•çš„å–æ¨¡</strong><br><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250617110526.png" alt="20250617110526"></p>
<p><strong>é™¤æ³•çš„å–æ¨¡</strong><br><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250617112637.png" alt="20250617112637"><br>è¯æ˜:<br><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250617112834.png" alt="20250617112834"></p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250617113153.png" alt="20250617113153"></p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250617113256.png" alt="20250617113256"></p>
<p><strong>æ±‚æ¨¡è¿ç®—æ€»ç»“</strong></p>
<p>ä»£ç å®ç°æ—¶ï¼Œä¸Šé¢çš„åŠ å‡ä¹˜é™¤é€šå¸¸æ˜¯è¿™æ ·å†™çš„ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">MOD = <span class="number">1_000_000_007</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åŠ </span></span><br><span class="line">(a + b) % MOD</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‡ï¼Œb åœ¨ [0,MOD-1] ä¸­</span></span><br><span class="line">(a - b + MOD) % MOD</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŠŠä»»æ„æ•´æ•° a å–æ¨¡åˆ° [0,MOD-1] ä¸­ï¼Œæ— è®º a æ˜¯æ­£æ˜¯è´Ÿ</span></span><br><span class="line">(a % MOD + MOD) % MOD</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¹˜ï¼ˆæ³¨æ„ä½¿ç”¨ 64 ä½æ•´æ•°ï¼‰</span></span><br><span class="line">a * b % MOD</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¤šä¸ªæ•°ç›¸ä¹˜ï¼Œè¦æ­¥æ­¥å–æ¨¡ï¼Œé˜²æ­¢æº¢å‡º</span></span><br><span class="line">a * b % MOD * c % MOD</span><br><span class="line"></span><br><span class="line"><span class="comment">// é™¤ï¼ˆMOD æ˜¯è´¨æ•°ä¸” b ä¸æ˜¯ MOD çš„å€æ•°ï¼‰</span></span><br><span class="line">a * qpow(b, MOD - <span class="number">2</span>, MOD) % MOD</span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­ qpow ä¸ºå¿«é€Ÿå¹‚.</p>
<p>æ€»ä¹‹ï¼Œå¦‚æœå‘ç°è§£ç­”é”™è¯¯ï¼Œå¯ä»¥æ£€æŸ¥ä¸‹ä»£ç ï¼Œçœ‹çœ‹æ˜¯ä¸æ˜¯å“ªé‡Œæ¼æ‰å–æ¨¡äº†ã€‚<br><strong>é™„:ç»„åˆæ•°è®¡ç®—</strong><br><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250617140917.png" alt="20250617140917"><br>æ¨¡æ¿ä»£ç å¦‚ä¸‹:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">MOD</span> <span class="operator">=</span> <span class="number">1_000_000_007</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">MX</span> <span class="operator">=</span> <span class="number">100_001</span>; <span class="comment">// æ ¹æ®é¢˜ç›®æ•°æ®èŒƒå›´ä¿®æ”¹</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span>[] F = <span class="keyword">new</span> <span class="title class_">long</span>[MX]; <span class="comment">// F[i] = i!</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span>[] INV_F = <span class="keyword">new</span> <span class="title class_">long</span>[MX]; <span class="comment">// INV_F[i] = i!^-1 = pow(i!, MOD-2)</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        F[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; MX; i++) &#123;</span><br><span class="line">            F[i] = F[i - <span class="number">1</span>] * i % MOD;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        INV_F[MX - <span class="number">1</span>] = pow(F[MX - <span class="number">1</span>], MOD - <span class="number">2</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> MX - <span class="number">1</span>; i &gt; <span class="number">0</span>; i--) &#123;</span><br><span class="line">            INV_F[i - <span class="number">1</span>] = INV_F[i] * i % MOD;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">long</span> <span class="title function_">pow</span><span class="params">(<span class="type">long</span> x, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="type">long</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (; n &gt; <span class="number">0</span>; n /= <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (n % <span class="number">2</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                res = res * x % MOD;</span><br><span class="line">            &#125;</span><br><span class="line">            x = x * x % MOD;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä» n ä¸ªæ•°ä¸­é€‰ m ä¸ªæ•°çš„æ–¹æ¡ˆæ•°</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">long</span> <span class="title function_">comb</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> m)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> m &lt; <span class="number">0</span> || m &gt; n ? <span class="number">0</span> : F[n] * INV_F[m] % MOD * INV_F[n - m] % MOD;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">solve</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="comment">// é¢„å¤„ç†çš„é€»è¾‘å†™åœ¨ static å—ä¸­ï¼Œè¿™æ ·åªä¼šåˆå§‹åŒ–ä¸€æ¬¡</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="å¿«é€Ÿå¹‚"><a href="#å¿«é€Ÿå¹‚" class="headerlink" title="å¿«é€Ÿå¹‚"></a>å¿«é€Ÿå¹‚</h1><p>ä¸€å›¾æµ(çµç¥):<br><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250617141433.png" alt="20250617141433"></p>
<p>ä»£ç å®ç°æ—¶ï¼Œæ³¨æ„ n&#x3D;âˆ’2^31çš„æƒ…å†µï¼Œå–åå n&#x3D;2^31è¶…å‡º int æœ€å¤§å€¼ã€‚å¯ä»¥è½¬æˆ 64 ä½ int è§£å†³ã€‚<br>æ¨¡ç‰ˆ:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">myPow</span><span class="params">(<span class="type">double</span> x, <span class="type">int</span> N)</span> &#123;</span><br><span class="line">        <span class="type">double</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">        <span class="type">long</span> <span class="variable">n</span> <span class="operator">=</span> N;</span><br><span class="line">        <span class="keyword">if</span> (n &lt; <span class="number">0</span>) &#123; <span class="comment">// x^-n = (1/x)^n</span></span><br><span class="line">            n = -n;</span><br><span class="line">            x = <span class="number">1</span> / x;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (n != <span class="number">0</span>) &#123; <span class="comment">// ä»ä½åˆ°é«˜æšä¸¾ n çš„æ¯ä¸ªæ¯”ç‰¹ä½</span></span><br><span class="line">            <span class="keyword">if</span> ((n &amp; <span class="number">1</span>) == <span class="number">1</span>) &#123; <span class="comment">// è¿™ä¸ªæ¯”ç‰¹ä½æ˜¯ 1</span></span><br><span class="line">                ans *= x; <span class="comment">// æŠŠ x ä¹˜åˆ° ans ä¸­</span></span><br><span class="line">            &#125;</span><br><span class="line">            x *= x; <span class="comment">// x è‡ªèº«å¹³æ–¹</span></span><br><span class="line">            n &gt;&gt;= <span class="number">1</span>; <span class="comment">// ç»§ç»­æšä¸¾ä¸‹ä¸€ä¸ªæ¯”ç‰¹ä½</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="äºŒè¿›åˆ¶"><a href="#äºŒè¿›åˆ¶" class="headerlink" title="äºŒè¿›åˆ¶"></a>äºŒè¿›åˆ¶</h1><p><a target="_blank" rel="noopener" href="https://leetcode.cn/circle/discuss/CaOJ45/">ä»é›†åˆè®ºåˆ°ä½è¿ç®—ï¼Œå¸¸è§ä½è¿ç®—æŠ€å·§åˆ†ç±»æ€»ç»“</a></p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250628202415.png" alt="20250628202415"></p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250628202517.png" alt="20250628202517"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">      s = <span class="number">101100</span></span><br><span class="line">    s-<span class="number">1</span> = <span class="number">101011</span> <span class="comment">// æœ€ä½ä½çš„ 1 å˜æˆ 0ï¼ŒåŒæ—¶ 1 å³è¾¹çš„ 0 éƒ½å–åï¼Œå˜æˆ 1</span></span><br><span class="line">s&amp;(s-<span class="number">1</span>) = <span class="number">101000</span></span><br></pre></td></tr></table></figure>
<p>ç‰¹åˆ«åœ°ï¼Œå¦‚æœ s æ˜¯ 2 çš„å¹‚ï¼Œé‚£ä¹ˆ s&amp;(sâˆ’1)&#x3D;0ã€‚</p>
<p>æ­¤å¤–ï¼Œç¼–ç¨‹è¯­è¨€æä¾›äº†ä¸€äº›å’ŒäºŒè¿›åˆ¶æœ‰å…³çš„åº“å‡½æ•°ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>è®¡ç®—äºŒè¿›åˆ¶ä¸­çš„ 1 çš„ä¸ªæ•°ï¼Œä¹Ÿå°±æ˜¯é›†åˆå¤§å°ï¼›</li>
<li>è®¡ç®—äºŒè¿›åˆ¶é•¿åº¦ï¼Œå‡ä¸€åå¾—åˆ°é›†åˆæœ€å¤§å…ƒç´ ï¼›</li>
<li>è®¡ç®—äºŒè¿›åˆ¶å°¾é›¶ä¸ªæ•°ï¼Œä¹Ÿå°±æ˜¯é›†åˆæœ€å°å…ƒç´ ã€‚</li>
</ul>
<p>è°ƒç”¨è¿™äº›å‡½æ•°çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ O(1)ã€‚<br><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250628202626.png" alt="20250628202626"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">     s = <span class="number">101100</span></span><br><span class="line">    ~s = <span class="number">010011</span></span><br><span class="line">(~s)+<span class="number">1</span> = <span class="number">010100</span> <span class="comment">// æ ¹æ®è¡¥ç çš„å®šä¹‰ï¼Œè¿™å°±æ˜¯ -s  =&gt;  s çš„æœ€ä½ 1 å·¦ä¾§å–åï¼Œå³ä¾§ä¸å˜</span></span><br><span class="line">s &amp; -s = <span class="number">000100</span> <span class="comment">// lowbit</span></span><br></pre></td></tr></table></figure>

<p><strong>éå†é›†åˆ</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (((s &gt;&gt; i) &amp; <span class="number">1</span>) == <span class="number">1</span>) &#123; <span class="comment">// i åœ¨ s ä¸­</span></span><br><span class="line">        <span class="comment">// å¤„ç† i çš„é€»è¾‘</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">t</span> <span class="operator">=</span> s; t &gt; <span class="number">0</span>; t &amp;= t - <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> Integer.numberOfTrailingZeros(t);</span><br><span class="line">    <span class="comment">// å¤„ç† i çš„é€»è¾‘</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250628202741.png" alt="20250628202741"></p>
<p>å››ã€æšä¸¾é›†åˆ<br>Â§4.1 æšä¸¾æ‰€æœ‰é›†åˆ<br>è®¾å…ƒç´ èŒƒå›´ä» 0 åˆ° nâˆ’1ï¼Œä»ç©ºé›† âˆ… æšä¸¾åˆ°å…¨é›† Uï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">s</span> <span class="operator">=</span> <span class="number">0</span>; s &lt; (<span class="number">1</span> &lt;&lt; n); s++) &#123;</span><br><span class="line">    <span class="comment">// å¤„ç† s çš„é€»è¾‘</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Â§4.2 æšä¸¾éç©ºå­é›†<br>è®¾é›†åˆä¸º sï¼Œä»å¤§åˆ°å°æšä¸¾ s çš„æ‰€æœ‰éç©ºå­é›† subï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">sub</span> <span class="operator">=</span> s; sub &gt; <span class="number">0</span>; sub = (sub - <span class="number">1</span>) &amp; s) &#123;</span><br><span class="line">    <span class="comment">// å¤„ç† sub çš„é€»è¾‘</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸ºä»€ä¹ˆè¦å†™æˆ sub &#x3D; (sub - 1) &amp; s å‘¢ï¼Ÿ</p>
<p>æš´åŠ›åšæ³•æ˜¯ä» s å‡ºå‘ï¼Œä¸æ–­å‡ä¸€ï¼Œç›´åˆ° 0ã€‚ä½†è¿™æ ·åšï¼Œä¸­é€”ä¼šé‡åˆ°å¾ˆå¤šå¹¶ä¸æ˜¯ s çš„å­é›†çš„æƒ…å†µã€‚ä¾‹å¦‚ s&#x3D;10101 æ—¶ï¼Œå‡ä¸€å¾—åˆ° 10100ï¼Œè¿™æ˜¯ s çš„å­é›†ã€‚ä½†å†å‡ä¸€å°±å¾—åˆ° 10011 äº†ï¼Œè¿™å¹¶ä¸æ˜¯ s çš„å­é›†ï¼Œä¸‹ä¸€ä¸ªå­é›†åº”è¯¥æ˜¯ 10001ã€‚</p>
<p>æŠŠæ‰€æœ‰çš„åˆæ³•å­é›†æŒ‰é¡ºåºåˆ—å‡ºæ¥ï¼Œä¼šå‘ç°æˆ‘ä»¬åšçš„ç›¸å½“äºã€Œå‹ç¼©ç‰ˆã€çš„äºŒè¿›åˆ¶å‡æ³•ï¼Œä¾‹å¦‚</p>
<p>10101â†’10100â†’10001â†’10000â†’00101â†’â‹¯<br>å¦‚æœå¿½ç•¥æ‰ 10101 ä¸­çš„ä¸¤ä¸ª 0ï¼Œæ•°å­—çš„å˜åŒ–å’ŒäºŒè¿›åˆ¶å‡æ³•æ˜¯ä¸€æ ·çš„ï¼Œå³</p>
<p>111â†’110â†’101â†’100â†’011â†’â‹¯<br>å¦‚ä½•å¿«é€Ÿè·³åˆ°ä¸‹ä¸€ä¸ªå­é›†å‘¢ï¼Ÿæ¯”å¦‚ï¼Œæ€ä¹ˆä» 10100 è·³åˆ° 10001ï¼Ÿ</p>
<p>æ™®é€šçš„äºŒè¿›åˆ¶å‡æ³•ï¼Œæ˜¯ 10100âˆ’1&#x3D;10011ï¼Œä¹Ÿå°±æ˜¯æŠŠæœ€ä½ä½çš„ 1 å˜æˆ 0ï¼ŒåŒæ—¶æŠŠæœ€ä½ä½çš„ 1 å³è¾¹çš„ 0 éƒ½å˜æˆ 1ã€‚<br>å‹ç¼©ç‰ˆçš„äºŒè¿›åˆ¶å‡æ³•ä¹Ÿæ˜¯ç±»ä¼¼çš„ï¼Œå¯¹äº 10100â†’10001ï¼Œä¹Ÿä¼šæŠŠæœ€ä½ä½çš„ 1 å˜æˆ 0ï¼Œå¯¹äºæœ€ä½ä½çš„ 1 å³è¾¹çš„ 0ï¼Œå¹¶ä¸æ˜¯éƒ½å˜æˆ 1ï¼Œåªæœ‰åœ¨ s&#x3D;10101 ä¸­çš„ 1 æ‰ä¼šå˜æˆ 1ã€‚æ€ä¹ˆåšåˆ°ï¼Ÿå‡ä¸€å &amp;Â 10101 å°±è¡Œï¼Œä¹Ÿå°±æ˜¯ (10100âˆ’1)Â &amp;Â 10101&#x3D;10001ã€‚<br>Â§4.3 æšä¸¾å­é›†ï¼ˆåŒ…å«ç©ºé›†ï¼‰<br>å¦‚æœè¦ä»å¤§åˆ°å°æšä¸¾ s çš„æ‰€æœ‰å­é›† subï¼ˆä» s æšä¸¾åˆ°ç©ºé›† âˆ…ï¼‰ï¼Œå¯ä»¥è¿™æ ·å†™ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">sub</span> <span class="operator">=</span> s;</span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">    <span class="comment">// å¤„ç† sub çš„é€»è¾‘</span></span><br><span class="line">    sub = (sub - <span class="number">1</span>) &amp; s;</span><br><span class="line">&#125; <span class="keyword">while</span> (sub != s);</span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­ Java å’Œ C++ çš„åŸç†æ˜¯ï¼Œå½“ sub&#x3D;0 æ—¶ï¼ˆç©ºé›†ï¼‰ï¼Œå†å‡ä¸€å°±å¾—åˆ° âˆ’1ï¼Œå¯¹åº”çš„äºŒè¿›åˆ¶ä¸º 111â‹¯1ï¼Œå† &amp;s å°±å¾—åˆ°äº† sã€‚æ‰€ä»¥å½“å¾ªç¯åˆ° sub&#x3D;s æ—¶ï¼Œè¯´æ˜æœ€åä¸€æ¬¡å¾ªç¯çš„ sub&#x3D;0ï¼ˆç©ºé›†ï¼‰ï¼Œs çš„æ‰€æœ‰å­é›†éƒ½æšä¸¾åˆ°äº†ï¼Œé€€å‡ºå¾ªç¯ã€‚</p>
<p>æ³¨ï¼šè¿˜å¯ä»¥æšä¸¾å…¨é›† U çš„æ‰€æœ‰å¤§å°æ°å¥½ä¸º k çš„å­é›†ï¼Œè¿™ä¸€æŠ€å·§å«åš Gosperâ€™s Hackï¼Œå…·ä½“è¯·çœ‹ è§†é¢‘è®²è§£ã€‚</p>
<p>Â§4.4 æšä¸¾è¶…é›†<br>å¦‚æœ T æ˜¯ S çš„å­é›†ï¼Œé‚£ä¹ˆç§° S æ˜¯ T çš„è¶…é›†ï¼ˆsupersetï¼‰ã€‚</p>
<p>æšä¸¾è¶…é›†çš„åŸç†å’Œä¸Šæ–‡æšä¸¾å­é›†æ˜¯ç±»ä¼¼çš„ï¼Œè¿™é‡Œé€šè¿‡æˆ–è¿ç®—ä¿è¯æšä¸¾çš„é›†åˆ S ä¸€å®šåŒ…å«é›†åˆ T ä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚</p>
<p>æšä¸¾ Sï¼Œæ»¡è¶³ S æ˜¯ T çš„è¶…é›†ï¼Œä¹Ÿæ˜¯å…¨é›† U&#x3D;{0,1,2,â€¦,nâˆ’1} çš„å­é›†ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">s</span> <span class="operator">=</span> t; s &lt; (<span class="number">1</span> &lt;&lt; n); s = (s + <span class="number">1</span>) | t) &#123;</span><br><span class="line">    <span class="comment">// å¤„ç† s çš„é€»è¾‘</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h1><p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250607192928.png" alt="20250607192928"></p>
<h2 id="å¿«é€Ÿæ’åº"><a href="#å¿«é€Ÿæ’åº" class="headerlink" title="å¿«é€Ÿæ’åº"></a>å¿«é€Ÿæ’åº</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Random</span> <span class="variable">rand</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] sortArray(<span class="type">int</span>[] nums) &#123;</span><br><span class="line">        quickSort(nums, <span class="number">0</span>, nums.length - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> nums;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¿«é€Ÿæ’åºå­æ•°ç»„ [left, right]</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">quickSort</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> left, <span class="type">int</span> right)</span> &#123;</span><br><span class="line">        <span class="comment">// ä¼˜åŒ–ï¼šå¦‚æœå­æ•°ç»„å·²æ˜¯å‡åºï¼Œç›´æ¥è¿”å›</span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">ordered</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> left; i &lt; right; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums[i] &gt; nums[i + <span class="number">1</span>]) &#123;</span><br><span class="line">                ordered = <span class="literal">false</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (ordered) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> partition(nums, left, right); <span class="comment">// åˆ’åˆ†å­æ•°ç»„</span></span><br><span class="line">        quickSort(nums, left, i - <span class="number">1</span>);  <span class="comment">// æ’åºåœ¨ pivot å·¦ä¾§çš„å…ƒç´ </span></span><br><span class="line">        quickSort(nums, i + <span class="number">1</span>, right); <span class="comment">// æ’åºåœ¨ pivot å³ä¾§çš„å…ƒç´ </span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åœ¨å­æ•°ç»„ [left, right] ä¸­éšæœºé€‰æ‹©ä¸€ä¸ªåŸºå‡†å…ƒç´  pivot</span></span><br><span class="line">    <span class="comment">// æ ¹æ® pivot é‡æ–°æ’åˆ—å­æ•°ç»„ [left, right]</span></span><br><span class="line">    <span class="comment">// é‡æ–°æ’åˆ—åï¼Œ&lt;= pivot çš„å…ƒç´ éƒ½åœ¨ pivot çš„å·¦ä¾§ï¼Œ&gt;= pivot çš„å…ƒç´ éƒ½åœ¨ pivot çš„å³ä¾§</span></span><br><span class="line">    <span class="comment">// è¿”å› pivot åœ¨é‡æ–°æ’åˆ—åçš„ nums ä¸­çš„ä¸‹æ ‡</span></span><br><span class="line">    <span class="comment">// ç‰¹åˆ«åœ°ï¼Œå¦‚æœå­æ•°ç»„çš„æ‰€æœ‰å…ƒç´ éƒ½ç­‰äº pivotï¼Œæˆ‘ä»¬ä¼šè¿”å›å­æ•°ç»„çš„ä¸­å¿ƒä¸‹æ ‡ï¼Œé¿å…é€€åŒ–</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">partition</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> left, <span class="type">int</span> right)</span> &#123;</span><br><span class="line">        <span class="comment">// 1. åœ¨å­æ•°ç»„ [left, right] ä¸­éšæœºé€‰æ‹©ä¸€ä¸ªåŸºå‡†å…ƒç´  pivot</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> left + rand.nextInt(right - left + <span class="number">1</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">pivot</span> <span class="operator">=</span> nums[i];</span><br><span class="line">        <span class="comment">// æŠŠ pivot ä¸å­æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ äº¤æ¢ï¼Œé¿å… pivot å¹²æ‰°åç»­åˆ’åˆ†ï¼Œä»è€Œç®€åŒ–å®ç°é€»è¾‘</span></span><br><span class="line">        swap(nums, i, left);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2. ç›¸å‘åŒæŒ‡é’ˆéå†å­æ•°ç»„ [left + 1, right]</span></span><br><span class="line">        <span class="comment">// å¾ªç¯ä¸å˜é‡ï¼šåœ¨å¾ªç¯è¿‡ç¨‹ä¸­ï¼Œå­æ•°ç»„çš„æ•°æ®åˆ†å¸ƒå§‹ç»ˆå¦‚ä¸‹å›¾</span></span><br><span class="line">        <span class="comment">// [ pivot | &lt;=pivot | å°šæœªéå† | &gt;=pivot ]</span></span><br><span class="line">        <span class="comment">//   ^                 ^     ^         ^</span></span><br><span class="line">        <span class="comment">//   left              i     j         right</span></span><br><span class="line"></span><br><span class="line">        i = left + <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> right;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="keyword">while</span> (i &lt;= j &amp;&amp; nums[i] &lt; pivot) &#123;</span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// æ­¤æ—¶ nums[i] &gt;= pivot</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">while</span> (i &lt;= j &amp;&amp; nums[j] &gt; pivot) &#123;</span><br><span class="line">                j--;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// æ­¤æ—¶ nums[j] &lt;= pivot</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (i &gt;= j) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// ç»´æŒå¾ªç¯ä¸å˜é‡</span></span><br><span class="line">            swap(nums, i, j);</span><br><span class="line">            i++;</span><br><span class="line">            j--;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¾ªç¯ç»“æŸå</span></span><br><span class="line">        <span class="comment">// [ pivot | &lt;=pivot | &gt;=pivot ]</span></span><br><span class="line">        <span class="comment">//   ^             ^   ^     ^</span></span><br><span class="line">        <span class="comment">//   left          j   i     right</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3. æŠŠ pivot ä¸ nums[j] äº¤æ¢ï¼Œå®Œæˆåˆ’åˆ†ï¼ˆpartitionï¼‰</span></span><br><span class="line">        <span class="comment">// ä¸ºä»€ä¹ˆä¸ j äº¤æ¢ï¼Ÿ</span></span><br><span class="line">        <span class="comment">// å¦‚æœä¸ i äº¤æ¢ï¼Œå¯èƒ½ä¼šå‡ºç° i = right + 1 çš„æƒ…å†µï¼Œå·²ç»ä¸‹æ ‡è¶Šç•Œäº†ï¼Œæ— æ³•äº¤æ¢</span></span><br><span class="line">        <span class="comment">// å¦ä¸€ä¸ªåŸå› æ˜¯å¦‚æœ nums[i] &gt; pivotï¼Œäº¤æ¢ä¼šå¯¼è‡´ä¸€ä¸ªå¤§äº pivot çš„æ•°å‡ºç°åœ¨å­æ•°ç»„æœ€å·¦è¾¹ï¼Œä¸æ˜¯æœ‰æ•ˆåˆ’åˆ†</span></span><br><span class="line">        <span class="comment">// ä¸ j äº¤æ¢ï¼Œå³ä½¿ j = leftï¼Œäº¤æ¢ä¹Ÿä¸ä¼šå‡ºé”™</span></span><br><span class="line">        swap(nums, left, j);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// äº¤æ¢å</span></span><br><span class="line">        <span class="comment">// [ &lt;=pivot | pivot | &gt;=pivot ]</span></span><br><span class="line">        <span class="comment">//               ^</span></span><br><span class="line">        <span class="comment">//               j</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// è¿”å› pivot çš„ä¸‹æ ‡</span></span><br><span class="line">        <span class="keyword">return</span> j;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// äº¤æ¢ nums[i] ä¸ nums[j]</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">swap</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">tmp</span> <span class="operator">=</span> nums[i];</span><br><span class="line">        nums[i] = nums[j];</span><br><span class="line">        nums[j] = tmp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="äºŒåˆ†æŸ¥æ‰¾"><a href="#äºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="äºŒåˆ†æŸ¥æ‰¾"></a>äºŒåˆ†æŸ¥æ‰¾</h2><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/binary-search/">https://leetcode.cn/problems/binary-search/</a><br><strong>é€šç”¨æ¨¡æ¿ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">search</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> lowerBound(nums, target); <span class="comment">// é€‰æ‹©å…¶ä¸­ä¸€ç§å†™æ³•å³å¯</span></span><br><span class="line">        <span class="keyword">return</span> i &lt; nums.length &amp;&amp; nums[i] == target ? i : -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ã€ä¸‹é¢åˆ—äº†ä¸‰ç§å†™æ³•ï¼Œé€‰ä¸€ç§è‡ªå·±å–œæ¬¢çš„å°±è¡Œã€‘</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// lowerBound è¿”å›æœ€å°çš„æ»¡è¶³ nums[i] &gt;= target çš„ i</span></span><br><span class="line">    <span class="comment">// å¦‚æœæ•°ç»„ä¸ºç©ºï¼Œæˆ–è€…æ‰€æœ‰æ•°éƒ½ &lt; targetï¼Œåˆ™è¿”å› nums.length</span></span><br><span class="line">    <span class="comment">// è¦æ±‚ nums æ˜¯éé€’å‡çš„ï¼Œå³ nums[i] &lt;= nums[i + 1]</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// é—­åŒºé—´å†™æ³•</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">lowerBound</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>, right = nums.length - <span class="number">1</span>; <span class="comment">// é—­åŒºé—´ [left, right]</span></span><br><span class="line">        <span class="keyword">while</span> (left &lt;= right) &#123; <span class="comment">// åŒºé—´ä¸ä¸ºç©º</span></span><br><span class="line">            <span class="comment">// å¾ªç¯ä¸å˜é‡ï¼š</span></span><br><span class="line">            <span class="comment">// nums[left-1] &lt; target</span></span><br><span class="line">            <span class="comment">// nums[right+1] &gt;= target</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> left + (right - left) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (nums[mid] &lt; target)</span><br><span class="line">                left = mid + <span class="number">1</span>; <span class="comment">// èŒƒå›´ç¼©å°åˆ° [mid+1, right]</span></span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                right = mid - <span class="number">1</span>; <span class="comment">// èŒƒå›´ç¼©å°åˆ° [left, mid-1]</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> left; <span class="comment">// æˆ–è€… right+1</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å·¦é—­å³å¼€åŒºé—´å†™æ³•</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">lowerBound2</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>, right = nums.length; <span class="comment">// å·¦é—­å³å¼€åŒºé—´ [left, right)</span></span><br><span class="line">        <span class="keyword">while</span> (left &lt; right) &#123; <span class="comment">// åŒºé—´ä¸ä¸ºç©º</span></span><br><span class="line">            <span class="comment">// å¾ªç¯ä¸å˜é‡ï¼š</span></span><br><span class="line">            <span class="comment">// nums[left-1] &lt; target</span></span><br><span class="line">            <span class="comment">// nums[right] &gt;= target</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> left + (right - left) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (nums[mid] &lt; target)</span><br><span class="line">                left = mid + <span class="number">1</span>; <span class="comment">// èŒƒå›´ç¼©å°åˆ° [mid+1, right)</span></span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                right = mid; <span class="comment">// èŒƒå›´ç¼©å°åˆ° [left, mid)</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> left; <span class="comment">// æˆ–è€… right</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¼€åŒºé—´å†™æ³•</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">lowerBound3</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> -<span class="number">1</span>, right = nums.length; <span class="comment">// å¼€åŒºé—´ (left, right)</span></span><br><span class="line">        <span class="keyword">while</span> (left + <span class="number">1</span> &lt; right) &#123; <span class="comment">// åŒºé—´ä¸ä¸ºç©º</span></span><br><span class="line">            <span class="comment">// å¾ªç¯ä¸å˜é‡ï¼š</span></span><br><span class="line">            <span class="comment">// nums[left] &lt; target</span></span><br><span class="line">            <span class="comment">// nums[right] &gt;= target</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> left + (right - left) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (nums[mid] &lt; target)</span><br><span class="line">                left = mid; <span class="comment">// èŒƒå›´ç¼©å°åˆ° (mid, right)</span></span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                right = mid; <span class="comment">// èŒƒå›´ç¼©å°åˆ° (left, mid)</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> right; <span class="comment">// æˆ–è€… left+1</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>äºŒåˆ†æ³•<br><a target="_blank" rel="noopener" href="https://programmercarl.com/0704.%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE.html">æ•°ç»„ï¼šæ¯æ¬¡é‡åˆ°äºŒåˆ†æ³•ï¼Œéƒ½æ˜¯ä¸€çœ‹å°±ä¼šï¼Œä¸€å†™å°±åºŸ</a></p>
<ul>
<li>æš´åŠ›è§£æ³•æ—¶é—´å¤æ‚åº¦ï¼šO(n)</li>
<li>äºŒåˆ†æ³•æ—¶é—´å¤æ‚åº¦ï¼šO(logn)</li>
</ul>
<h2 id="åŒæŒ‡é’ˆ"><a href="#åŒæŒ‡é’ˆ" class="headerlink" title="åŒæŒ‡é’ˆ"></a>åŒæŒ‡é’ˆ</h2><p>åŒæŒ‡é’ˆæ³•</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://programmercarl.com/0027.%E7%A7%BB%E9%99%A4%E5%85%83%E7%B4%A0.html">æ•°ç»„ï¼šå°±ç§»é™¤ä¸ªå…ƒç´ å¾ˆéš¾ä¹ˆï¼Ÿ(opens new window)</a></li>
</ul>
<p>åŒæŒ‡é’ˆæ³•ï¼ˆå¿«æ…¢æŒ‡é’ˆæ³•ï¼‰ï¼šé€šè¿‡ä¸€ä¸ªå¿«æŒ‡é’ˆå’Œæ…¢æŒ‡é’ˆåœ¨ä¸€ä¸ªforå¾ªç¯ä¸‹å®Œæˆä¸¤ä¸ªforå¾ªç¯çš„å·¥ä½œã€‚</p>
<ul>
<li>æš´åŠ›è§£æ³•æ—¶é—´å¤æ‚åº¦ï¼šO(n^2)</li>
<li>åŒæŒ‡é’ˆæ—¶é—´å¤æ‚åº¦ï¼šO(n)</li>
</ul>
<h2 id="æ»‘åŠ¨çª—å£"><a href="#æ»‘åŠ¨çª—å£" class="headerlink" title="æ»‘åŠ¨çª—å£"></a>æ»‘åŠ¨çª—å£</h2><p>æ»‘åŠ¨çª—å£</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://programmercarl.com/0209.%E9%95%BF%E5%BA%A6%E6%9C%80%E5%B0%8F%E7%9A%84%E5%AD%90%E6%95%B0%E7%BB%84.html">æ•°ç»„ï¼šæ»‘åŠ¨çª—å£æ‹¯æ•‘äº†ä½ (opens new window)</a></li>
</ul>
<p>æ»‘åŠ¨çª—å£çš„ç²¾å¦™ä¹‹å¤„åœ¨äºæ ¹æ®å½“å‰å­åºåˆ—å’Œå¤§å°çš„æƒ…å†µï¼Œä¸æ–­è°ƒèŠ‚å­åºåˆ—çš„èµ·å§‹ä½ç½®ã€‚ä»è€Œå°†O(n^2)çš„æš´åŠ›è§£æ³•é™ä¸ºO(n)ã€‚</p>
<p><strong>æ°å¥½åŒ…å«kä¸ª</strong><br>å¯¹äºè¿™ç§æ°å¥½åŒ…å«kä¸ªçš„é¢˜ç›®,å¯ä»¥è€ƒè™‘ä½¿ç”¨æ»‘åŠ¨çª—å£æ¥è§£å†³.<br>æ¯”å¦‚<code>æ°å¥½</code>ç­‰äºkä¸ªçš„,å¯ä»¥é€šè¿‡<code>è‡³å°‘</code>åŒ…å«kä¸ªçš„,ç„¶åå‡å»<code>è‡³å°‘</code>åŒ…å«k-1ä¸ªçš„,å°±æ˜¯æ°å¥½åŒ…å«kä¸ªçš„.</p>
<h2 id="æ¨¡æ‹Ÿè¡Œä¸º"><a href="#æ¨¡æ‹Ÿè¡Œä¸º" class="headerlink" title="æ¨¡æ‹Ÿè¡Œä¸º"></a>æ¨¡æ‹Ÿè¡Œä¸º</h2><ul>
<li><a target="_blank" rel="noopener" href="https://programmercarl.com/0059.%E8%9E%BA%E6%97%8B%E7%9F%A9%E9%98%B5II.html">æ•°ç»„ï¼šè¿™ä¸ªå¾ªç¯å¯ä»¥è½¬æ‡µå¾ˆå¤šäºº</a></li>
</ul>
<p>åœ¨è¿™é“é¢˜ç›®ä¸­ï¼Œæˆ‘ä»¬å†ä¸€æ¬¡ä»‹ç»åˆ°äº†å¾ªç¯ä¸å˜é‡åŸåˆ™ï¼Œå…¶å®è¿™ä¹Ÿæ˜¯å†™ç¨‹åºä¸­çš„é‡è¦åŸåˆ™ã€‚</p>
<p>ç›¸ä¿¡å¤§å®¶æœ‰é‡åˆ°è¿‡è¿™ç§æƒ…å†µï¼š æ„Ÿè§‰é¢˜ç›®çš„è¾¹ç•Œè°ƒèŠ‚è¶…å¤šï¼Œä¸€æ³¢æ¥ç€ä¸€æ³¢çš„åˆ¤æ–­ï¼Œæ‰¾è¾¹ç•Œï¼Œæ‹†äº†ä¸œå¢™è¡¥è¥¿å¢™ï¼Œå¥½ä¸å®¹æ˜“è¿è¡Œé€šè¿‡äº†ï¼Œä»£ç å†™çš„ååˆ†å†—ä½™ï¼Œæ¯«æ— ç« æ³•ï¼Œå…¶å®çœŸæ­£è§£å†³é¢˜ç›®çš„ä»£ç éƒ½æ˜¯ç®€æ´çš„ï¼Œæˆ–è€…æœ‰åŸåˆ™æ€§çš„ï¼Œå¤§å®¶å¯ä»¥åœ¨è¿™é“é¢˜ç›®ä¸­ä½“ä¼šåˆ°è¿™ä¸€ç‚¹ã€‚</p>
<h2 id="å‰ç¼€å’Œ"><a href="#å‰ç¼€å’Œ" class="headerlink" title="å‰ç¼€å’Œ"></a>å‰ç¼€å’Œ</h2><h2 id="å¿«é€Ÿæ’åº-1"><a href="#å¿«é€Ÿæ’åº-1" class="headerlink" title="å¿«é€Ÿæ’åº"></a>å¿«é€Ÿæ’åº</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Random</span> <span class="variable">rand</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] sortArray(<span class="type">int</span>[] nums) &#123;</span><br><span class="line">        quickSort(nums, <span class="number">0</span>, nums.length - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> nums;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¿«é€Ÿæ’åºå­æ•°ç»„ [left, right]</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">quickSort</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> left, <span class="type">int</span> right)</span> &#123;</span><br><span class="line">        <span class="comment">// ä¼˜åŒ–ï¼šå¦‚æœå­æ•°ç»„å·²æ˜¯å‡åºï¼Œç›´æ¥è¿”å›</span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">ordered</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> left; i &lt; right; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums[i] &gt; nums[i + <span class="number">1</span>]) &#123;</span><br><span class="line">                ordered = <span class="literal">false</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (ordered) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> partition(nums, left, right); <span class="comment">// åˆ’åˆ†å­æ•°ç»„</span></span><br><span class="line">        quickSort(nums, left, i - <span class="number">1</span>);  <span class="comment">// æ’åºåœ¨ pivot å·¦ä¾§çš„å…ƒç´ </span></span><br><span class="line">        quickSort(nums, i + <span class="number">1</span>, right); <span class="comment">// æ’åºåœ¨ pivot å³ä¾§çš„å…ƒç´ </span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åœ¨å­æ•°ç»„ [left, right] ä¸­éšæœºé€‰æ‹©ä¸€ä¸ªåŸºå‡†å…ƒç´  pivot</span></span><br><span class="line">    <span class="comment">// æ ¹æ® pivot é‡æ–°æ’åˆ—å­æ•°ç»„ [left, right]</span></span><br><span class="line">    <span class="comment">// é‡æ–°æ’åˆ—åï¼Œ&lt;= pivot çš„å…ƒç´ éƒ½åœ¨ pivot çš„å·¦ä¾§ï¼Œ&gt;= pivot çš„å…ƒç´ éƒ½åœ¨ pivot çš„å³ä¾§</span></span><br><span class="line">    <span class="comment">// è¿”å› pivot åœ¨é‡æ–°æ’åˆ—åçš„ nums ä¸­çš„ä¸‹æ ‡</span></span><br><span class="line">    <span class="comment">// ç‰¹åˆ«åœ°ï¼Œå¦‚æœå­æ•°ç»„çš„æ‰€æœ‰å…ƒç´ éƒ½ç­‰äº pivotï¼Œæˆ‘ä»¬ä¼šè¿”å›å­æ•°ç»„çš„ä¸­å¿ƒä¸‹æ ‡ï¼Œé¿å…é€€åŒ–</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">partition</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> left, <span class="type">int</span> right)</span> &#123;</span><br><span class="line">        <span class="comment">// 1. åœ¨å­æ•°ç»„ [left, right] ä¸­éšæœºé€‰æ‹©ä¸€ä¸ªåŸºå‡†å…ƒç´  pivot</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> left + rand.nextInt(right - left + <span class="number">1</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">pivot</span> <span class="operator">=</span> nums[i];</span><br><span class="line">        <span class="comment">// æŠŠ pivot ä¸å­æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ äº¤æ¢ï¼Œé¿å… pivot å¹²æ‰°åç»­åˆ’åˆ†ï¼Œä»è€Œç®€åŒ–å®ç°é€»è¾‘</span></span><br><span class="line">        swap(nums, i, left);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2. ç›¸å‘åŒæŒ‡é’ˆéå†å­æ•°ç»„ [left + 1, right]</span></span><br><span class="line">        <span class="comment">// å¾ªç¯ä¸å˜é‡ï¼šåœ¨å¾ªç¯è¿‡ç¨‹ä¸­ï¼Œå­æ•°ç»„çš„æ•°æ®åˆ†å¸ƒå§‹ç»ˆå¦‚ä¸‹å›¾</span></span><br><span class="line">        <span class="comment">// [ pivot | &lt;=pivot | å°šæœªéå† | &gt;=pivot ]</span></span><br><span class="line">        <span class="comment">//   ^                 ^     ^         ^</span></span><br><span class="line">        <span class="comment">//   left              i     j         right</span></span><br><span class="line"></span><br><span class="line">        i = left + <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> right;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="keyword">while</span> (i &lt;= j &amp;&amp; nums[i] &lt; pivot) &#123;</span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// æ­¤æ—¶ nums[i] &gt;= pivot</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">while</span> (i &lt;= j &amp;&amp; nums[j] &gt; pivot) &#123;</span><br><span class="line">                j--;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// æ­¤æ—¶ nums[j] &lt;= pivot</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (i &gt;= j) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// ç»´æŒå¾ªç¯ä¸å˜é‡</span></span><br><span class="line">            swap(nums, i, j);</span><br><span class="line">            i++;</span><br><span class="line">            j--;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¾ªç¯ç»“æŸå</span></span><br><span class="line">        <span class="comment">// [ pivot | &lt;=pivot | &gt;=pivot ]</span></span><br><span class="line">        <span class="comment">//   ^             ^   ^     ^</span></span><br><span class="line">        <span class="comment">//   left          j   i     right</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3. æŠŠ pivot ä¸ nums[j] äº¤æ¢ï¼Œå®Œæˆåˆ’åˆ†ï¼ˆpartitionï¼‰</span></span><br><span class="line">        <span class="comment">// ä¸ºä»€ä¹ˆä¸ j äº¤æ¢ï¼Ÿ</span></span><br><span class="line">        <span class="comment">// å¦‚æœä¸ i äº¤æ¢ï¼Œå¯èƒ½ä¼šå‡ºç° i = right + 1 çš„æƒ…å†µï¼Œå·²ç»ä¸‹æ ‡è¶Šç•Œäº†ï¼Œæ— æ³•äº¤æ¢</span></span><br><span class="line">        <span class="comment">// å¦ä¸€ä¸ªåŸå› æ˜¯å¦‚æœ nums[i] &gt; pivotï¼Œäº¤æ¢ä¼šå¯¼è‡´ä¸€ä¸ªå¤§äº pivot çš„æ•°å‡ºç°åœ¨å­æ•°ç»„æœ€å·¦è¾¹ï¼Œä¸æ˜¯æœ‰æ•ˆåˆ’åˆ†</span></span><br><span class="line">        <span class="comment">// ä¸ j äº¤æ¢ï¼Œå³ä½¿ j = leftï¼Œäº¤æ¢ä¹Ÿä¸ä¼šå‡ºé”™</span></span><br><span class="line">        swap(nums, left, j);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// äº¤æ¢å</span></span><br><span class="line">        <span class="comment">// [ &lt;=pivot | pivot | &gt;=pivot ]</span></span><br><span class="line">        <span class="comment">//               ^</span></span><br><span class="line">        <span class="comment">//               j</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// è¿”å› pivot çš„ä¸‹æ ‡</span></span><br><span class="line">        <span class="keyword">return</span> j;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// äº¤æ¢ nums[i] ä¸ nums[j]</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">swap</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">tmp</span> <span class="operator">=</span> nums[i];</span><br><span class="line">        nums[i] = nums[j];</span><br><span class="line">        nums[j] = tmp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å·®åˆ†æ•°ç»„"><a href="#å·®åˆ†æ•°ç»„" class="headerlink" title="å·®åˆ†æ•°ç»„"></a>å·®åˆ†æ•°ç»„</h2><p>äºŒç»´å·®åˆ†:<br><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20251114101959.png" alt="20251114101959"></p>
<h1 id="é“¾è¡¨"><a href="#é“¾è¡¨" class="headerlink" title="é“¾è¡¨"></a>é“¾è¡¨</h1><p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250607193122.png" alt="20250607193122"><br>JAVAç‰ˆæœ¬</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ListNode</span> &#123;</span><br><span class="line">    <span class="comment">// ç»“ç‚¹çš„å€¼</span></span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line">    <span class="comment">// ä¸‹ä¸€ä¸ªç»“ç‚¹</span></span><br><span class="line">    ListNode next;</span><br><span class="line">    <span class="comment">// èŠ‚ç‚¹çš„æ„é€ å‡½æ•°(æ— å‚)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ListNode</span><span class="params">()</span> &#123;&#125;</span><br><span class="line">    <span class="comment">// èŠ‚ç‚¹çš„æ„é€ å‡½æ•°(æœ‰ä¸€ä¸ªå‚æ•°)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ListNode</span><span class="params">(<span class="type">int</span> val)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.val = val;</span><br><span class="line">    &#125;<span class="comment">// èŠ‚ç‚¹çš„æ„é€ å‡½æ•°(æœ‰ä¸¤ä¸ªå‚æ•°)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ListNode</span><span class="params">(<span class="type">int</span> val, ListNode next)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.val = val;</span><br><span class="line">    <span class="built_in">this</span>.next = next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ç›¸äº¤é“¾è¡¨"><a href="#ç›¸äº¤é“¾è¡¨" class="headerlink" title="ç›¸äº¤é“¾è¡¨"></a>ç›¸äº¤é“¾è¡¨</h2><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/intersection-of-two-linked-lists?envType=study-plan-v2&envId=top-100-liked">é¢˜ç›®é“¾æ¥</a><br><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20251013203908.png" alt="20251013203908"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">getIntersectionNode</span><span class="params">(ListNode headA, ListNode headB)</span> &#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">p</span> <span class="operator">=</span> headA;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">q</span> <span class="operator">=</span> headB;</span><br><span class="line">        <span class="keyword">while</span> (p != q) &#123;</span><br><span class="line">            p = p != <span class="literal">null</span> ? p.next : headB;</span><br><span class="line">            q = q != <span class="literal">null</span> ? q.next : headA;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> p;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="åè½¬é“¾è¡¨"><a href="#åè½¬é“¾è¡¨" class="headerlink" title="åè½¬é“¾è¡¨"></a>åè½¬é“¾è¡¨</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">reverseList</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(head == <span class="literal">null</span> || head.next == <span class="literal">null</span>)<span class="keyword">return</span> head;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">last</span> <span class="operator">=</span> reverseList(head.next);</span><br><span class="line">        head.next.next = head;</span><br><span class="line">        head.next  = <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">return</span> last;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é€’å½’æµç¨‹å›¾:<br><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20251013210813.png" alt="20251013210813"></p>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/remove-linked-list-elements/">ç§»é™¤é“¾è¡¨å…ƒç´ </a><br><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/design-linked-list/">è®¾è®¡é“¾è¡¨</a><br><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/reverse-linked-list/">åè½¬é“¾è¡¨</a><br>åŸåœ°åè½¬ï¼Œåªéœ€è¦æŠŠæ¯ä¸ªèŠ‚ç‚¹é—´çš„æŒ‡å‘åè½¬å°±å¯ä»¥<br>å°è¯•é€’å½’è°ƒç”¨<br><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/swap-nodes-in-pairs/">ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹</a><br><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/remove-nth-node-from-end-of-list/">åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹</a><br><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/intersection-of-two-linked-lists-lcci/">é“¾è¡¨ç›¸äº¤</a><br><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/linked-list-cycle-ii/">ç¯å½¢é“¾è¡¨II</a><br><strong>ç¯å½¢é“¾è¡¨</strong><br>å¿«æ…¢æŒ‡é’ˆä¸€åŒèµ° ç›¸é‡åå·®ä¸€åœˆ ç»“è®ºa &#x3D; c<br>ä»èµ·ç‚¹å’Œç›¸é‡ç‚¹åŒæ—¶èµ° å°±æ˜¯å…¥å£ç‚¹<br>ç›¸ä¼¼é¢˜: <a target="_blank" rel="noopener" href="https://leetcode.cn/problems/find-the-duplicate-number">https://leetcode.cn/problems/find-the-duplicate-number</a><br>è¿™ä¸ªæ˜¯æ•°ç»„æ¨¡æ‹Ÿç¯å½¢é“¾è¡¨,éå¸¸æœ‰æ„æ€</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">findDuplicate</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">slow</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">fast</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        slow = nums[slow];</span><br><span class="line">        fast = nums[nums[fast]];</span><br><span class="line">        <span class="keyword">while</span>(slow != fast)&#123;</span><br><span class="line">            slow = nums[slow];</span><br><span class="line">            fast = nums[nums[fast]];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">pre1</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">pre2</span> <span class="operator">=</span> slow;</span><br><span class="line">        <span class="keyword">while</span>(pre1 != pre2)&#123;</span><br><span class="line">            pre1 = nums[pre1];</span><br><span class="line">            pre2 = nums[pre2];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> pre1;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="å“ˆå¸Œè¡¨"><a href="#å“ˆå¸Œè¡¨" class="headerlink" title="å“ˆå¸Œè¡¨"></a>å“ˆå¸Œè¡¨</h1><h2 id="é¢˜ç›®-1"><a href="#é¢˜ç›®-1" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><p>242.æœ‰æ•ˆçš„å­—æ¯å¼‚ä½è¯<br><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/valid-anagram/">åŠ›æ‰£é¢˜ç›®é“¾æ¥</a><br>349.ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†<br><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/intersection-of-two-arrays/">åŠ›æ‰£é¢˜ç›®é“¾æ¥</a><br>ç¬¬202é¢˜. å¿«ä¹æ•°<br><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/happy-number/">åŠ›æ‰£é¢˜ç›®é“¾æ¥</a><br>ä¸¤æ•°ä¹‹å’Œ<br><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/two-sum/">åŠ›æ‰£é¢˜ç›®é“¾æ¥</a><br>ç¬¬454é¢˜.å››æ•°ç›¸åŠ II<br><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/4sum-ii/">åŠ›æ‰£é¢˜ç›®é“¾æ¥</a><br>èµé‡‘ä¿¡<br><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/ransom-note/">åŠ›æ‰£é¢˜ç›®é“¾æ¥</a><br>ç¬¬15é¢˜. ä¸‰æ•°ä¹‹å’Œ<br><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/3sum/">åŠ›æ‰£é¢˜ç›®é“¾æ¥</a><br>ç¬¬18é¢˜. å››æ•°ä¹‹å’Œ<br><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/4sum/">åŠ›æ‰£é¢˜ç›®é“¾æ¥</a></p>
<h1 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a>å­—ç¬¦ä¸²</h1><h2 id="KMPç®—æ³•"><a href="#KMPç®—æ³•" class="headerlink" title="KMPç®—æ³•"></a>KMPç®—æ³•</h2><p>ä»‹ç»:<br>KMP ç®—æ³•æ˜¯ä¸€ä¸ªå¿«é€ŸæŸ¥æ‰¾åŒ¹é…ä¸²çš„ç®—æ³•ï¼Œå®ƒçš„ä½œç”¨å…¶å®å°±æ˜¯æœ¬é¢˜é—®é¢˜ï¼šå¦‚ä½•å¿«é€Ÿåœ¨ã€ŒåŸå­—ç¬¦ä¸²ã€ä¸­æ‰¾åˆ°ã€ŒåŒ¹é…å­—ç¬¦ä¸²ã€ã€‚</p>
<p>ä¸Šè¿°çš„æœ´ç´ è§£æ³•ï¼Œä¸è€ƒè™‘å‰ªæçš„è¯å¤æ‚åº¦æ˜¯ O(mâˆ—n) çš„ï¼Œè€Œ KMP ç®—æ³•çš„å¤æ‚åº¦ä¸º O(m+n)ã€‚</p>
<p>KMP ä¹‹æ‰€ä»¥èƒ½å¤Ÿåœ¨ O(m+n) å¤æ‚åº¦å†…å®ŒæˆæŸ¥æ‰¾ï¼Œæ˜¯å› ä¸ºå…¶èƒ½åœ¨ã€Œéå®Œå…¨åŒ¹é…ã€çš„è¿‡ç¨‹ä¸­æå–åˆ°æœ‰æ•ˆä¿¡æ¯è¿›è¡Œå¤ç”¨ï¼Œä»¥å‡å°‘ã€Œé‡å¤åŒ¹é…ã€çš„æ¶ˆè€—ã€‚<br>ä¸ªäººç†è§£:<br>é€šè¿‡æ„é€ ä¸€ä¸ªnextæ•°ç»„,ä½¿çš„å‰ç¼€ä¸€æ ·çš„éƒ¨åˆ†èƒ½å¤Ÿå¿«é€Ÿè·³è½¬,å‰ç¼€ä¸€æ ·,ä½†æ˜¯åé¢çš„ä¸€ä¸ªä¸ä¸€æ ·,é‚£å°±å¯ä»¥ç›´æ¥é€šè¿‡nextæ•°ç»„è·³è½¬åˆ°ä¸Šä¸€ä¸ªå‰ç¼€ä¸€æ ·çš„ä½ç½®çš„ä¸‹æ ‡,ç„¶åç»§ç»­åŒ¹é….<br>æ‰€ä»¥è¿™ä¸ªç®—æ³•çš„å…³é”®å°±æ˜¯æ„é€ nextæ•°ç»„.<br>çœ‹åˆ°çš„ä¸€ä¸ªæ¯”è¾ƒå¥½çš„å®ç°æ–¹å¼å°±æ˜¯åœ¨ä¸»ä¸²å’ŒåŒ¹é…ä¸²å‰é¢éƒ½åŠ ä¸Šä¸€ä¸ªç©ºæ ¼,è¿™æ ·å°±å¯ä»¥ä¿è¯nextæ•°ç»„çš„ä¸‹æ ‡ä»1å¼€å§‹,è¿™æ ·å°±å¯ä»¥é¿å…å¾ˆå¤šè¾¹ç•Œé—®é¢˜.</p>
<p>å…ˆè´´ä¸€ä¸ªå®ç°:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="comment">// KMP ç®—æ³•</span></span><br><span class="line">    <span class="comment">// ss: åŸä¸²(string)  pp: åŒ¹é…ä¸²(pattern)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">strStr</span><span class="params">(String ss, String pp)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (pp.isEmpty()) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// åˆ†åˆ«è¯»å–åŸä¸²å’ŒåŒ¹é…ä¸²çš„é•¿åº¦</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> ss.length(), m = pp.length();</span><br><span class="line">        <span class="comment">// åŸä¸²å’ŒåŒ¹é…ä¸²å‰é¢éƒ½åŠ ç©ºæ ¼ï¼Œä½¿å…¶ä¸‹æ ‡ä» 1 å¼€å§‹</span></span><br><span class="line">        ss = <span class="string">&quot; &quot;</span> + ss;</span><br><span class="line">        pp = <span class="string">&quot; &quot;</span> + pp;</span><br><span class="line"></span><br><span class="line">        <span class="type">char</span>[] s = ss.toCharArray();</span><br><span class="line">        <span class="type">char</span>[] p = pp.toCharArray();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ„å»º next æ•°ç»„ï¼Œæ•°ç»„é•¿åº¦ä¸ºåŒ¹é…ä¸²çš„é•¿åº¦ï¼ˆnext æ•°ç»„æ˜¯å’ŒåŒ¹é…ä¸²ç›¸å…³çš„ï¼‰</span></span><br><span class="line">        <span class="type">int</span>[] next = <span class="keyword">new</span> <span class="title class_">int</span>[m + <span class="number">1</span>];</span><br><span class="line">        <span class="comment">// æ„é€ è¿‡ç¨‹ i = 2ï¼Œj = 0 å¼€å§‹ï¼Œi å°äºç­‰äºåŒ¹é…ä¸²é•¿åº¦ ã€æ„é€  i ä» 2 å¼€å§‹ã€‘</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">2</span>, j = <span class="number">0</span>; i &lt;= m; i++) &#123;</span><br><span class="line">            <span class="comment">// åŒ¹é…ä¸æˆåŠŸçš„è¯ï¼Œj = next(j)</span></span><br><span class="line">            <span class="keyword">while</span> (j &gt; <span class="number">0</span> &amp;&amp; p[i] != p[j + <span class="number">1</span>]) j = next[j];</span><br><span class="line">            <span class="comment">// åŒ¹é…æˆåŠŸçš„è¯ï¼Œå…ˆè®© j++</span></span><br><span class="line">            <span class="keyword">if</span> (p[i] == p[j + <span class="number">1</span>]) j++;</span><br><span class="line">            <span class="comment">// æ›´æ–° next[i]ï¼Œç»“æŸæœ¬æ¬¡å¾ªç¯ï¼Œi++</span></span><br><span class="line">            next[i] = j;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åŒ¹é…è¿‡ç¨‹ï¼Œi = 1ï¼Œj = 0 å¼€å§‹ï¼Œi å°äºç­‰äºåŸä¸²é•¿åº¦ ã€åŒ¹é… i ä» 1 å¼€å§‹ã€‘</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>, j = <span class="number">0</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            <span class="comment">// åŒ¹é…ä¸æˆåŠŸ j = next(j)</span></span><br><span class="line">            <span class="keyword">while</span> (j &gt; <span class="number">0</span> &amp;&amp; s[i] != p[j + <span class="number">1</span>]) j = next[j];</span><br><span class="line">            <span class="comment">// åŒ¹é…æˆåŠŸçš„è¯ï¼Œå…ˆè®© j++ï¼Œç»“æŸæœ¬æ¬¡å¾ªç¯å i++</span></span><br><span class="line">            <span class="keyword">if</span> (s[i] == p[j + <span class="number">1</span>]) j++;</span><br><span class="line">            <span class="comment">// æ•´ä¸€æ®µåŒ¹é…æˆåŠŸï¼Œç›´æ¥è¿”å›ä¸‹æ ‡</span></span><br><span class="line">            <span class="keyword">if</span> (j == m) <span class="keyword">return</span> i - m;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>nextæ•°ç»„æ„é€ :<br><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250609185157.png" alt="20250609185157"></p>
<p>åŒ¹é…è¿‡ç¨‹:<br><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250609185120.png" alt="20250609185120"></p>
<h2 id="é¢˜ç›®-2"><a href="#é¢˜ç›®-2" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><p>344.åè½¬å­—ç¬¦ä¸²<br><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/reverse-string/">åŠ›æ‰£é¢˜ç›®é“¾æ¥</a></p>
<p>a&#x3D;a^b: å…ˆæŠŠaå’Œbä¸­ï¼Œä¸ç›¸åŒçš„ä½ä¿å­˜åˆ°aï¼Œç°åœ¨aä¸­ç½®1çš„ä½ï¼Œä»£è¡¨åŸå§‹çš„aå’Œbä¸ç›¸åŒçš„ä½ï¼Œè€Œ0ï¼Œå°±æ˜¯aå’Œbç›¸åŒçš„ä½ã€‚</p>
<p>b&#x3D;a^b: ä¸ç›¸åŒçš„ä½æ˜¯1å’ŒåŸå§‹bå¼‚æˆ–ï¼Œå°±å¾—åˆ°åŸå§‹açš„é‚£ä¸ªä½çš„å€¼ï¼›ç›¸åŒçš„ä½æ˜¯0å’ŒåŸå§‹bå¼‚æˆ–å°±æ˜¯åŸå§‹aæˆ–è€…åŸå§‹bçš„å€¼ï¼ˆæœ¬æ¥å°±ç›¸åŒï¼‰ã€‚ç°åœ¨å¾—åˆ°çš„å°±æ˜¯åŸå§‹açš„å€¼ï¼Œç°åœ¨å­˜åœ¨bä¸­ã€‚</p>
<p>a&#x3D;a^bï¼šå’Œä¸Šé¢ç›¸åŒã€‚</p>
<p>aï¼Œbå·²ç»äº¤æ¢ã€‚</p>
<p>1.åè½¬å­—ç¬¦ä¸²II<br><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/reverse-string-ii/">åŠ›æ‰£é¢˜ç›®é“¾æ¥</a></p>
<h1 id="äºŒå‰æ ‘"><a href="#äºŒå‰æ ‘" class="headerlink" title="äºŒå‰æ ‘"></a>äºŒå‰æ ‘</h1><h2 id="äºŒå‰æ ‘åŸºç¡€"><a href="#äºŒå‰æ ‘åŸºç¡€" class="headerlink" title="äºŒå‰æ ‘åŸºç¡€"></a>äºŒå‰æ ‘åŸºç¡€</h2><ol>
<li><p>æ»¡äºŒå‰æ ‘:<br>å¦‚æœä¸€æ£µäºŒå‰æ ‘åªæœ‰åº¦ä¸º0çš„ç»“ç‚¹å’Œåº¦ä¸º2çš„ç»“ç‚¹ï¼Œå¹¶ä¸”åº¦ä¸º0çš„ç»“ç‚¹åœ¨åŒä¸€å±‚ä¸Šï¼Œåˆ™è¿™æ£µäºŒå‰æ ‘ä¸ºæ»¡äºŒå‰æ ‘ã€‚</p>
</li>
<li><p>å®Œå…¨äºŒå‰æ ‘:<br>åœ¨å®Œå…¨äºŒå‰æ ‘ä¸­ï¼Œé™¤äº†æœ€åº•å±‚èŠ‚ç‚¹å¯èƒ½æ²¡å¡«æ»¡å¤–ï¼Œå…¶ä½™æ¯å±‚èŠ‚ç‚¹æ•°éƒ½è¾¾åˆ°æœ€å¤§å€¼ï¼Œå¹¶ä¸”æœ€ä¸‹é¢ä¸€å±‚çš„èŠ‚ç‚¹éƒ½é›†ä¸­åœ¨è¯¥å±‚æœ€å·¦è¾¹çš„è‹¥å¹²ä½ç½®ã€‚è‹¥æœ€åº•å±‚ä¸ºç¬¬ h å±‚ï¼ˆhä»1å¼€å§‹ï¼‰ï¼Œåˆ™è¯¥å±‚åŒ…å« 1~ 2^(h-1) ä¸ªèŠ‚ç‚¹ã€‚<br>ä¹Ÿå°±æ˜¯åªæœ‰æœ€åä¸€å±‚å³ä¾§ä¸æ»¡,å‰é¢éƒ½æ˜¯æ»¡çš„.</p>
</li>
<li><p>äºŒå‰æœç´¢æ ‘:<br>äºŒå‰æœç´¢æ ‘æ˜¯ä¸€ä¸ªæœ‰åºæ ‘</p>
</li>
</ol>
<ul>
<li>è‹¥å®ƒçš„å·¦å­æ ‘ä¸ç©ºï¼Œåˆ™å·¦å­æ ‘ä¸Šæ‰€æœ‰ç»“ç‚¹çš„å€¼å‡å°äºå®ƒçš„æ ¹ç»“ç‚¹çš„å€¼ï¼›</li>
<li>è‹¥å®ƒçš„å³å­æ ‘ä¸ç©ºï¼Œåˆ™å³å­æ ‘ä¸Šæ‰€æœ‰ç»“ç‚¹çš„å€¼å‡å¤§äºå®ƒçš„æ ¹ç»“ç‚¹çš„å€¼ï¼›</li>
<li>å®ƒçš„å·¦ã€å³å­æ ‘ä¹Ÿåˆ†åˆ«ä¸ºäºŒå‰æ’åºæ ‘</li>
</ul>
<ol start="4">
<li>å¹³è¡¡äºŒå‰æœç´¢æ ‘:<br>å¹³è¡¡äºŒå‰æœç´¢æ ‘ï¼šåˆè¢«ç§°ä¸ºAVLï¼ˆAdelson-Velsky and Landisï¼‰æ ‘ï¼Œä¸”å…·æœ‰ä»¥ä¸‹æ€§è´¨ï¼šå®ƒæ˜¯ä¸€æ£µç©ºæ ‘æˆ–å®ƒçš„å·¦å³ä¸¤ä¸ªå­æ ‘çš„<strong>é«˜åº¦å·®çš„ç»å¯¹å€¼ä¸è¶…è¿‡1</strong>ï¼Œå¹¶ä¸”å·¦å³ä¸¤ä¸ªå­æ ‘éƒ½æ˜¯ä¸€æ£µå¹³è¡¡äºŒå‰æ ‘ã€‚</li>
</ol>
<p><strong>äºŒå‰æ ‘çš„å­˜å‚¨æ–¹å¼</strong><br>äºŒå‰æ ‘å¯ä»¥é“¾å¼å­˜å‚¨ï¼Œä¹Ÿå¯ä»¥é¡ºåºå­˜å‚¨ã€‚</p>
<p><strong>äºŒå‰æ ‘éå†é¡ºåº</strong><br><strong>å‰åºéå†</strong>ï¼šä¸­å·¦å³<br><strong>ä¸­åºéå†</strong>ï¼šå·¦ä¸­å³<br><strong>ååºéå†</strong>ï¼šå·¦å³ä¸­</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TreeNode</span> &#123;</span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line">    TreeNode left;</span><br><span class="line">    TreeNode right;</span><br><span class="line"></span><br><span class="line">    TreeNode() &#123;&#125;</span><br><span class="line">    TreeNode(<span class="type">int</span> val) &#123; <span class="built_in">this</span>.val = val; &#125;</span><br><span class="line">    TreeNode(<span class="type">int</span> val, TreeNode left, TreeNode right) &#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">        <span class="built_in">this</span>.left = left;</span><br><span class="line">        <span class="built_in">this</span>.right = right;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="äºŒå‰æ ‘é€’å½’éå†"><a href="#äºŒå‰æ ‘é€’å½’éå†" class="headerlink" title="äºŒå‰æ ‘é€’å½’éå†"></a>äºŒå‰æ ‘é€’å½’éå†</h2><p><strong>é€’å½’çš„ä¸‰è¦ç´ </strong>:<br><strong>1.ç¡®å®šé€’å½’å‡½æ•°çš„å‚æ•°å’Œè¿”å›å€¼ï¼š</strong> ç¡®å®šå“ªäº›å‚æ•°æ˜¯é€’å½’çš„è¿‡ç¨‹ä¸­éœ€è¦å¤„ç†çš„ï¼Œé‚£ä¹ˆå°±åœ¨é€’å½’å‡½æ•°é‡ŒåŠ ä¸Šè¿™ä¸ªå‚æ•°ï¼Œ å¹¶ä¸”è¿˜è¦æ˜ç¡®æ¯æ¬¡é€’å½’çš„è¿”å›å€¼æ˜¯ä»€ä¹ˆè¿›è€Œç¡®å®šé€’å½’å‡½æ•°çš„è¿”å›ç±»å‹ã€‚</p>
<p><strong>2.ç¡®å®šç»ˆæ­¢æ¡ä»¶ï¼š</strong> å†™å®Œäº†é€’å½’ç®—æ³•, è¿è¡Œçš„æ—¶å€™ï¼Œç»å¸¸ä¼šé‡åˆ°æ ˆæº¢å‡ºçš„é”™è¯¯ï¼Œå°±æ˜¯æ²¡å†™ç»ˆæ­¢æ¡ä»¶æˆ–è€…ç»ˆæ­¢æ¡ä»¶å†™çš„ä¸å¯¹ï¼Œæ“ä½œç³»ç»Ÿä¹Ÿæ˜¯ç”¨ä¸€ä¸ªæ ˆçš„ç»“æ„æ¥ä¿å­˜æ¯ä¸€å±‚é€’å½’çš„ä¿¡æ¯ï¼Œå¦‚æœé€’å½’æ²¡æœ‰ç»ˆæ­¢ï¼Œæ“ä½œç³»ç»Ÿçš„å†…å­˜æ ˆå¿…ç„¶å°±ä¼šæº¢å‡ºã€‚</p>
<p><strong>3.ç¡®å®šå•å±‚é€’å½’çš„é€»è¾‘ï¼š</strong> ç¡®å®šæ¯ä¸€å±‚é€’å½’éœ€è¦å¤„ç†çš„ä¿¡æ¯ã€‚åœ¨è¿™é‡Œä¹Ÿå°±ä¼šé‡å¤è°ƒç”¨è‡ªå·±æ¥å®ç°é€’å½’çš„è¿‡ç¨‹ã€‚</p>
<p><strong>é€’å½’ä¸‰éƒ¨æ›²</strong></p>
<ul>
<li>ç¡®å®šé€’å½’å‡½æ•°çš„å‚æ•°ä»¥åŠè¿”å›å€¼</li>
<li>ç¡®å®šç»ˆæ­¢æ¡ä»¶</li>
<li>ç¡®å®šå•å±‚é€’å½’çš„é€»è¾‘</li>
</ul>
<p><strong>å‚æ•°</strong>ï¼šéœ€è¦äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œ<strong>è¿˜éœ€è¦ä¸€ä¸ªè®¡æ•°å™¨</strong>ï¼Œè¿™ä¸ªè®¡æ•°å™¨ç”¨æ¥è®¡ç®—äºŒå‰æ ‘çš„ä¸€æ¡è¾¹ä¹‹å’Œæ˜¯å¦æ­£å¥½æ˜¯ç›®æ ‡å’Œï¼Œè®¡æ•°å™¨ä¸ºintå‹ã€‚<br><strong>å†æ¥çœ‹è¿”å›å€¼ï¼Œé€’å½’å‡½æ•°ä»€ä¹ˆæ—¶å€™éœ€è¦è¿”å›å€¼ï¼Ÿ</strong><br>ä»€ä¹ˆæ—¶å€™ä¸éœ€è¦è¿”å›å€¼ï¼Ÿè¿™é‡Œæ€»ç»“å¦‚ä¸‹ä¸‰ç‚¹ï¼š</p>
<ul>
<li>å¦‚æœéœ€è¦æœç´¢æ•´æ£µäºŒå‰æ ‘ä¸”ä¸ç”¨å¤„ç†é€’å½’è¿”å›å€¼ï¼Œé€’å½’å‡½æ•°å°±ä¸è¦è¿”å›å€¼ã€‚ï¼ˆè¿™ç§æƒ…å†µå°±æ˜¯æœ¬æ–‡ä¸‹åŠéƒ¨åˆ†ä»‹ç»çš„113.è·¯å¾„æ€»å’Œiiï¼‰</li>
<li>å¦‚æœéœ€è¦æœç´¢æ•´æ£µäºŒå‰æ ‘ä¸”éœ€è¦å¤„ç†é€’å½’è¿”å›å€¼ï¼Œé€’å½’å‡½æ•°å°±éœ€è¦è¿”å›å€¼ã€‚ ï¼ˆè¿™ç§æƒ…å†µæˆ‘ä»¬åœ¨236. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ ä¸­ä»‹ç»ï¼‰</li>
<li>å¦‚æœè¦æœç´¢å…¶ä¸­ä¸€æ¡ç¬¦åˆæ¡ä»¶çš„è·¯å¾„ï¼Œé‚£ä¹ˆé€’å½’ä¸€å®šéœ€è¦è¿”å›å€¼ï¼Œå› ä¸ºé‡åˆ°ç¬¦åˆæ¡ä»¶çš„è·¯å¾„äº†å°±è¦åŠæ—¶è¿”å›ã€‚ï¼ˆæœ¬é¢˜çš„æƒ…å†µï¼‰</li>
</ul>
<p><strong>ç»ˆæ­¢æ¡ä»¶</strong><br>ç»ˆæ­¢æ¡ä»¶å¦‚æœæ˜¯åˆ¤æ–­å¶å­èŠ‚ç‚¹ï¼Œé€’å½’çš„è¿‡ç¨‹ä¸­å°±ä¸è¦è®©ç©ºèŠ‚ç‚¹è¿›å…¥é€’å½’äº†ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‰åºéå†Â·é€’å½’Â·LC144_äºŒå‰æ ‘çš„å‰åºéå†</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">preorderTraversal</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        List&lt;Integer&gt; result = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Integer&gt;();</span><br><span class="line">        preorder(root, result);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">preorder</span><span class="params">(TreeNode root, List&lt;Integer&gt; result)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        result.add(root.val);</span><br><span class="line">        preorder(root.left, result);</span><br><span class="line">        preorder(root.right, result);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ä¸­åºéå†Â·é€’å½’Â·LC94_äºŒå‰æ ‘çš„ä¸­åºéå†</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">inorderTraversal</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        List&lt;Integer&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        inorder(root, res);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">inorder</span><span class="params">(TreeNode root, List&lt;Integer&gt; list)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        inorder(root.left, list);</span><br><span class="line">        list.add(root.val);             <span class="comment">// æ³¨æ„è¿™ä¸€å¥</span></span><br><span class="line">        inorder(root.right, list);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ååºéå†Â·é€’å½’Â·LC145_äºŒå‰æ ‘çš„ååºéå†</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">postorderTraversal</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        List&lt;Integer&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        postorder(root, res);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">postorder</span><span class="params">(TreeNode root, List&lt;Integer&gt; list)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        postorder(root.left, list);</span><br><span class="line">        postorder(root.right, list);</span><br><span class="line">        list.add(root.val);             <span class="comment">// æ³¨æ„è¿™ä¸€å¥</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="äºŒå‰æ ‘è¿­ä»£éå†"><a href="#äºŒå‰æ ‘è¿­ä»£éå†" class="headerlink" title="äºŒå‰æ ‘è¿­ä»£éå†"></a>äºŒå‰æ ‘è¿­ä»£éå†</h2><p>144.äºŒå‰æ ‘çš„å‰åºéå†<br><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/binary-tree-preorder-traversal/">https://leetcode.cn/problems/binary-tree-preorder-traversal/</a><br>94.äºŒå‰æ ‘çš„ä¸­åºéå†<br><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/binary-tree-inorder-traversal/">https://leetcode.cn/problems/binary-tree-inorder-traversal/</a><br>145.äºŒå‰æ ‘çš„ååºéå†<br><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/binary-tree-postorder-traversal/">https://leetcode.cn/problems/binary-tree-postorder-traversal/</a></p>
<p><strong>ç»Ÿä¸€å†™æ³•!!!!!!!!</strong><br>æ€è·¯:å°†è®¿é—®çš„èŠ‚ç‚¹æ”¾å…¥æ ˆä¸­ï¼ŒæŠŠè¦å¤„ç†çš„èŠ‚ç‚¹ä¹Ÿæ”¾å…¥æ ˆä¸­ä½†æ˜¯è¦åšæ ‡è®°ã€‚<br>å®ç°æ–¹å¼:</p>
<ol>
<li>æ–¹æ³•ä¸€ï¼šå°±æ˜¯è¦å¤„ç†çš„èŠ‚ç‚¹æ”¾å…¥æ ˆä¹‹åï¼Œç´§æ¥ç€æ”¾å…¥ä¸€ä¸ªç©ºæŒ‡é’ˆä½œä¸ºæ ‡è®°ã€‚ è¿™ç§æ–¹æ³•å¯ä»¥å«åšç©ºæŒ‡é’ˆæ ‡è®°æ³•ã€‚</li>
<li>æ–¹æ³•äºŒï¼šåŠ ä¸€ä¸ª boolean å€¼è·Ÿéšæ¯ä¸ªèŠ‚ç‚¹ï¼Œfalse (é»˜è®¤å€¼) è¡¨ç¤ºéœ€è¦ä¸ºè¯¥èŠ‚ç‚¹å’Œå®ƒçš„å·¦å³å„¿å­å®‰æ’åœ¨æ ˆä¸­çš„ä½æ¬¡ï¼Œtrue è¡¨ç¤ºè¯¥èŠ‚ç‚¹çš„ä½æ¬¡ä¹‹å‰å·²ç»å®‰æ’è¿‡äº†ï¼Œå¯ä»¥æ”¶å‰²èŠ‚ç‚¹äº†ã€‚ è¿™ç§æ–¹æ³•å¯ä»¥å«åšboolean æ ‡è®°æ³•ã€‚ è¿™ç§æ–¹æ³•æ›´å®¹æ˜“ç†è§£ï¼Œåœ¨é¢è¯•ä¸­æ›´å®¹æ˜“å†™å‡ºæ¥ã€‚<br><strong>å‰åºéå†ä»£ç :</strong><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">preorderTraversal</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">    List&lt;Integer&gt; result = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    Deque&lt;TreeNode&gt; st = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span> (root != <span class="literal">null</span>) st.push(root);</span><br><span class="line">    <span class="keyword">while</span> (!st.isEmpty()) &#123;</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">node</span> <span class="operator">=</span> st.peek();</span><br><span class="line">        <span class="keyword">if</span> (node != <span class="literal">null</span>) &#123;</span><br><span class="line">            st.pop(); <span class="comment">// å°†è¯¥èŠ‚ç‚¹å¼¹å‡ºï¼Œé¿å…é‡å¤æ“ä½œï¼Œä¸‹é¢å†å°†å³å·¦ä¸­èŠ‚ç‚¹æ·»åŠ åˆ°æ ˆä¸­ï¼ˆå‰åºéå†-ä¸­å·¦å³ï¼Œå…¥æ ˆé¡ºåºå³å·¦ä¸­ï¼‰</span></span><br><span class="line">            <span class="keyword">if</span> (node.right!=<span class="literal">null</span>) st.push(node.right);  <span class="comment">// æ·»åŠ å³èŠ‚ç‚¹ï¼ˆç©ºèŠ‚ç‚¹ä¸å…¥æ ˆï¼‰</span></span><br><span class="line">            <span class="keyword">if</span> (node.left!=<span class="literal">null</span>) st.push(node.left);    <span class="comment">// æ·»åŠ å·¦èŠ‚ç‚¹ï¼ˆç©ºèŠ‚ç‚¹ä¸å…¥æ ˆï¼‰</span></span><br><span class="line">            st.push(node);                          <span class="comment">// æ·»åŠ ä¸­èŠ‚ç‚¹</span></span><br><span class="line">            st.push(<span class="literal">null</span>); <span class="comment">// ä¸­èŠ‚ç‚¹è®¿é—®è¿‡ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰å¤„ç†ï¼ŒåŠ å…¥ç©ºèŠ‚ç‚¹åšä¸ºæ ‡è®°ã€‚</span></span><br><span class="line">            </span><br><span class="line">        &#125; <span class="keyword">else</span> &#123; <span class="comment">// åªæœ‰é‡åˆ°ç©ºèŠ‚ç‚¹çš„æ—¶å€™ï¼Œæ‰å°†ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æ”¾è¿›ç»“æœé›†</span></span><br><span class="line">            st.pop();           <span class="comment">// å°†ç©ºèŠ‚ç‚¹å¼¹å‡º</span></span><br><span class="line">            node = st.peek();    <span class="comment">// é‡æ–°å–å‡ºæ ˆä¸­å…ƒç´ </span></span><br><span class="line">            st.pop();</span><br><span class="line">            result.add(node.val); <span class="comment">// åŠ å…¥åˆ°ç»“æœé›†</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<strong>ä¸­åºéå†ä»£ç :</strong><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">inorderTraversal</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">    List&lt;Integer&gt; result = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    Deque&lt;TreeNode&gt; st = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span> (root != <span class="literal">null</span>) st.push(root);</span><br><span class="line">    <span class="keyword">while</span> (!st.isEmpty()) &#123;</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">node</span> <span class="operator">=</span> st.peek();</span><br><span class="line">        <span class="keyword">if</span> (node != <span class="literal">null</span>) &#123;</span><br><span class="line">            st.pop(); <span class="comment">// å°†è¯¥èŠ‚ç‚¹å¼¹å‡ºï¼Œé¿å…é‡å¤æ“ä½œï¼Œä¸‹é¢å†å°†å³ä¸­å·¦èŠ‚ç‚¹æ·»åŠ åˆ°æ ˆä¸­ï¼ˆä¸­åºéå†-å·¦ä¸­å³ï¼Œå…¥æ ˆé¡ºåºå³ä¸­å·¦ï¼‰</span></span><br><span class="line">            <span class="keyword">if</span> (node.right!=<span class="literal">null</span>) st.push(node.right);  <span class="comment">// æ·»åŠ å³èŠ‚ç‚¹ï¼ˆç©ºèŠ‚ç‚¹ä¸å…¥æ ˆï¼‰</span></span><br><span class="line">            st.push(node);                          <span class="comment">// æ·»åŠ ä¸­èŠ‚ç‚¹</span></span><br><span class="line">            st.push(<span class="literal">null</span>); <span class="comment">// ä¸­èŠ‚ç‚¹è®¿é—®è¿‡ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰å¤„ç†ï¼ŒåŠ å…¥ç©ºèŠ‚ç‚¹åšä¸ºæ ‡è®°ã€‚</span></span><br><span class="line">            <span class="keyword">if</span> (node.left!=<span class="literal">null</span>) st.push(node.left);    <span class="comment">// æ·»åŠ å·¦èŠ‚ç‚¹ï¼ˆç©ºèŠ‚ç‚¹ä¸å…¥æ ˆï¼‰</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123; <span class="comment">// åªæœ‰é‡åˆ°ç©ºèŠ‚ç‚¹çš„æ—¶å€™ï¼Œæ‰å°†ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æ”¾è¿›ç»“æœé›†</span></span><br><span class="line">            st.pop();           <span class="comment">// å°†ç©ºèŠ‚ç‚¹å¼¹å‡º</span></span><br><span class="line">            node = st.peek();    <span class="comment">// é‡æ–°å–å‡ºæ ˆä¸­å…ƒç´ </span></span><br><span class="line">            st.pop();</span><br><span class="line">            result.add(node.val); <span class="comment">// åŠ å…¥åˆ°ç»“æœé›†</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<strong>ååºéå†ä»£ç :</strong><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">postorderTraversal</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">    List&lt;Integer&gt; result = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    Deque&lt;TreeNode&gt; st = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span> (root != <span class="literal">null</span>) st.push(root);</span><br><span class="line">    <span class="keyword">while</span> (!st.isEmpty()) &#123;</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">node</span> <span class="operator">=</span> st.peek();</span><br><span class="line">        <span class="keyword">if</span> (node != <span class="literal">null</span>) &#123;</span><br><span class="line">            st.pop(); <span class="comment">// å°†è¯¥èŠ‚ç‚¹å¼¹å‡ºï¼Œé¿å…é‡å¤æ“ä½œï¼Œä¸‹é¢å†å°†ä¸­å³å·¦èŠ‚ç‚¹æ·»åŠ åˆ°æ ˆä¸­ï¼ˆååºéå†-å·¦å³ä¸­ï¼Œå…¥æ ˆé¡ºåºä¸­å³å·¦ï¼‰</span></span><br><span class="line">            st.push(node);                          <span class="comment">// æ·»åŠ ä¸­èŠ‚ç‚¹</span></span><br><span class="line">            st.push(<span class="literal">null</span>); <span class="comment">// ä¸­èŠ‚ç‚¹è®¿é—®è¿‡ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰å¤„ç†ï¼ŒåŠ å…¥ç©ºèŠ‚ç‚¹åšä¸ºæ ‡è®°ã€‚</span></span><br><span class="line">            <span class="keyword">if</span> (node.right!=<span class="literal">null</span>) st.push(node.right);  <span class="comment">// æ·»åŠ å³èŠ‚ç‚¹ï¼ˆç©ºèŠ‚ç‚¹ä¸å…¥æ ˆï¼‰</span></span><br><span class="line">            <span class="keyword">if</span> (node.left!=<span class="literal">null</span>) st.push(node.left);    <span class="comment">// æ·»åŠ å·¦èŠ‚ç‚¹ï¼ˆç©ºèŠ‚ç‚¹ä¸å…¥æ ˆï¼‰         </span></span><br><span class="line">                            </span><br><span class="line">        &#125; <span class="keyword">else</span> &#123; <span class="comment">// åªæœ‰é‡åˆ°ç©ºèŠ‚ç‚¹çš„æ—¶å€™ï¼Œæ‰å°†ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æ”¾è¿›ç»“æœé›†</span></span><br><span class="line">            st.pop();           <span class="comment">// å°†ç©ºèŠ‚ç‚¹å¼¹å‡º</span></span><br><span class="line">            node = st.peek();    <span class="comment">// é‡æ–°å–å‡ºæ ˆä¸­å…ƒç´ </span></span><br><span class="line">            st.pop();</span><br><span class="line">            result.add(node.val); <span class="comment">// åŠ å…¥åˆ°ç»“æœé›†</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<p>ç›´æ¥ç”¨æ ˆæ¨¡æ‹Ÿçš„å†™æ³•:<br>å‰åº ä¸­åº ååºçš„å†™æ³•ä¸ä¸€æ ·.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‰åºéå†é¡ºåºï¼šä¸­-å·¦-å³ï¼Œå…¥æ ˆé¡ºåºï¼šä¸­-å³-å·¦</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">preorderTraversal</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        List&lt;Integer&gt; result = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">        Stack&lt;TreeNode&gt; stack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">        stack.push(root);</span><br><span class="line">        <span class="keyword">while</span> (!stack.isEmpty())&#123;</span><br><span class="line">            <span class="type">TreeNode</span> <span class="variable">node</span> <span class="operator">=</span> stack.pop();</span><br><span class="line">            result.add(node.val);</span><br><span class="line">            <span class="keyword">if</span> (node.right != <span class="literal">null</span>)&#123;</span><br><span class="line">                stack.push(node.right);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (node.left != <span class="literal">null</span>)&#123;</span><br><span class="line">                stack.push(node.left);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸­åºéå†é¡ºåº: å·¦-ä¸­-å³ å…¥æ ˆé¡ºåºï¼š å·¦-å³</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">inorderTraversal</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        List&lt;Integer&gt; result = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">        Stack&lt;TreeNode&gt; stack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">cur</span> <span class="operator">=</span> root;</span><br><span class="line">        <span class="keyword">while</span> (cur != <span class="literal">null</span> || !stack.isEmpty())&#123;</span><br><span class="line">           <span class="keyword">if</span> (cur != <span class="literal">null</span>)&#123;</span><br><span class="line">               stack.push(cur);</span><br><span class="line">               cur = cur.left;</span><br><span class="line">           &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">               cur = stack.pop();</span><br><span class="line">               result.add(cur.val);</span><br><span class="line">               cur = cur.right;</span><br><span class="line">           &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ååºéå†é¡ºåº å·¦-å³-ä¸­ å…¥æ ˆé¡ºåºï¼šä¸­-å·¦-å³ å‡ºæ ˆé¡ºåºï¼šä¸­-å³-å·¦ï¼Œ æœ€åç¿»è½¬ç»“æœ</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">postorderTraversal</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        List&lt;Integer&gt; result = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">        Stack&lt;TreeNode&gt; stack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">        stack.push(root);</span><br><span class="line">        <span class="keyword">while</span> (!stack.isEmpty())&#123;</span><br><span class="line">            <span class="type">TreeNode</span> <span class="variable">node</span> <span class="operator">=</span> stack.pop();</span><br><span class="line">            result.add(node.val);</span><br><span class="line">            <span class="keyword">if</span> (node.left != <span class="literal">null</span>)&#123;</span><br><span class="line">                stack.push(node.left);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (node.right != <span class="literal">null</span>)&#123;</span><br><span class="line">                stack.push(node.right);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        Collections.reverse(result);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="äºŒå‰æ ‘çš„å±‚åºéå†-BFS"><a href="#äºŒå‰æ ‘çš„å±‚åºéå†-BFS" class="headerlink" title="äºŒå‰æ ‘çš„å±‚åºéå†(BFS)"></a>äºŒå‰æ ‘çš„å±‚åºéå†(BFS)</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 102.äºŒå‰æ ‘çš„å±‚åºéå†</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; resList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;List&lt;Integer&gt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">levelOrder</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="comment">//checkFun01(root,0);</span></span><br><span class="line">        checkFun02(root);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> resList;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//BFS--é€’å½’æ–¹å¼</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">checkFun01</span><span class="params">(TreeNode node, Integer deep)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (node == <span class="literal">null</span>) <span class="keyword">return</span>;</span><br><span class="line">        deep++;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (resList.size() &lt; deep) &#123;</span><br><span class="line">            <span class="comment">//å½“å±‚çº§å¢åŠ æ—¶ï¼Œlistçš„Itemä¹Ÿå¢åŠ ï¼Œåˆ©ç”¨listçš„ç´¢å¼•å€¼è¿›è¡Œå±‚çº§ç•Œå®š</span></span><br><span class="line">            List&lt;Integer&gt; item = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Integer&gt;();</span><br><span class="line">            resList.add(item);</span><br><span class="line">        &#125;</span><br><span class="line">        resList.get(deep - <span class="number">1</span>).add(node.val);</span><br><span class="line"></span><br><span class="line">        checkFun01(node.left, deep);</span><br><span class="line">        checkFun01(node.right, deep);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//BFS--è¿­ä»£æ–¹å¼--å€ŸåŠ©é˜Ÿåˆ—</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">checkFun02</span><span class="params">(TreeNode node)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (node == <span class="literal">null</span>) <span class="keyword">return</span>;</span><br><span class="line">        Queue&lt;TreeNode&gt; que = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;TreeNode&gt;();</span><br><span class="line">        que.offer(node);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (!que.isEmpty()) &#123;</span><br><span class="line">            List&lt;Integer&gt; itemList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Integer&gt;();</span><br><span class="line">            <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> que.size();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">while</span> (len &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="type">TreeNode</span> <span class="variable">tmpNode</span> <span class="operator">=</span> que.poll();</span><br><span class="line">                itemList.add(tmpNode.val);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (tmpNode.left != <span class="literal">null</span>) que.offer(tmpNode.left);</span><br><span class="line">                <span class="keyword">if</span> (tmpNode.right != <span class="literal">null</span>) que.offer(tmpNode.right);</span><br><span class="line">                len--;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            resList.add(itemList);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Morriséå†"><a href="#Morriséå†" class="headerlink" title="Morriséå†"></a>Morriséå†</h2><p>å­¦ä¹ äº†ä¸€ä¸ªMorriséå†æ–¹å¼,è¿™ç§æ–¹å¼å¯ä»¥åœ¨O(1)çš„ç©ºé—´å¤æ‚åº¦ä¸‹å®ŒæˆäºŒå‰æ ‘çš„éå†,å¹¶ä¸”ä¸éœ€è¦ä½¿ç”¨æ ˆæ¥å­˜å‚¨èŠ‚ç‚¹.<br>è´´ä¸€ä¸ªè‡ªå·±ç”»çš„ä¼ªä»£ç :<br><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/Morris%E4%B8%AD%E5%BA%8F%E9%81%8D%E5%8E%86%E4%BC%AA%E4%BB%A3%E7%A0%81.jpeg" alt="Morrisä¸­åºéå†ä¼ªä»£ç "><br>å‰åºå’Œä¸­åºå¯ä»¥é€šè¿‡è°ƒæ•´ä»£ç å®ç°,ååºå¯ä»¥é€šè¿‡å‘å³çš„å‰åºç„¶åç»“æœç¿»è½¬æ¥å®ç°.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å‰åº</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">preorderTraversal</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        List&lt;Integer&gt; res = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">cur</span> <span class="operator">=</span> root;</span><br><span class="line">        <span class="keyword">while</span>(cur != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(cur.left == <span class="literal">null</span>)&#123;</span><br><span class="line">                res.add(cur.val);</span><br><span class="line">                cur =cur.right; <span class="comment">//å‘å³èµ°</span></span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="type">TreeNode</span> <span class="variable">pre</span> <span class="operator">=</span> cur.left;</span><br><span class="line">                <span class="keyword">while</span>(pre.right != <span class="literal">null</span> &amp;&amp; pre.right != cur)&#123;</span><br><span class="line">                    pre = pre.right; <span class="comment">//å¼€å§‹å»ºç«‹ç´¢å¼•</span></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(pre.right == <span class="literal">null</span>)&#123;</span><br><span class="line">                    <span class="comment">//æ˜¯ä¸€ä¸ªç¬¬ä¸€æ¬¡æ¥çš„èŠ‚ç‚¹</span></span><br><span class="line">                    pre.right = cur;</span><br><span class="line">                    res.add(cur.val);</span><br><span class="line">                    cur = cur.left;</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    <span class="comment">//å¹¶ä¸æ˜¯ç¬¬ä¸€æ¬¡æ¥çš„èŠ‚ç‚¹</span></span><br><span class="line">                    pre.right = <span class="literal">null</span>;</span><br><span class="line">                    cur = cur.right;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä¸­åº</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">inorderTraversal</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        List&lt;Integer&gt; res =<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">cur</span> <span class="operator">=</span> root;</span><br><span class="line">        <span class="keyword">while</span>(cur != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(cur.left == <span class="literal">null</span>)&#123;</span><br><span class="line">                res.add(cur.val);</span><br><span class="line">                cur = cur.right;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="type">TreeNode</span> <span class="variable">pre</span> <span class="operator">=</span> cur.left;</span><br><span class="line">                <span class="keyword">while</span>(pre.right != <span class="literal">null</span> &amp;&amp; pre.right != cur)&#123;</span><br><span class="line">                    pre = pre.right;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(pre.right == <span class="literal">null</span>)&#123;</span><br><span class="line">                    pre.right = cur;</span><br><span class="line">                    cur = cur.left;</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    pre.right = <span class="literal">null</span>;</span><br><span class="line">                    res.add(cur.val);</span><br><span class="line">                    cur = cur.right;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ååº</span></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collections;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TreeNode</span> &#123;</span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line">    TreeNode left;</span><br><span class="line">    TreeNode right;</span><br><span class="line">    TreeNode(<span class="type">int</span> x) &#123; val = x; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MorrisPostorderTraversal</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">postorderTraversal</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        List&lt;Integer&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">curr</span> <span class="operator">=</span> root;</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">prev</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (curr != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (curr.right == <span class="literal">null</span>) &#123;</span><br><span class="line">                res.add(curr.val); <span class="comment">// å³å­æ ‘ä¸ºç©ºï¼Œç›´æ¥è®¿é—®</span></span><br><span class="line">                curr = curr.left;  <span class="comment">// è½¬å‘å·¦å­æ ‘</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// æ‰¾åˆ°å³å­æ ‘çš„æœ€å·¦èŠ‚ç‚¹ï¼ˆå³åç»§èŠ‚ç‚¹ï¼‰</span></span><br><span class="line">                prev = curr.right;</span><br><span class="line">                <span class="keyword">while</span> (prev.left != <span class="literal">null</span> &amp;&amp; prev.left != curr) &#123;</span><br><span class="line">                    prev = prev.left;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (prev.left == <span class="literal">null</span>) &#123;</span><br><span class="line">                    prev.left = curr; <span class="comment">// å»ºç«‹çº¿ç´¢</span></span><br><span class="line">                    res.add(curr.val); <span class="comment">// è®¿é—®å½“å‰èŠ‚ç‚¹ï¼ˆå‰åºéå†ä½ç½®ï¼‰</span></span><br><span class="line">                    curr = curr.right; <span class="comment">// è½¬å‘å³å­æ ‘</span></span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    prev.left = <span class="literal">null</span>; <span class="comment">// æ¢å¤æ ‘ç»“æ„</span></span><br><span class="line">                    curr = curr.left; <span class="comment">// è½¬å‘å·¦å­æ ‘</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        Collections.reverse(res); <span class="comment">// åè½¬ç»“æœï¼Œå¾—åˆ°ååºéå†</span></span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="äºŒå‰æ ‘é¢˜ç›®"><a href="#äºŒå‰æ ‘é¢˜ç›®" class="headerlink" title="äºŒå‰æ ‘é¢˜ç›®"></a>äºŒå‰æ ‘é¢˜ç›®</h2><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/invert-binary-tree/">ç¿»è½¬äºŒå‰æ ‘</a><br>dfsæˆ–è€…bfséƒ½å¯åš</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//DFSé€’å½’</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">   <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å‰ååºéå†éƒ½å¯ä»¥</span></span><br><span class="line"><span class="comment">     * ä¸­åºä¸è¡Œï¼Œå› ä¸ºå…ˆå·¦å­©å­äº¤æ¢å­©å­ï¼Œå†æ ¹äº¤æ¢å­©å­ï¼ˆåšå®Œåï¼Œå³å­©å­å·²ç»å˜æˆäº†åŸæ¥çš„å·¦å­©å­ï¼‰ï¼Œå†å³å­©å­äº¤æ¢å­©å­ï¼ˆæ­¤æ—¶å…¶å®æ˜¯å¯¹åŸæ¥çš„å·¦å­©å­åšäº¤æ¢ï¼‰</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> TreeNode <span class="title function_">invertTree</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        invertTree(root.left);</span><br><span class="line">        invertTree(root.right);</span><br><span class="line">        swapChildren(root);</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">swapChildren</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">tmp</span> <span class="operator">=</span> root.left;</span><br><span class="line">        root.left = root.right;</span><br><span class="line">        root.right = tmp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//BFS</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> TreeNode <span class="title function_">invertTree</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;<span class="keyword">return</span> <span class="literal">null</span>;&#125;</span><br><span class="line">        ArrayDeque&lt;TreeNode&gt; deque = <span class="keyword">new</span> <span class="title class_">ArrayDeque</span>&lt;&gt;();</span><br><span class="line">        deque.offer(root);</span><br><span class="line">        <span class="keyword">while</span> (!deque.isEmpty()) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> deque.size();</span><br><span class="line">            <span class="keyword">while</span> (size-- &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="type">TreeNode</span> <span class="variable">node</span> <span class="operator">=</span> deque.poll();</span><br><span class="line">                swap(node);</span><br><span class="line">                <span class="keyword">if</span> (node.left != <span class="literal">null</span>) deque.offer(node.left);</span><br><span class="line">                <span class="keyword">if</span> (node.right != <span class="literal">null</span>) deque.offer(node.right);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">swap</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">temp</span> <span class="operator">=</span> root.left;</span><br><span class="line">        root.left = root.right;</span><br><span class="line">        root.right = temp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>å¯¹ç§°äºŒå‰æ ‘</strong><br>è¿™é“é¢˜é€’å½’è°ƒç”¨å¾ˆç®€å•,è¿­ä»£è°ƒç”¨ç”¨ä¸€ä¸ªé˜Ÿåˆ—å°±å¯ä»¥,é€€å‡ºæ¡ä»¶å¯ä»¥æ³¨æ„ä¸€ä¸‹.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é€’å½’æ³•</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isSymmetric1</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> compare(root.left, root.right);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">compare</span><span class="params">(TreeNode left, TreeNode right)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (left == <span class="literal">null</span> &amp;&amp; right != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (left != <span class="literal">null</span> &amp;&amp; right == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (left == <span class="literal">null</span> &amp;&amp; right == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (left.val != right.val) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æ¯”è¾ƒå¤–ä¾§</span></span><br><span class="line">    <span class="type">boolean</span> <span class="variable">compareOutside</span> <span class="operator">=</span> compare(left.left, right.right);</span><br><span class="line">    <span class="comment">// æ¯”è¾ƒå†…ä¾§</span></span><br><span class="line">    <span class="type">boolean</span> <span class="variable">compareInside</span> <span class="operator">=</span> compare(left.right, right.left);</span><br><span class="line">    <span class="keyword">return</span> compareOutside &amp;&amp; compareInside;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¿­ä»£æ³•</span></span><br><span class="line"><span class="comment"> * ä½¿ç”¨åŒç«¯é˜Ÿåˆ—ï¼Œç›¸å½“äºä¸¤ä¸ªæ ˆ</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isSymmetric2</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">    Deque&lt;TreeNode&gt; deque = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    deque.offerFirst(root.left);</span><br><span class="line">    deque.offerLast(root.right);</span><br><span class="line">    <span class="keyword">while</span> (!deque.isEmpty()) &#123;</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">leftNode</span> <span class="operator">=</span> deque.pollFirst();</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">rightNode</span> <span class="operator">=</span> deque.pollLast();</span><br><span class="line">        <span class="keyword">if</span> (leftNode == <span class="literal">null</span> &amp;&amp; rightNode == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//            if (leftNode == null &amp;&amp; rightNode != null) &#123;</span></span><br><span class="line"><span class="comment">//                return false;</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line"><span class="comment">//            if (leftNode != null &amp;&amp; rightNode == null) &#123;</span></span><br><span class="line"><span class="comment">//                return false;</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line"><span class="comment">//            if (leftNode.val != rightNode.val) &#123;</span></span><br><span class="line"><span class="comment">//                return false;</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line">        <span class="comment">// ä»¥ä¸Šä¸‰ä¸ªåˆ¤æ–­æ¡ä»¶åˆå¹¶</span></span><br><span class="line">        <span class="keyword">if</span> (leftNode == <span class="literal">null</span> || rightNode == <span class="literal">null</span> || leftNode.val != rightNode.val) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        deque.offerFirst(leftNode.left);</span><br><span class="line">        deque.offerFirst(leftNode.right);</span><br><span class="line">        deque.offerLast(rightNode.right);</span><br><span class="line">        deque.offerLast(rightNode.left);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¿­ä»£æ³•</span></span><br><span class="line"><span class="comment"> * ä½¿ç”¨æ™®é€šé˜Ÿåˆ—</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isSymmetric3</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">    Queue&lt;TreeNode&gt; deque = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    deque.offer(root.left);</span><br><span class="line">    deque.offer(root.right);</span><br><span class="line">    <span class="keyword">while</span> (!deque.isEmpty()) &#123;</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">leftNode</span> <span class="operator">=</span> deque.poll();</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">rightNode</span> <span class="operator">=</span> deque.poll();</span><br><span class="line">        <span class="keyword">if</span> (leftNode == <span class="literal">null</span> &amp;&amp; rightNode == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//            if (leftNode == null &amp;&amp; rightNode != null) &#123;</span></span><br><span class="line"><span class="comment">//                return false;</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line"><span class="comment">//            if (leftNode != null &amp;&amp; rightNode == null) &#123;</span></span><br><span class="line"><span class="comment">//                return false;</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line"><span class="comment">//            if (leftNode.val != rightNode.val) &#123;</span></span><br><span class="line"><span class="comment">//                return false;</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line">        <span class="comment">// ä»¥ä¸Šä¸‰ä¸ªåˆ¤æ–­æ¡ä»¶åˆå¹¶</span></span><br><span class="line">        <span class="keyword">if</span> (leftNode == <span class="literal">null</span> || rightNode == <span class="literal">null</span> || leftNode.val != rightNode.val) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è¿™é‡Œé¡ºåºä¸ä½¿ç”¨Dequeä¸åŒ</span></span><br><span class="line">        deque.offer(leftNode.left);</span><br><span class="line">        deque.offer(rightNode.right);</span><br><span class="line">        deque.offer(leftNode.right);</span><br><span class="line">        deque.offer(rightNode.left);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>äºŒå‰æ ‘æœ€å¤§æ·±åº¦<br>104.äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * é€’å½’æ³•</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxDepth</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">leftDepth</span> <span class="operator">=</span> maxDepth(root.left);</span><br><span class="line">        <span class="type">int</span> <span class="variable">rightDepth</span> <span class="operator">=</span> maxDepth(root.right);</span><br><span class="line">        <span class="keyword">return</span> Math.max(leftDepth, rightDepth) + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * é€’å½’æ³•(æ±‚æ·±åº¦æ³•)</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">    <span class="comment">//å®šä¹‰æœ€å¤§æ·±åº¦</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">maxnum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxDepth</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        ans(root,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> maxnum;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//é€’å½’æ±‚è§£æœ€å¤§æ·±åº¦</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">ans</span><span class="params">(TreeNode tr,<span class="type">int</span> tmp)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(tr==<span class="literal">null</span>) <span class="keyword">return</span>;</span><br><span class="line">        tmp++;</span><br><span class="line">        maxnum = maxnum&lt;tmp?tmp:maxnum;</span><br><span class="line">        ans(tr.left,tmp);</span><br><span class="line">        ans(tr.right,tmp);</span><br><span class="line">        tmp--;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¿­ä»£æ³•ï¼Œä½¿ç”¨å±‚åºéå†</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxDepth</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        Deque&lt;TreeNode&gt; deque = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        deque.offer(root);</span><br><span class="line">        <span class="type">int</span> <span class="variable">depth</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (!deque.isEmpty()) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> deque.size();</span><br><span class="line">            depth++;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">                <span class="type">TreeNode</span> <span class="variable">node</span> <span class="operator">=</span> deque.poll();</span><br><span class="line">                <span class="keyword">if</span> (node.left != <span class="literal">null</span>) &#123;</span><br><span class="line">                    deque.offer(node.left);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (node.right != <span class="literal">null</span>) &#123;</span><br><span class="line">                    deque.offer(node.right);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> depth;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„</p>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/binary-tree-paths/">https://leetcode.cn/problems/binary-tree-paths/</a><br>é€’å½’å’Œå›æº¯.<br>PS:é€’å½’å’Œå›æº¯æ°¸è¿œè¦æ”¾åœ¨ä¸€èµ·!!!</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è§£æ³•ä¸€</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ–¹å¼ä¸€</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * é€’å½’æ³•</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;String&gt; <span class="title function_">binaryTreePaths</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        List&lt;String&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();<span class="comment">// å­˜æœ€ç»ˆçš„ç»“æœ</span></span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> res;</span><br><span class="line">        &#125;</span><br><span class="line">        List&lt;Integer&gt; paths = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();<span class="comment">// ä½œä¸ºç»“æœä¸­çš„è·¯å¾„</span></span><br><span class="line">        traversal(root, paths, res);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">traversal</span><span class="params">(TreeNode root, List&lt;Integer&gt; paths, List&lt;String&gt; res)</span> &#123;</span><br><span class="line">        paths.add(root.val);<span class="comment">// å‰åºéå†ï¼Œä¸­</span></span><br><span class="line">        <span class="comment">// é‡åˆ°å¶å­ç»“ç‚¹</span></span><br><span class="line">        <span class="keyword">if</span> (root.left == <span class="literal">null</span> &amp;&amp; root.right == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="comment">// è¾“å‡º</span></span><br><span class="line">            <span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();<span class="comment">// StringBuilderç”¨æ¥æ‹¼æ¥å­—ç¬¦ä¸²ï¼Œé€Ÿåº¦æ›´å¿«</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; paths.size() - <span class="number">1</span>; i++) &#123;</span><br><span class="line">                sb.append(paths.get(i)).append(<span class="string">&quot;-&gt;&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            sb.append(paths.get(paths.size() - <span class="number">1</span>));<span class="comment">// è®°å½•æœ€åä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">            res.add(sb.toString());<span class="comment">// æ”¶é›†ä¸€ä¸ªè·¯å¾„</span></span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// é€’å½’å’Œå›æº¯æ˜¯åŒæ—¶è¿›è¡Œï¼Œæ‰€ä»¥è¦æ”¾åœ¨åŒä¸€ä¸ªèŠ±æ‹¬å·é‡Œ</span></span><br><span class="line">        <span class="keyword">if</span> (root.left != <span class="literal">null</span>) &#123; <span class="comment">// å·¦</span></span><br><span class="line">            traversal(root.left, paths, res);</span><br><span class="line">            paths.remove(paths.size() - <span class="number">1</span>);<span class="comment">// å›æº¯</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (root.right != <span class="literal">null</span>) &#123; <span class="comment">// å³</span></span><br><span class="line">            traversal(root.right, paths, res);</span><br><span class="line">            paths.remove(paths.size() - <span class="number">1</span>);<span class="comment">// å›æº¯</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ–¹å¼äºŒ</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"></span><br><span class="line">    List&lt;String&gt; result = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;String&gt; <span class="title function_">binaryTreePaths</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        deal(root, <span class="string">&quot;&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deal</span><span class="params">(TreeNode node, String s)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (node == <span class="literal">null</span>)</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">if</span> (node.left == <span class="literal">null</span> &amp;&amp; node.right == <span class="literal">null</span>) &#123;</span><br><span class="line">            result.add(<span class="keyword">new</span> <span class="title class_">StringBuilder</span>(s).append(node.val).toString());</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">String</span> <span class="variable">tmp</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>(s).append(node.val).append(<span class="string">&quot;-&gt;&quot;</span>).toString();</span><br><span class="line">        deal(node.left, tmp);</span><br><span class="line">        deal(node.right, tmp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿­ä»£æ³•:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è§£æ³•äºŒ</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¿­ä»£æ³•</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;String&gt; <span class="title function_">binaryTreePaths</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        List&lt;String&gt; result = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>)</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        Stack&lt;Object&gt; stack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">// èŠ‚ç‚¹å’Œè·¯å¾„åŒæ—¶å…¥æ ˆ</span></span><br><span class="line">        stack.push(root);</span><br><span class="line">        stack.push(root.val + <span class="string">&quot;&quot;</span>);</span><br><span class="line">        <span class="keyword">while</span> (!stack.isEmpty()) &#123;</span><br><span class="line">            <span class="comment">// èŠ‚ç‚¹å’Œè·¯å¾„åŒæ—¶å‡ºæ ˆ</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">path</span> <span class="operator">=</span> (String) stack.pop();</span><br><span class="line">            <span class="type">TreeNode</span> <span class="variable">node</span> <span class="operator">=</span> (TreeNode) stack.pop();</span><br><span class="line">            <span class="comment">// è‹¥æ‰¾åˆ°å¶å­èŠ‚ç‚¹</span></span><br><span class="line">            <span class="keyword">if</span> (node.left == <span class="literal">null</span> &amp;&amp; node.right == <span class="literal">null</span>) &#123;</span><br><span class="line">                result.add(path);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//å³å­èŠ‚ç‚¹ä¸ä¸ºç©º</span></span><br><span class="line">            <span class="keyword">if</span> (node.right != <span class="literal">null</span>) &#123;</span><br><span class="line">                stack.push(node.right);</span><br><span class="line">                stack.push(path + <span class="string">&quot;-&gt;&quot;</span> + node.right.val);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//å·¦å­èŠ‚ç‚¹ä¸ä¸ºç©º</span></span><br><span class="line">            <span class="keyword">if</span> (node.left != <span class="literal">null</span>) &#123;</span><br><span class="line">                stack.push(node.left);</span><br><span class="line">                stack.push(path + <span class="string">&quot;-&gt;&quot;</span> + node.left.val);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>404.å·¦å¶å­ä¹‹å’Œ<br><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/sum-of-left-leaves/">https://leetcode.cn/problems/sum-of-left-leaves/</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">sumOfLeftLeaves</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">leftValue</span> <span class="operator">=</span> sumOfLeftLeaves(root.left);    <span class="comment">// å·¦</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">rightValue</span> <span class="operator">=</span> sumOfLeftLeaves(root.right);  <span class="comment">// å³</span></span><br><span class="line">                                                       </span><br><span class="line">        <span class="type">int</span> <span class="variable">midValue</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (root.left != <span class="literal">null</span> &amp;&amp; root.left.left == <span class="literal">null</span> &amp;&amp; root.left.right == <span class="literal">null</span>) &#123; </span><br><span class="line">            midValue = root.left.val;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> midValue + leftValue + rightValue;  <span class="comment">// ä¸­</span></span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">sumOfLeftLeaves</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        Stack&lt;TreeNode&gt; stack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt; ();</span><br><span class="line">        stack.add(root);</span><br><span class="line">        <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (!stack.isEmpty()) &#123;</span><br><span class="line">            <span class="type">TreeNode</span> <span class="variable">node</span> <span class="operator">=</span> stack.pop();</span><br><span class="line">            <span class="keyword">if</span> (node.left != <span class="literal">null</span> &amp;&amp; node.left.left == <span class="literal">null</span> &amp;&amp; node.left.right == <span class="literal">null</span>) &#123;</span><br><span class="line">                result += node.left.val;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (node.right != <span class="literal">null</span>) stack.add(node.right);</span><br><span class="line">            <span class="keyword">if</span> (node.left != <span class="literal">null</span>) stack.add(node.left);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> 513.æ‰¾æ ‘å·¦ä¸‹è§’çš„å€¼<br><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/find-bottom-left-tree-value/">https://leetcode.cn/problems/find-bottom-left-tree-value/</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é€’å½’æ³•</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">Deep</span> <span class="operator">=</span> -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">value</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">findBottomLeftValue</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        value = root.val;</span><br><span class="line">        findLeftValue(root,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> value;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">findLeftValue</span> <span class="params">(TreeNode root,<span class="type">int</span> deep)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">if</span> (root.left == <span class="literal">null</span> &amp;&amp; root.right == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (deep &gt; Deep) &#123;</span><br><span class="line">                value = root.val;</span><br><span class="line">                Deep = deep;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (root.left != <span class="literal">null</span>) findLeftValue(root.left,deep + <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span> (root.right != <span class="literal">null</span>) findLeftValue(root.right,deep + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¿­ä»£æ³•</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">findBottomLeftValue</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        queue.offer(root);</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> queue.size();</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">                <span class="type">TreeNode</span> <span class="variable">poll</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">                <span class="keyword">if</span> (i == <span class="number">0</span>) &#123;</span><br><span class="line">                    res = poll.val;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (poll.left != <span class="literal">null</span>) &#123;</span><br><span class="line">                    queue.offer(poll.left);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (poll.right != <span class="literal">null</span>) &#123;</span><br><span class="line">                    queue.offer(poll.right);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="112">
<li>è·¯å¾„æ€»å’Œ<br><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/path-sum/">https://leetcode.cn/problems/path-sum/</a></li>
</ol>
<p> 106.ä»ä¸­åºä¸ååºéå†åºåˆ—æ„é€ äºŒå‰æ ‘</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    Map&lt;Integer, Integer&gt; map;  <span class="comment">// æ–¹ä¾¿æ ¹æ®æ•°å€¼æŸ¥æ‰¾ä½ç½®</span></span><br><span class="line">    <span class="keyword">public</span> TreeNode <span class="title function_">buildTree</span><span class="params">(<span class="type">int</span>[] inorder, <span class="type">int</span>[] postorder)</span> &#123;</span><br><span class="line">        map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; inorder.length; i++) &#123; <span class="comment">// ç”¨mapä¿å­˜ä¸­åºåºåˆ—çš„æ•°å€¼å¯¹åº”ä½ç½®</span></span><br><span class="line">            map.put(inorder[i], i);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> findNode(inorder,  <span class="number">0</span>, inorder.length, postorder,<span class="number">0</span>, postorder.length);  <span class="comment">// å‰é—­åå¼€</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> TreeNode <span class="title function_">findNode</span><span class="params">(<span class="type">int</span>[] inorder, <span class="type">int</span> inBegin, <span class="type">int</span> inEnd, <span class="type">int</span>[] postorder, <span class="type">int</span> postBegin, <span class="type">int</span> postEnd)</span> &#123;</span><br><span class="line">        <span class="comment">// å‚æ•°é‡Œçš„èŒƒå›´éƒ½æ˜¯å‰é—­åå¼€</span></span><br><span class="line">        <span class="keyword">if</span> (inBegin &gt;= inEnd || postBegin &gt;= postEnd) &#123;  <span class="comment">// ä¸æ»¡è¶³å·¦é—­å³å¼€ï¼Œè¯´æ˜æ²¡æœ‰å…ƒç´ ï¼Œè¿”å›ç©ºæ ‘</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">rootIndex</span> <span class="operator">=</span> map.get(postorder[postEnd - <span class="number">1</span>]);  <span class="comment">// æ‰¾åˆ°ååºéå†çš„æœ€åä¸€ä¸ªå…ƒç´ åœ¨ä¸­åºéå†ä¸­çš„ä½ç½®</span></span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">root</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TreeNode</span>(inorder[rootIndex]);  <span class="comment">// æ„é€ ç»“ç‚¹</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">lenOfLeft</span> <span class="operator">=</span> rootIndex - inBegin;  <span class="comment">// ä¿å­˜ä¸­åºå·¦å­æ ‘ä¸ªæ•°ï¼Œç”¨æ¥ç¡®å®šååºæ•°åˆ—çš„ä¸ªæ•°</span></span><br><span class="line">        root.left = findNode(inorder, inBegin, rootIndex,</span><br><span class="line">                            postorder, postBegin, postBegin + lenOfLeft);</span><br><span class="line">        root.right = findNode(inorder, rootIndex + <span class="number">1</span>, inEnd,</span><br><span class="line">                            postorder, postBegin + lenOfLeft, postEnd - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> 106.ä»å‰åºä¸ååºéå†åºåˆ—æ„é€ äºŒå‰æ ‘</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    Map&lt;Integer,Integer&gt; mp = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">public</span> TreeNode <span class="title function_">constructFromPrePost</span><span class="params">(<span class="type">int</span>[] preorder, <span class="type">int</span>[] postorder)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> preorder.length;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span> ; i&lt;n ; ++i)&#123;</span><br><span class="line">            mp.put(postorder[i],i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dfs(preorder,<span class="number">0</span>,n-<span class="number">1</span>,postorder,<span class="number">0</span>,n-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> TreeNode <span class="title function_">dfs</span><span class="params">(<span class="type">int</span>[] preorder , <span class="type">int</span> pre_beg,<span class="type">int</span> pre_end ,<span class="type">int</span>[] postorder, <span class="type">int</span> pos_beg , <span class="type">int</span> pos_end)</span>&#123;</span><br><span class="line">        <span class="comment">//é—­åŒºé—´ å…ˆåˆ¤æ–­æ˜¯å¦ç»ˆæ­¢</span></span><br><span class="line">        <span class="keyword">if</span>(pre_beg&gt;pre_end || pos_beg&gt;pos_end)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> preorder[pre_beg];</span><br><span class="line">        <span class="keyword">if</span>(pre_beg == pre_end || pos_beg == pos_end)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">TreeNode</span>(mid);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">nx_l</span> <span class="operator">=</span> preorder[pre_beg+<span class="number">1</span>];</span><br><span class="line">        <span class="type">int</span> <span class="variable">ind_nxl</span> <span class="operator">=</span> mp.get(nx_l);</span><br><span class="line">        <span class="type">int</span> <span class="variable">lenOfLeft</span> <span class="operator">=</span> ind_nxl - pos_beg + <span class="number">1</span>;</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">root</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TreeNode</span>(mid);</span><br><span class="line">        root.left = dfs(preorder,pre_beg+<span class="number">1</span>,pre_beg+lenOfLeft,postorder,pos_beg,pos_beg+lenOfLeft-<span class="number">1</span>);</span><br><span class="line">        root.right = dfs(preorder,pre_beg+lenOfLeft+<span class="number">1</span>,pre_end,postorder,ind_nxl+<span class="number">1</span>,pos_end-<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> 617.åˆå¹¶äºŒå‰æ ‘<br><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/merge-two-binary-trees/">https://leetcode.cn/problems/merge-two-binary-trees/</a></p>
<p> 700.äºŒå‰æœç´¢æ ‘ä¸­çš„æœç´¢<br><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/search-in-a-binary-search-tree/">https://leetcode.cn/problems/search-in-a-binary-search-tree/</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="comment">// é€’å½’ï¼Œæ™®é€šäºŒå‰æ ‘</span></span><br><span class="line">    <span class="keyword">public</span> TreeNode <span class="title function_">searchBST</span><span class="params">(TreeNode root, <span class="type">int</span> val)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span> || root.val == val) &#123;</span><br><span class="line">            <span class="keyword">return</span> root;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">left</span> <span class="operator">=</span> searchBST(root.left, val);</span><br><span class="line">        <span class="keyword">if</span> (left != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> left;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> searchBST(root.right, val);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="comment">// é€’å½’ï¼Œåˆ©ç”¨äºŒå‰æœç´¢æ ‘ç‰¹ç‚¹ï¼Œä¼˜åŒ–</span></span><br><span class="line">    <span class="keyword">public</span> TreeNode <span class="title function_">searchBST</span><span class="params">(TreeNode root, <span class="type">int</span> val)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span> || root.val == val) &#123;</span><br><span class="line">            <span class="keyword">return</span> root;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (val &lt; root.val) &#123;</span><br><span class="line">            <span class="keyword">return</span> searchBST(root.left, val);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> searchBST(root.right, val);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="comment">// è¿­ä»£ï¼Œæ™®é€šäºŒå‰æ ‘</span></span><br><span class="line">    <span class="keyword">public</span> TreeNode <span class="title function_">searchBST</span><span class="params">(TreeNode root, <span class="type">int</span> val)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span> || root.val == val) &#123;</span><br><span class="line">            <span class="keyword">return</span> root;</span><br><span class="line">        &#125;</span><br><span class="line">        Stack&lt;TreeNode&gt; stack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">        stack.push(root);</span><br><span class="line">        <span class="keyword">while</span> (!stack.isEmpty()) &#123;</span><br><span class="line">            <span class="type">TreeNode</span> <span class="variable">pop</span> <span class="operator">=</span> stack.pop();</span><br><span class="line">            <span class="keyword">if</span> (pop.val == val) &#123;</span><br><span class="line">                <span class="keyword">return</span> pop;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (pop.right != <span class="literal">null</span>) &#123;</span><br><span class="line">                stack.push(pop.right);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (pop.left != <span class="literal">null</span>) &#123;</span><br><span class="line">                stack.push(pop.left);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="comment">// è¿­ä»£ï¼Œåˆ©ç”¨äºŒå‰æœç´¢æ ‘ç‰¹ç‚¹ï¼Œä¼˜åŒ–ï¼Œå¯ä»¥ä¸éœ€è¦æ ˆ</span></span><br><span class="line">    <span class="keyword">public</span> TreeNode <span class="title function_">searchBST</span><span class="params">(TreeNode root, <span class="type">int</span> val)</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (root != <span class="literal">null</span>)</span><br><span class="line">            <span class="keyword">if</span> (val &lt; root.val) root = root.left;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (val &gt; root.val) root = root.right;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">return</span> root;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 98.éªŒè¯äºŒå‰æœç´¢æ ‘<br>è®°ä½æœ€é‡è¦çš„å°±æ˜¯:äºŒå‰æœç´¢æ ‘çš„ä¸­åºéå†æ˜¯æœ‰åºçš„.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä½¿ç”¨çµ±ä¸€è¿­ä»£æ³•</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isValidBST</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        Stack&lt;TreeNode&gt; stack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">pre</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">if</span>(root != <span class="literal">null</span>)</span><br><span class="line">            stack.add(root);        </span><br><span class="line">        <span class="keyword">while</span>(!stack.isEmpty())&#123;</span><br><span class="line">            <span class="type">TreeNode</span> <span class="variable">curr</span> <span class="operator">=</span> stack.peek();</span><br><span class="line">            <span class="keyword">if</span>(curr != <span class="literal">null</span>)&#123;</span><br><span class="line">                stack.pop();</span><br><span class="line">                <span class="keyword">if</span>(curr.right != <span class="literal">null</span>)</span><br><span class="line">                    stack.add(curr.right);</span><br><span class="line">                stack.add(curr);</span><br><span class="line">                stack.add(<span class="literal">null</span>);</span><br><span class="line">                <span class="keyword">if</span>(curr.left != <span class="literal">null</span>)</span><br><span class="line">                    stack.add(curr.left);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                stack.pop();</span><br><span class="line">                <span class="type">TreeNode</span> <span class="variable">temp</span> <span class="operator">=</span> stack.pop();</span><br><span class="line">                <span class="keyword">if</span>(pre != <span class="literal">null</span> &amp;&amp; pre.val &gt;= temp.val)</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                pre = temp;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="comment">// é€’å½’</span></span><br><span class="line">    TreeNode max;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isValidBST</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å·¦</span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">left</span> <span class="operator">=</span> isValidBST(root.left);</span><br><span class="line">        <span class="keyword">if</span> (!left) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// ä¸­</span></span><br><span class="line">        <span class="keyword">if</span> (max != <span class="literal">null</span> &amp;&amp; root.val &lt;= max.val) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        max = root;</span><br><span class="line">        <span class="comment">// å³</span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">right</span> <span class="operator">=</span> isValidBST(root.right);</span><br><span class="line">        <span class="keyword">return</span> right;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="comment">// è¿­ä»£</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isValidBST</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        Stack&lt;TreeNode&gt; stack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">pre</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">while</span> (root != <span class="literal">null</span> || !stack.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">while</span> (root != <span class="literal">null</span>) &#123;</span><br><span class="line">                stack.push(root);</span><br><span class="line">                root = root.left;<span class="comment">// å·¦</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// ä¸­ï¼Œå¤„ç†</span></span><br><span class="line">            <span class="type">TreeNode</span> <span class="variable">pop</span> <span class="operator">=</span> stack.pop();</span><br><span class="line">            <span class="keyword">if</span> (pre != <span class="literal">null</span> &amp;&amp; pop.val &lt;= pre.val) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            pre = pop;</span><br><span class="line"></span><br><span class="line">            root = pop.right;<span class="comment">// å³</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç®€æ´å®ç°Â·é€’å½’è§£æ³•</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isValidBST</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> validBST(Long.MIN_VALUE, Long.MAX_VALUE, root);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">validBST</span><span class="params">(<span class="type">long</span> lower, <span class="type">long</span> upper, TreeNode root)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (root.val &lt;= lower || root.val &gt;= upper) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">return</span> validBST(lower, root.val, root.left) &amp;&amp; validBST(root.val, upper, root.right);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç®€æ´å®ç°Â·ä¸­åºéå†</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">long</span> <span class="variable">prev</span> <span class="operator">=</span> Long.MIN_VALUE;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isValidBST</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!isValidBST(root.left)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (root.val &lt;= prev) &#123; <span class="comment">// ä¸æ»¡è¶³äºŒå‰æœç´¢æ ‘æ¡ä»¶</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        prev = root.val;</span><br><span class="line">        <span class="keyword">return</span> isValidBST(root.right);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="236">
<li>äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ<br><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/lowest-common-ancestor-of-a-binary-tree/">https://leetcode.cn/problems/lowest-common-ancestor-of-a-binary-tree/</a></li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> TreeNode <span class="title function_">lowestCommonAncestor</span><span class="params">(TreeNode root, TreeNode p, TreeNode q)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span> || root == p || root == q) &#123; <span class="comment">// é€’å½’ç»“æŸæ¡ä»¶</span></span><br><span class="line">            <span class="keyword">return</span> root;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ååºéå†</span></span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">left</span> <span class="operator">=</span> lowestCommonAncestor(root.left, p, q);</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">right</span> <span class="operator">=</span> lowestCommonAncestor(root.right, p, q);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(left == <span class="literal">null</span> &amp;&amp; right == <span class="literal">null</span>) &#123; <span class="comment">// è‹¥æœªæ‰¾åˆ°èŠ‚ç‚¹ p æˆ– q</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(left == <span class="literal">null</span> &amp;&amp; right != <span class="literal">null</span>) &#123; <span class="comment">// è‹¥æ‰¾åˆ°ä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">            <span class="keyword">return</span> right;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(left != <span class="literal">null</span> &amp;&amp; right == <span class="literal">null</span>) &#123; <span class="comment">// è‹¥æ‰¾åˆ°ä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">            <span class="keyword">return</span> left;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123; <span class="comment">// è‹¥æ‰¾åˆ°ä¸¤ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">            <span class="keyword">return</span> root;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//è¿­ä»£</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> TreeNode <span class="title function_">lowestCommonAncestor</span><span class="params">(TreeNode root, TreeNode p, TreeNode q)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">max</span> <span class="operator">=</span> Integer.MAX_VALUE;</span><br><span class="line">    Stack&lt;TreeNode&gt; st = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">    <span class="type">TreeNode</span> <span class="variable">cur</span> <span class="operator">=</span> root, pre = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">while</span> (cur != <span class="literal">null</span> || !st.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">while</span> (cur != <span class="literal">null</span>) &#123;</span><br><span class="line">            st.push(cur);</span><br><span class="line">            cur = cur.left;</span><br><span class="line">        &#125;</span><br><span class="line">        cur = st.pop();</span><br><span class="line">        <span class="keyword">if</span> (cur.right == <span class="literal">null</span> || cur.right == pre) &#123;</span><br><span class="line">            <span class="comment">// p/qæ˜¯ ä¸­/å·¦ æˆ–è€… ä¸­/å³ , è¿”å›ä¸­</span></span><br><span class="line">            <span class="keyword">if</span> (cur == p || cur == q) &#123;</span><br><span class="line">                <span class="keyword">if</span> ((cur.left != <span class="literal">null</span> &amp;&amp; cur.left.val == max) || (cur.right != <span class="literal">null</span> &amp;&amp; cur.right.val == max)) &#123;</span><br><span class="line">                    <span class="keyword">return</span> cur;</span><br><span class="line">                &#125;</span><br><span class="line">                cur.val = max;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// p/qæ˜¯ å·¦/å³ , è¿”å›ä¸­</span></span><br><span class="line">            <span class="keyword">if</span> (cur.left != <span class="literal">null</span> &amp;&amp; cur.left.val == max &amp;&amp; cur.right != <span class="literal">null</span> &amp;&amp; cur.right.val == max) &#123;</span><br><span class="line">                <span class="keyword">return</span> cur;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// MAX_VALUE å¾€ä¸Šä¼ é€’</span></span><br><span class="line">            <span class="keyword">if</span> ((cur.left != <span class="literal">null</span> &amp;&amp; cur.left.val == max) || (cur.right != <span class="literal">null</span> &amp;&amp; cur.right.val == max)) &#123;</span><br><span class="line">                cur.val = max;</span><br><span class="line">            &#125;</span><br><span class="line">            pre = cur;</span><br><span class="line">            cur = <span class="literal">null</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            st.push(cur);</span><br><span class="line">            cur = cur.right;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ol start="235">
<li>äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ<br><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/lowest-common-ancestor-of-a-binary-search-tree/">https://leetcode.cn/problems/lowest-common-ancestor-of-a-binary-search-tree/</a></li>
</ol>
<p> 450.åˆ é™¤äºŒå‰æœç´¢æ ‘ä¸­çš„èŠ‚ç‚¹<br><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/delete-node-in-a-bst/">https://leetcode.cn/problems/delete-node-in-a-bst/</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è§£æ³•1(æœ€å¥½ç†è§£çš„ç‰ˆæœ¬)</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> TreeNode <span class="title function_">deleteNode</span><span class="params">(TreeNode root, <span class="type">int</span> key)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) <span class="keyword">return</span> root;</span><br><span class="line">    <span class="keyword">if</span> (root.val == key) &#123;</span><br><span class="line">      <span class="keyword">if</span> (root.left == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> root.right;</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (root.right == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> root.left;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">cur</span> <span class="operator">=</span> root.right;</span><br><span class="line">        <span class="keyword">while</span> (cur.left != <span class="literal">null</span>) &#123;</span><br><span class="line">          cur = cur.left;</span><br><span class="line">        &#125;</span><br><span class="line">        cur.left = root.left;</span><br><span class="line">        root = root.right;</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (root.val &gt; key) root.left = deleteNode(root.left, key);</span><br><span class="line">    <span class="keyword">if</span> (root.val &lt; key) root.right = deleteNode(root.right, key);</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> ä¿®å‰ªäºŒå‰æœç´¢æ ‘<br><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/trim-a-binary-search-tree/">https://leetcode.cn/problems/trim-a-binary-search-tree/</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    TreeNode* trimBST(TreeNode* root, <span class="type">int</span> low, <span class="type">int</span> high) &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == nullptr) <span class="keyword">return</span> nullptr;</span><br><span class="line">        <span class="keyword">if</span> (root-&gt;val &lt; low) <span class="keyword">return</span> trimBST(root-&gt;right, low, high);</span><br><span class="line">        <span class="keyword">if</span> (root-&gt;val &gt; high) <span class="keyword">return</span> trimBST(root-&gt;left, low, high);</span><br><span class="line">        root-&gt;left = trimBST(root-&gt;left, low, high);</span><br><span class="line">        root-&gt;right = trimBST(root-&gt;right, low, high);</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h1 id="å›æº¯ç®—æ³•"><a href="#å›æº¯ç®—æ³•" class="headerlink" title="å›æº¯ç®—æ³•"></a>å›æº¯ç®—æ³•</h1><p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250624192141.png" alt="20250624192141"></p>
<h2 id="å›æº¯çš„ç†è®ºåŸºç¡€"><a href="#å›æº¯çš„ç†è®ºåŸºç¡€" class="headerlink" title="å›æº¯çš„ç†è®ºåŸºç¡€"></a>å›æº¯çš„ç†è®ºåŸºç¡€</h2><p><strong>ä»€ä¹ˆæ˜¯å›æº¯æ³•</strong><br>å›æº¯æ³•ä¹Ÿå¯ä»¥å«åšå›æº¯æœç´¢æ³•ï¼Œå®ƒæ˜¯ä¸€ç§æœç´¢çš„æ–¹å¼ã€‚<br><strong>å›æº¯æ˜¯é€’å½’çš„å‰¯äº§å“ï¼Œåªè¦æœ‰é€’å½’å°±ä¼šæœ‰å›æº¯</strong>ã€‚</p>
<p>å› ä¸º<strong>å›æº¯çš„æœ¬è´¨æ˜¯ç©·ä¸¾</strong>ï¼Œç©·ä¸¾æ‰€æœ‰å¯èƒ½ï¼Œç„¶åé€‰å‡ºæˆ‘ä»¬æƒ³è¦çš„ç­”æ¡ˆï¼Œå¦‚æœæƒ³è®©å›æº¯æ³•é«˜æ•ˆä¸€äº›ï¼Œå¯ä»¥åŠ ä¸€äº›å‰ªæçš„æ“ä½œï¼Œä½†ä¹Ÿæ”¹ä¸äº†å›æº¯æ³•å°±æ˜¯ç©·ä¸¾çš„æœ¬è´¨ã€‚</p>
<p><strong>å›æº¯æ³•è§£å†³çš„é—®é¢˜</strong></p>
<p>å›æº¯æ³•ï¼Œä¸€èˆ¬å¯ä»¥è§£å†³å¦‚ä¸‹å‡ ç§é—®é¢˜ï¼š</p>
<ul>
<li>ç»„åˆé—®é¢˜ï¼šNä¸ªæ•°é‡Œé¢æŒ‰ä¸€å®šè§„åˆ™æ‰¾å‡ºkä¸ªæ•°çš„é›†åˆ</li>
<li>åˆ‡å‰²é—®é¢˜ï¼šä¸€ä¸ªå­—ç¬¦ä¸²æŒ‰ä¸€å®šè§„åˆ™æœ‰å‡ ç§åˆ‡å‰²æ–¹å¼</li>
<li>å­é›†é—®é¢˜ï¼šä¸€ä¸ªNä¸ªæ•°çš„é›†åˆé‡Œæœ‰å¤šå°‘ç¬¦åˆæ¡ä»¶çš„å­é›†</li>
<li>æ’åˆ—é—®é¢˜ï¼šNä¸ªæ•°æŒ‰ä¸€å®šè§„åˆ™å…¨æ’åˆ—ï¼Œæœ‰å‡ ç§æ’åˆ—æ–¹å¼</li>
<li>æ£‹ç›˜é—®é¢˜ï¼šNçš‡åï¼Œè§£æ•°ç‹¬ç­‰ç­‰</li>
</ul>
<p><strong>ç»„åˆæ˜¯ä¸å¼ºè°ƒå…ƒç´ é¡ºåºçš„ï¼Œæ’åˆ—æ˜¯å¼ºè°ƒå…ƒç´ é¡ºåº</strong>ã€‚<br>è®°ä½ç»„åˆæ— åºï¼Œæ’åˆ—æœ‰åºï¼Œå°±å¯ä»¥äº†ã€‚</p>
<p><strong>å›æº¯æ³•æ¨¡æ¿</strong></p>
<ul>
<li>å›æº¯å‡½æ•°æ¨¡æ¿è¿”å›å€¼ä»¥åŠå‚æ•°</li>
</ul>
<p>åœ¨å›æº¯ç®—æ³•ä¸­ï¼Œæˆ‘çš„ä¹ æƒ¯æ˜¯å‡½æ•°èµ·åå­—ä¸º<code>backtracking</code>ï¼Œè¿™ä¸ªèµ·åå¤§å®¶éšæ„ã€‚</p>
<p>å›æº¯ç®—æ³•ä¸­å‡½æ•°è¿”å›å€¼ä¸€èˆ¬ä¸ºvoidã€‚<br>å†æ¥çœ‹ä¸€ä¸‹å‚æ•°ï¼Œå› ä¸ºå›æº¯ç®—æ³•éœ€è¦çš„å‚æ•°å¯ä¸åƒäºŒå‰æ ‘é€’å½’çš„æ—¶å€™é‚£ä¹ˆå®¹æ˜“ä¸€æ¬¡æ€§ç¡®å®šä¸‹æ¥ï¼Œæ‰€ä»¥<strong>ä¸€èˆ¬æ˜¯å…ˆå†™é€»è¾‘ï¼Œç„¶åéœ€è¦ä»€ä¹ˆå‚æ•°ï¼Œå°±å¡«ä»€ä¹ˆå‚æ•°</strong>ã€‚<br>å›æº¯å‡½æ•°ä¼ªä»£ç å¦‚ä¸‹ï¼š<br><code>void backtracking(å‚æ•°)</code></p>
<ul>
<li>å›æº¯å‡½æ•°ç»ˆæ­¢æ¡ä»¶</li>
</ul>
<p>æ—¢ç„¶æ˜¯æ ‘å½¢ç»“æ„ï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨è®²è§£äºŒå‰æ ‘çš„é€’å½’ (opens new window)çš„æ—¶å€™ï¼Œå°±çŸ¥é“éå†æ ‘å½¢ç»“æ„ä¸€å®šè¦æœ‰ç»ˆæ­¢æ¡ä»¶ã€‚<br>æ‰€ä»¥å›æº¯ä¹Ÿæœ‰è¦ç»ˆæ­¢æ¡ä»¶ã€‚<br>ä»€ä¹ˆæ—¶å€™è¾¾åˆ°äº†ç»ˆæ­¢æ¡ä»¶ï¼Œæ ‘ä¸­å°±å¯ä»¥çœ‹å‡ºï¼Œä¸€èˆ¬æ¥è¯´æœåˆ°å¶å­èŠ‚ç‚¹äº†ï¼Œä¹Ÿå°±æ‰¾åˆ°äº†æ»¡è¶³æ¡ä»¶çš„ä¸€æ¡ç­”æ¡ˆï¼ŒæŠŠè¿™ä¸ªç­”æ¡ˆå­˜æ”¾èµ·æ¥ï¼Œå¹¶ç»“æŸæœ¬å±‚é€’å½’ã€‚<br>æ‰€ä»¥å›æº¯å‡½æ•°ç»ˆæ­¢æ¡ä»¶ä¼ªä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">if (ç»ˆæ­¢æ¡ä»¶) &#123;</span><br><span class="line">    å­˜æ”¾ç»“æœ;</span><br><span class="line">    return;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>å›æº¯æœç´¢çš„éå†è¿‡ç¨‹</li>
</ul>
<p>åœ¨ä¸Šé¢æˆ‘ä»¬æåˆ°äº†ï¼Œå›æº¯æ³•ä¸€èˆ¬æ˜¯åœ¨é›†åˆä¸­é€’å½’æœç´¢ï¼Œé›†åˆçš„å¤§å°æ„æˆäº†æ ‘çš„å®½åº¦ï¼Œé€’å½’çš„æ·±åº¦æ„æˆçš„æ ‘çš„æ·±åº¦ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">void backtracking(å‚æ•°) &#123;</span><br><span class="line">    if (ç»ˆæ­¢æ¡ä»¶) &#123;</span><br><span class="line">        å­˜æ”¾ç»“æœ;</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    for (é€‰æ‹©ï¼šæœ¬å±‚é›†åˆä¸­å…ƒç´ ï¼ˆæ ‘ä¸­èŠ‚ç‚¹å­©å­çš„æ•°é‡å°±æ˜¯é›†åˆçš„å¤§å°ï¼‰) &#123;</span><br><span class="line">        å¤„ç†èŠ‚ç‚¹;</span><br><span class="line">        backtracking(è·¯å¾„ï¼Œé€‰æ‹©åˆ—è¡¨); // é€’å½’</span><br><span class="line">        å›æº¯ï¼Œæ’¤é”€å¤„ç†ç»“æœ</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å›æº¯é¢˜ç›®"><a href="#å›æº¯é¢˜ç›®" class="headerlink" title="å›æº¯é¢˜ç›®"></a>å›æº¯é¢˜ç›®</h2><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/combinations/">ç¬¬77é¢˜. ç»„åˆ</a></p>
<h1 id="è´ªå¿ƒç®—æ³•"><a href="#è´ªå¿ƒç®—æ³•" class="headerlink" title="è´ªå¿ƒç®—æ³•"></a>è´ªå¿ƒç®—æ³•</h1><p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250709191956.png" alt="20250709191956"></p>
<p>é€‰å–æ¯é˜¶æ®µçš„å±€éƒ¨æœ€ä¼˜,æœ€ç»ˆè¾¾åˆ°å…¨å±€æœ€ä¼˜.<br>æ€ä¹ˆåˆ¤æ–­æˆä¸æˆç«‹å‘¢?æœ€å¥½çš„åŠæ³•æ˜¯ä¸¾åä¾‹,å¦‚æœä¸¾ä¸å‡ºæ¥,é‚£å°±å¯ä»¥å°è¯•ä¸€ä¸‹è´ªå¿ƒç®—æ³•.</p>
<p><strong>è§£é¢˜æ­¥éª¤:</strong><br>è´ªå¿ƒç®—æ³•ä¸€èˆ¬åˆ†ä¸ºå¦‚ä¸‹å››æ­¥ï¼š</p>
<ol>
<li>å°†é—®é¢˜åˆ†è§£ä¸ºè‹¥å¹²ä¸ªå­é—®é¢˜</li>
<li>æ‰¾å‡ºé€‚åˆçš„è´ªå¿ƒç­–ç•¥</li>
<li>æ±‚è§£æ¯ä¸€ä¸ªå­é—®é¢˜çš„æœ€ä¼˜è§£</li>
<li>å°†å±€éƒ¨æœ€ä¼˜è§£å †å æˆå…¨å±€æœ€ä¼˜è§£</li>
</ol>
<h1 id="åŠ¨æ€è§„åˆ’"><a href="#åŠ¨æ€è§„åˆ’" class="headerlink" title="åŠ¨æ€è§„åˆ’"></a>åŠ¨æ€è§„åˆ’</h1><p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250709191701.png" alt="20250709191701"><br>å¦‚æœæŸä¸€é—®é¢˜æœ‰å¾ˆå¤šé‡å å­é—®é¢˜ï¼Œä½¿ç”¨åŠ¨æ€è§„åˆ’æ˜¯æœ€æœ‰æ•ˆçš„ã€‚<br>åŠ¨æ€è§„åˆ’ä¸­æ¯ä¸€ä¸ªçŠ¶æ€ä¸€å®šæ˜¯<strong>ç”±ä¸Šä¸€ä¸ªçŠ¶æ€æ¨å¯¼å‡ºæ¥çš„</strong>ï¼Œè¿™ä¸€ç‚¹å°±åŒºåˆ†äºè´ªå¿ƒï¼Œè´ªå¿ƒæ²¡æœ‰çŠ¶æ€æ¨å¯¼ï¼Œè€Œæ˜¯ä»å±€éƒ¨ç›´æ¥é€‰æœ€ä¼˜çš„.</p>
<p><strong>è§£é¢˜æ­¥éª¤:</strong><br>å¯¹äºåŠ¨æ€è§„åˆ’é—®é¢˜ï¼Œæ‹†è§£ä¸ºå¦‚ä¸‹äº”æ­¥æ›²:</p>
<ol>
<li>ç¡®å®šdpæ•°ç»„ï¼ˆdp tableï¼‰ä»¥åŠä¸‹æ ‡çš„å«ä¹‰</li>
<li>ç¡®å®šé€’æ¨å…¬å¼</li>
<li>dpæ•°ç»„å¦‚ä½•åˆå§‹åŒ–</li>
<li>ç¡®å®šéå†é¡ºåº</li>
<li>ä¸¾ä¾‹æ¨å¯¼dpæ•°ç»„</li>
</ol>
<h2 id="èƒŒåŒ…é—®é¢˜"><a href="#èƒŒåŒ…é—®é¢˜" class="headerlink" title="èƒŒåŒ…é—®é¢˜"></a>èƒŒåŒ…é—®é¢˜</h2><p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250710201132.png" alt="20250710201132"><br><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250723200543.png" alt="20250723200543"></p>
<h3 id="0-1-èƒŒåŒ…"><a href="#0-1-èƒŒåŒ…" class="headerlink" title="0-1 èƒŒåŒ…"></a>0-1 èƒŒåŒ…</h3><p>ç”±äºæ¯ä¸ªç‰©å“åªèƒ½é€‰ä¸€æ¬¡,æ‰€ä»¥éå†èƒŒåŒ…å®¹é‡æ—¶é˜²æ­¢é‡å¤é€‰æ‹©,åªèƒ½å€’åºèƒŒåŒ…å®¹é‡è¿›è¡Œé€‰æ‹©.</p>
<h3 id="å®Œå…¨èƒŒåŒ…"><a href="#å®Œå…¨èƒŒåŒ…" class="headerlink" title="å®Œå…¨èƒŒåŒ…"></a>å®Œå…¨èƒŒåŒ…</h3><p>ç”±äºæ¯ä¸ªç‰©å“æ²¡æœ‰æ•°é‡é™åˆ¶,æ‰€ä»¥å¯ä»¥æ­£åºéå†èƒŒåŒ…å®¹é‡.</p>
<p><strong>åŠ¨æ€è§„åˆ’ä¸­æ’åˆ—å’Œç»„åˆçš„åŒºåˆ«:</strong></p>
<ul>
<li>é¦–å…ˆä»æ–¹æ³•è®ºçš„è§’åº¦ç†è§£:</li>
</ul>
<p><strong>â€‹æ’åˆ—é—®é¢˜</strong>(èƒŒåŒ…åœ¨å¤–å±‚å¾ªç¯)</p>
<p>å½“å¤–å±‚å¾ªç¯æ˜¯èƒŒåŒ…å®¹é‡ï¼Œå†…å±‚å¾ªç¯æ˜¯ç‰©å“æ—¶ï¼Œç›¸å½“äºå¯¹äºæ¯ä¸ªå®¹é‡ï¼Œæˆ‘ä»¬å°è¯•æ‰€æœ‰å¯èƒ½çš„ç‰©å“ã€‚<br>è¿™æ„å‘³ç€åŒä¸€ä¸ªç‰©å“å¯ä»¥åœ¨ä¸åŒçš„ä½ç½®è¢«å¤šæ¬¡ä½¿ç”¨ï¼Œé¡ºåºä¸åŒè¢«è§†ä¸ºä¸åŒçš„æ’åˆ—ã€‚<br>ä¾‹å¦‚ï¼šnums &#x3D; [1,2], target &#x3D; 3<br>æ’åˆ—æœ‰ï¼š(1,1,1), (1,2), (2,1)<br>é¡ºåºä¸åŒè¢«è§†ä¸ºä¸åŒè§£.</p>
<p><strong>â€‹â€‹ç»„åˆé—®é¢˜</strong>(ç‰©å“åœ¨å¤–å±‚å¾ªç¯)â€‹â€‹:<br>å½“å¤–å±‚å¾ªç¯æ˜¯ç‰©å“ï¼Œå†…å±‚å¾ªç¯æ˜¯èƒŒåŒ…å®¹é‡æ—¶ï¼Œæˆ‘ä»¬å›ºå®šäº†ç‰©å“çš„é€‰æ‹©é¡ºåºã€‚<br>è¿™æ„å‘³ç€æˆ‘ä»¬<strong>åªè€ƒè™‘ç‰©å“çš„æŸç§ç‰¹å®šé¡ºåºçš„ç»„åˆ</strong>ï¼Œä¸è€ƒè™‘é¡ºåºå˜åŒ–ã€‚<br>ä¾‹å¦‚ï¼šnums &#x3D; [1,2], target &#x3D; 3<br>ç»„åˆæœ‰ï¼š(1,1,1), (1,2)<br>(2,1)ä¸ä¼šè¢«è®¡å…¥ï¼Œå› ä¸º2å·²ç»åœ¨1ä¹‹åè€ƒè™‘äº†</p>
<ul>
<li>ç„¶åä»ä»£ç æ¥ç†è§£ä¸€ä¸‹:<br><strong>æ’åˆ—é—®é¢˜</strong><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">combinationSum4</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">    <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[target + <span class="number">1</span>];</span><br><span class="line">    dp[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt;= target; i++) &#123;      <span class="comment">// å¤–å±‚å¾ªç¯æ˜¯èƒŒåŒ…å®¹é‡</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; nums.length; j++) &#123;  <span class="comment">// å†…å±‚å¾ªç¯æ˜¯ç‰©å“</span></span><br><span class="line">            <span class="keyword">if</span> (i &gt;= nums[j]) &#123;</span><br><span class="line">                dp[i] += dp[i - nums[j]];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[target];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>ç»„åˆé—®é¢˜</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">combinationSum</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">    <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[target + <span class="number">1</span>];</span><br><span class="line">    dp[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; nums.length; j++) &#123;      <span class="comment">// å¤–å±‚å¾ªç¯æ˜¯ç‰©å“</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> nums[j]; i &lt;= target; i++) &#123;  <span class="comment">// å†…å±‚å¾ªç¯æ˜¯èƒŒåŒ…å®¹é‡</span></span><br><span class="line">            dp[i] += dp[i - nums[j]];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[target];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å¤šé‡èƒŒåŒ…"><a href="#å¤šé‡èƒŒåŒ…" class="headerlink" title="å¤šé‡èƒŒåŒ…"></a>å¤šé‡èƒŒåŒ…</h3><p>æœ‰<code>N</code>ç§ç‰©å“å’Œä¸€ä¸ªå®¹é‡ä¸º<code>V</code> çš„èƒŒåŒ…ã€‚ç¬¬<code>i</code>ç§ç‰©å“æœ€å¤šæœ‰<code>Mi</code>ä»¶å¯ç”¨ï¼Œæ¯ä»¶è€—è´¹çš„ç©ºé—´æ˜¯<code>Ci</code> ï¼Œä»·å€¼æ˜¯<code>Wi</code> ã€‚æ±‚è§£å°†å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…å¯ä½¿è¿™äº›ç‰©å“çš„è€—è´¹çš„ç©ºé—´ æ€»å’Œä¸è¶…è¿‡èƒŒåŒ…å®¹é‡ï¼Œä¸”ä»·å€¼æ€»å’Œæœ€å¤§ã€‚<br>ç›´æ¥ä¸Šå›¾:<br><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250723192116.png" alt="20250723192116"><br>æŠŠä¸Šé¢çš„æ•°é‡ç›´æ¥å±•å¼€æˆä¸€ä¸ª0-1èƒŒåŒ…å°±å¯ä»¥äº†å…¶å®.<br><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250723192128.png" alt="20250723192128"></p>
<h2 id="æ•°ä½DP"><a href="#æ•°ä½DP" class="headerlink" title="æ•°ä½DP"></a>æ•°ä½DP</h2><h1 id="å•è°ƒæ ˆ"><a href="#å•è°ƒæ ˆ" class="headerlink" title="å•è°ƒæ ˆ"></a>å•è°ƒæ ˆ</h1><h1 id="å›¾è®º"><a href="#å›¾è®º" class="headerlink" title="å›¾è®º"></a>å›¾è®º</h1><h2 id="å›¾è®ºåŸºç¡€"><a href="#å›¾è®ºåŸºç¡€" class="headerlink" title="å›¾è®ºåŸºç¡€"></a>å›¾è®ºåŸºç¡€</h2><p><strong>å›¾çš„ç§ç±»</strong><br>æ•´ä½“ä¸Šä¸€èˆ¬åˆ†ä¸º æœ‰å‘å›¾ å’Œ æ— å‘å›¾ã€‚åŠ æƒæœ‰å‘å›¾ï¼Œå°±æ˜¯å›¾ä¸­è¾¹æ˜¯æœ‰æƒå€¼çš„</p>
<p><strong>åº¦</strong><br>æ— å‘å›¾ä¸­æœ‰å‡ æ¡è¾¹è¿æ¥è¯¥èŠ‚ç‚¹ï¼Œè¯¥èŠ‚ç‚¹å°±æœ‰å‡ åº¦ã€‚</p>
<p>åœ¨æœ‰å‘å›¾ä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹æœ‰å‡ºåº¦å’Œå…¥åº¦ã€‚</p>
<ul>
<li>å‡ºåº¦ï¼šä»è¯¥èŠ‚ç‚¹å‡ºå‘çš„è¾¹çš„ä¸ªæ•°ã€‚</li>
<li>å…¥åº¦ï¼šæŒ‡å‘è¯¥èŠ‚ç‚¹è¾¹çš„ä¸ªæ•°ã€‚</li>
</ul>
<p><strong>è¿é€šå›¾</strong><br>åœ¨æ— å‘å›¾ä¸­ï¼Œä»»ä½•ä¸¤ä¸ªèŠ‚ç‚¹éƒ½æ˜¯å¯ä»¥åˆ°è¾¾çš„ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºè¿é€šå›¾</p>
<p><strong>å¼ºè¿é€šå›¾</strong><br>åœ¨æœ‰å‘å›¾ä¸­ï¼Œä»»ä½•ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯å¯ä»¥ç›¸äº’åˆ°è¾¾çš„</p>
<p><strong>è¿é€šåˆ†é‡</strong><br>åœ¨æ— å‘å›¾ä¸­çš„æå¤§è¿é€šå­å›¾ç§°ä¹‹ä¸ºè¯¥å›¾çš„ä¸€ä¸ªè¿é€šåˆ†é‡ã€‚</p>
<p><strong>å¼ºè¿é€šåˆ†é‡</strong><br>åœ¨æœ‰å‘å›¾ä¸­æå¤§å¼ºè¿é€šå­å›¾ç§°ä¹‹ä¸ºè¯¥å›¾çš„å¼ºè¿é€šåˆ†é‡ã€‚</p>
<p><strong>å›¾çš„æ„é€ </strong><br>ä¸€èˆ¬ä½¿ç”¨<code>é‚»æ¥è¡¨</code>ã€<code>é‚»æ¥çŸ©é˜µ</code> æˆ–è€…ç”¨<code>ç±»</code>æ¥è¡¨ç¤ºã€‚</p>
<h2 id="DFS"><a href="#DFS" class="headerlink" title="DFS"></a>DFS</h2><h2 id="ä¸‰è‰²æ ‡è®°æ³•"><a href="#ä¸‰è‰²æ ‡è®°æ³•" class="headerlink" title="ä¸‰è‰²æ ‡è®°æ³•"></a>ä¸‰è‰²æ ‡è®°æ³•</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">canFinish</span><span class="params">(<span class="type">int</span> numCourses, <span class="type">int</span>[][] prerequisites)</span> &#123;</span><br><span class="line">        List&lt;Integer&gt;[] g = <span class="keyword">new</span> <span class="title class_">ArrayList</span>[numCourses];</span><br><span class="line">        <span class="comment">//ä¸‰è‰²æ ‡è®°æ³• 0 æ²¡å­¦è¿‡ 1 æ­£åœ¨å­¦ 2 å·²å­¦è¿‡</span></span><br><span class="line">        <span class="type">int</span>[] learned = <span class="keyword">new</span> <span class="title class_">int</span>[numCourses];</span><br><span class="line">        Arrays.setAll(g , i -&gt; <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;());</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span>[] p : prerequisites)&#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">stu</span> <span class="operator">=</span> p[<span class="number">0</span>];</span><br><span class="line">            <span class="type">int</span> <span class="variable">dep</span> <span class="operator">=</span> p[<span class="number">1</span>];</span><br><span class="line">            g[stu].add(dep);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span> ; i &lt; numCourses ; ++i)&#123;</span><br><span class="line">            <span class="keyword">if</span>(learned[i] == <span class="number">0</span> &amp;&amp; dfs(g,learned,i))&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//åˆ¤æ–­æ˜¯å¦æœ‰ç¯ æœ‰çš„è¯ç›´æ¥è¿”å›true</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">dfs</span><span class="params">(List&lt;Integer&gt;[] g , <span class="type">int</span>[] learned , <span class="type">int</span> i )</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(learned[i] == <span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        learned[i] = <span class="number">1</span>;</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">flag</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">for</span>(Integer num : g[i])&#123;</span><br><span class="line">            <span class="keyword">if</span>(learned[num] == <span class="number">1</span> || learned[num] == <span class="number">0</span> &amp;&amp; dfs(g,learned,num))&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        learned[i] = <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å­—å…¸æ ‘-å‰ç¼€æ ‘"><a href="#å­—å…¸æ ‘-å‰ç¼€æ ‘" class="headerlink" title="å­—å…¸æ ‘ å‰ç¼€æ ‘"></a>å­—å…¸æ ‘ å‰ç¼€æ ‘</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Trie</span> &#123;</span><br><span class="line">    <span class="comment">//èŠ‚ç‚¹ç±»</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Node</span>&#123;</span><br><span class="line">        Node[] son = <span class="keyword">new</span> <span class="title class_">Node</span>[<span class="number">26</span>];</span><br><span class="line">        <span class="type">boolean</span> isEnd;    </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> Node root;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Trie</span><span class="params">()</span> &#123;</span><br><span class="line">        root = <span class="keyword">new</span> <span class="title class_">Node</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">insert</span><span class="params">(String word)</span> &#123;</span><br><span class="line">        <span class="type">Node</span> <span class="variable">temp</span> <span class="operator">=</span> root;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">char</span> c : word.toCharArray())&#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">pos</span> <span class="operator">=</span> c - <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">            <span class="keyword">if</span>(temp.son[pos] == <span class="literal">null</span>)&#123;</span><br><span class="line">                temp.son[pos] = <span class="keyword">new</span> <span class="title class_">Node</span>();</span><br><span class="line">            &#125;</span><br><span class="line">            temp = temp.son[pos];</span><br><span class="line">        &#125;</span><br><span class="line">        temp.isEnd = <span class="literal">true</span>;<span class="comment">//ä»£è¡¨ç¡®å®æœ‰ä¸€ä¸ªè¯åœ¨è¿™é‡Œ</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">search</span><span class="params">(String word)</span> &#123;</span><br><span class="line">        <span class="type">Node</span> <span class="variable">temp</span> <span class="operator">=</span> root;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">char</span> c : word.toCharArray())&#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">pos</span> <span class="operator">=</span> c-<span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">            <span class="keyword">if</span>(temp.son[pos] == <span class="literal">null</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            temp = temp.son[pos];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> temp.isEnd;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">startsWith</span><span class="params">(String prefix)</span> &#123;</span><br><span class="line">        <span class="type">Node</span> <span class="variable">temp</span> <span class="operator">=</span> root;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">char</span> c : prefix.toCharArray())&#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">pos</span> <span class="operator">=</span> c-<span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">            <span class="keyword">if</span>(temp.son[pos] == <span class="literal">null</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            temp = temp.son[pos];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Your Trie object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"> * Trie obj = new Trie();</span></span><br><span class="line"><span class="comment"> * obj.insert(word);</span></span><br><span class="line"><span class="comment"> * boolean param_2 = obj.search(word);</span></span><br><span class="line"><span class="comment"> * boolean param_3 = obj.startsWith(prefix);</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>


<h1 id="å­—å…¸åº"><a href="#å­—å…¸åº" class="headerlink" title="å­—å…¸åº"></a>å­—å…¸åº</h1><h2 id="å­—å…¸åº-1"><a href="#å­—å…¸åº-1" class="headerlink" title="å­—å…¸åº"></a>å­—å…¸åº</h2><p>å­—å…¸æ ‘:<br>æˆ‘è§‰å¾—æ¯”è¾ƒå…³é”®çš„ç‚¹æ˜¯:</p>
<ol>
<li>å­—å…¸æ ‘å·¦å­æ ‘å­—å…¸åºä¸€å®šæ¯”å³å­æ ‘å°.</li>
<li>å­—å…¸æ ‘æƒ³è¦åˆ°å³ä¾§å…„å¼ŸèŠ‚ç‚¹,ç›´æ¥num++å°±å¯ä»¥.</li>
<li>å…³é”®å°±æ˜¯è¦æ‰¾åˆ°ä»¥å½“å‰æ•°å­—ä¸ºæ ¹çš„åå‰æ ‘çš„å…ƒç´ æ€»ä¸ªæ•°.<br>çœ‹ç€è¿™ä¸ªå›¾å°±æ¯”è¾ƒå¥½ç†è§£äº†:<br><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250609104923.png" alt="20250609104923"></li>
</ol>
<p>è¿™å¼ å›¾ä¹Ÿå¾ˆå¥½:<br><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20250609112906.png" alt="20250609112906"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ä»¥å½“å‰æ•°å­—ä¸ºæ ¹çš„åå‰æ ‘çš„å…ƒç´ æ€»ä¸ªæ•° (åŒ…æ‹¬å½“å‰æ•°å­—)</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> num å½“å‰æ•°å­— (éœ€è¦å…ˆ cast æˆ long, å› ä¸º num*10 å¯èƒ½å¯¼è‡´ int æº¢å‡º)</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> n   æ•°å­—çš„æœ€å¤§å€¼</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">count</span><span class="params">(<span class="type">long</span> num, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">cnt</span> <span class="operator">=</span> <span class="number">0</span>;     <span class="comment">// å…ƒç´ æ€»ä¸ªæ•°</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">width</span> <span class="operator">=</span> <span class="number">1</span>;   <span class="comment">// å½“å‰å±‚æ•°çš„å®½åº¦, ç¬¬ä¸€å±‚åªæœ‰ num ä¸€ä¸ªå…ƒç´ , æ‰€ä»¥ç¬¬ä¸€å±‚å®½åº¦ä¸º 1</span></span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (num + width - <span class="number">1</span> &lt;= n) &#123;   <span class="comment">// n çš„å€¼å¤§äºç­‰äºå½“å‰å±‚çš„æœ€å¤§å€¼, è¯´æ˜å½“å‰å±‚æ•°çš„ä¸ªæ•°å¯ä»¥å…¨éƒ¨æ·»åŠ </span></span><br><span class="line">                cnt += width;</span><br><span class="line">                num *= <span class="number">10</span>;</span><br><span class="line">                width *= <span class="number">10</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;                      <span class="comment">// n çš„å€¼å°äºå½“å‰å±‚çš„æœ€å¤§å€¼åˆ™åªèƒ½æ·»åŠ éƒ¨åˆ†ä¸ªæ•°æˆ–è€…ä¸æ·»åŠ , å¹¶è·³å‡ºå¾ªç¯</span></span><br><span class="line">                <span class="keyword">if</span> (n - num &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                    cnt += n - num + <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> cnt;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">findKthNumber</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">cnt</span> <span class="operator">=</span> <span class="number">0</span>;   <span class="comment">// å·²ç»ç»è¿‡çš„å…ƒç´ ä¸ªæ•°, å¼€å§‹ä¸€ä¸ªå…ƒç´ éƒ½æ²¡æœ‰ç»è¿‡, æ‰€ä»¥ä¸ªæ•°ä¸º 0</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">1</span>;   <span class="comment">// ç¬¬ä¸€ä¸ªå…ƒç´  (ç»è¿‡ i ä¸ªå…ƒç´ , å½“å‰ num æ˜¯ç¬¬ i + 1 å…ƒç´ )</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// è¦æ‰¾åˆ°ç¬¬ k ä¸ªå…ƒç´ , éœ€è¦ç»è¿‡ k - 1 ä¸ªå…ƒç´ </span></span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (cnt == k - <span class="number">1</span>) &#123;          <span class="comment">// ç»è¿‡äº† k - 1 ä¸ªå…ƒç´ æ‰¾åˆ°äº†ç¬¬ k ä¸ªå…ƒç´ </span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> count((<span class="type">long</span>) num, n);    <span class="comment">// ä»¥ num ä¸ºæ ¹, ä»¥ n ä¸ºæœ€å¤§å€¼çš„åå‰æ ‘çš„å…ƒç´ æ€»ä¸ªæ•°</span></span><br><span class="line">            <span class="keyword">if</span> (cnt + temp &gt;= k) &#123;       <span class="comment">// ä»¥ num ä¸ºæ ¹çš„åå‰æ ‘å†…æœ‰ç¬¬ k ä¸ªå…ƒç´ </span></span><br><span class="line">                num *= <span class="number">10</span>;</span><br><span class="line">                cnt++;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (cnt + temp &lt; k) &#123; <span class="comment">// ä»¥ num ä¸ºæ ¹çš„åå‰æ ‘å†…æ²¡æœ‰ç¬¬ k ä¸ªå…ƒç´ </span></span><br><span class="line">                num++;</span><br><span class="line">                cnt += temp;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> num;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="LRUç¼“å­˜"><a href="#LRUç¼“å­˜" class="headerlink" title="LRUç¼“å­˜"></a>LRUç¼“å­˜</h1><p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cdn.jsdelivr.net/gh/JakicDong/blog-assets@main/images/20251013194516.png" alt="20251013194516"><br>è´´ä¸€ä¸ªå®ç°ä»£ç :</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LRUCache</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Node</span> &#123;</span><br><span class="line">        <span class="type">int</span> key, value;</span><br><span class="line">        Node prev, next;</span><br><span class="line"></span><br><span class="line">        Node(<span class="type">int</span> k, <span class="type">int</span> v) &#123;</span><br><span class="line">            key = k;</span><br><span class="line">            value = v;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span> capacity;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">Node</span> <span class="variable">dummy</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Node</span>(<span class="number">0</span>, <span class="number">0</span>); <span class="comment">// å“¨å…µèŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Map&lt;Integer, Node&gt; keyToNode = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">LRUCache</span><span class="params">(<span class="type">int</span> capacity)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.capacity = capacity;</span><br><span class="line">        dummy.prev = dummy;</span><br><span class="line">        dummy.next = dummy;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">get</span><span class="params">(<span class="type">int</span> key)</span> &#123;</span><br><span class="line">        <span class="type">Node</span> <span class="variable">node</span> <span class="operator">=</span> getNode(key);</span><br><span class="line">        <span class="keyword">return</span> node != <span class="literal">null</span> ? node.value : -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">put</span><span class="params">(<span class="type">int</span> key, <span class="type">int</span> value)</span> &#123;</span><br><span class="line">        <span class="type">Node</span> <span class="variable">node</span> <span class="operator">=</span> getNode(key);</span><br><span class="line">        <span class="keyword">if</span> (node != <span class="literal">null</span>) &#123; <span class="comment">// æœ‰è¿™æœ¬ä¹¦</span></span><br><span class="line">            node.value = value; <span class="comment">// æ›´æ–° value</span></span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        node = <span class="keyword">new</span> <span class="title class_">Node</span>(key, value); <span class="comment">// æ–°ä¹¦</span></span><br><span class="line">        keyToNode.put(key, node);</span><br><span class="line">        pushFront(node); <span class="comment">// æ”¾åœ¨æœ€ä¸Šé¢</span></span><br><span class="line">        <span class="keyword">if</span> (keyToNode.size() &gt; capacity) &#123; <span class="comment">// ä¹¦å¤ªå¤šäº†</span></span><br><span class="line">            <span class="type">Node</span> <span class="variable">backNode</span> <span class="operator">=</span> dummy.prev;</span><br><span class="line">            keyToNode.remove(backNode.key);</span><br><span class="line">            remove(backNode); <span class="comment">// å»æ‰æœ€åä¸€æœ¬ä¹¦</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Node <span class="title function_">getNode</span><span class="params">(<span class="type">int</span> key)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (!keyToNode.containsKey(key)) &#123; <span class="comment">// æ²¡æœ‰è¿™æœ¬ä¹¦</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">Node</span> <span class="variable">node</span> <span class="operator">=</span> keyToNode.get(key); <span class="comment">// æœ‰è¿™æœ¬ä¹¦</span></span><br><span class="line">        remove(node); <span class="comment">// æŠŠè¿™æœ¬ä¹¦æŠ½å‡ºæ¥</span></span><br><span class="line">        pushFront(node); <span class="comment">// æ”¾åœ¨æœ€ä¸Šé¢</span></span><br><span class="line">        <span class="keyword">return</span> node;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ é™¤ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆæŠ½å‡ºä¸€æœ¬ä¹¦ï¼‰</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">remove</span><span class="params">(Node x)</span> &#123;</span><br><span class="line">        x.prev.next = x.next;</span><br><span class="line">        x.next.prev = x.prev;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åœ¨é“¾è¡¨å¤´æ·»åŠ ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆæŠŠä¸€æœ¬ä¹¦æ”¾åœ¨æœ€ä¸Šé¢ï¼‰</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">pushFront</span><span class="params">(Node x)</span> &#123;</span><br><span class="line">        x.prev = dummy;</span><br><span class="line">        x.next = dummy.next;</span><br><span class="line">        x.prev.next = x;</span><br><span class="line">        x.next.prev = x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>













<div class="article-footer slide-up fs14">
    <section id="license">
      <div class="header"><span>è®¸å¯åè®®</span></div>
      <div class="body"><p>æœ¬æ–‡é‡‡ç”¨ <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™…</a> è®¸å¯åè®®ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p>
</div>
    </section>
    </div>
</article>
<div class="related-wrap slide-up" id="read-next"><section class="body"><div class="item" id="prev"><div class="note">è¾ƒæ–°æ–‡ç« </div><a href="/2025/06/01/contact_author/">contact_author</a></div><div class="item" id="next"><div class="note">è¾ƒæ—©æ–‡ç« </div><a href="/2025/06/01/%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/RabbitMQ%E9%A1%B9%E7%9B%AE%E4%BD%BF%E7%94%A8/">RabbitMQé¡¹ç›®ä½¿ç”¨</a></div></section></div>







<footer class="page-footer slide-up footnote"><hr><div class="text"><p>æœ¬ç«™ç”± <a href="/">JakicDong</a> ä½¿ç”¨ <a target="_blank" rel="noopener" href="https://github.com/xaoxuu/hexo-theme-stellar/tree/1.30.0">Stellar 1.30.0</a> ä¸»é¢˜åˆ›å»ºã€‚<br>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p>
</div></footer>
<div class="main-mask" onclick="sidebar.dismiss()"></div></div><aside class="l_right">
<div class="widgets">



<widget class="widget-wrapper slide-up toc" id="data-toc" collapse="false"><div class="widget-header dis-select"><span class="name">æœ¬æ–‡ç›®å½•</span><a class="cap-action" onclick="sidebar.toggleTOC()" ><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6h11m-11 6h11m-11 6h11M4 6h1v4m-1 0h2m0 8H4c0-1 2-2 2-3s-1-1.5-2-1"/></svg></a></div><div class="widget-body"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0"><span class="toc-text">ç®—æ³•ç¬”è®°</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E4%BA%9B%E5%A5%BD%E7%9A%84%E9%80%BB%E8%BE%91%E6%80%9D%E8%B7%AF"><span class="toc-text">ä¸€äº›å¥½çš„é€»è¾‘æ€è·¯</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%8D%E9%97%AE%E9%A2%98"><span class="toc-text">åé—®é¢˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%90%E9%97%AE%E9%A2%98"><span class="toc-text">å­é—®é¢˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%82%BB%E5%9F%9F%E6%B6%88%E9%99%A4%E9%97%AE%E9%A2%98"><span class="toc-text">é‚»åŸŸæ¶ˆé™¤é—®é¢˜</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ACM-%E6%A0%BC%E5%BC%8F"><span class="toc-text">ACM æ ¼å¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E6%A0%BC%E5%BC%8F"><span class="toc-text">è¾“å…¥æ ¼å¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9D%82%E9%A1%B9%E6%93%8D%E4%BD%9C"><span class="toc-text">æ‚é¡¹æ“ä½œ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Array-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C"><span class="toc-text">Array å¸¸ç”¨æ“ä½œ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#List-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C"><span class="toc-text">List å¸¸ç”¨æ“ä½œ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HashSet-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C"><span class="toc-text">HashSet å¸¸ç”¨æ“ä½œ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HashMap-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C"><span class="toc-text">HashMap å¸¸ç”¨æ“ä½œ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#String%E7%9A%84%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C"><span class="toc-text">Stringçš„å¸¸ç”¨æ“ä½œ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#StringBuffer-%E5%92%8C-StringBuilder"><span class="toc-text">StringBuffer å’Œ StringBuilder</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PriorityQueue%E7%9A%84%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C"><span class="toc-text">PriorityQueueçš„å¸¸ç”¨æ“ä½œ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#record%E7%9A%84%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C"><span class="toc-text">recordçš„å¸¸ç”¨æ“ä½œ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Deque-%E7%9A%84%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C"><span class="toc-text">Deque çš„å¸¸ç”¨æ“ä½œ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TreeMap-%E7%9A%84%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C"><span class="toc-text">TreeMap çš„å¸¸ç”¨æ“ä½œ</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B"><span class="toc-text">å¹¶å‘ç¼–ç¨‹</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%A7%E6%89%BFThread%E7%B1%BB"><span class="toc-text">ç»§æ‰¿Threadç±»</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Runnable%E6%8E%A5%E5%8F%A3"><span class="toc-text">Runnableæ¥å£</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8A%E9%94%81"><span class="toc-text">ä¸Šé”</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#synchronized"><span class="toc-text">synchronized</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Lock"><span class="toc-text">Lock</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE"><span class="toc-text">é¢˜ç›®</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E6%B1%A0"><span class="toc-text">çº¿ç¨‹æ± </span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%A8%A1%E8%BF%90%E7%AE%97%E6%81%92%E7%AD%89%E5%BC%8F-%E8%B4%B9%E9%A9%AC%E5%B0%8F%E5%AE%9A%E7%90%86-%E7%BB%84%E5%90%88%E6%95%B0"><span class="toc-text">æ¨¡è¿ç®—æ’ç­‰å¼&#x2F;è´¹é©¬å°å®šç†&#x2F;ç»„åˆæ•°</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BF%AB%E9%80%9F%E5%B9%82"><span class="toc-text">å¿«é€Ÿå¹‚</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8C%E8%BF%9B%E5%88%B6"><span class="toc-text">äºŒè¿›åˆ¶</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E7%BB%84"><span class="toc-text">æ•°ç»„</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F"><span class="toc-text">å¿«é€Ÿæ’åº</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE"><span class="toc-text">äºŒåˆ†æŸ¥æ‰¾</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%8C%E6%8C%87%E9%92%88"><span class="toc-text">åŒæŒ‡é’ˆ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3"><span class="toc-text">æ»‘åŠ¨çª—å£</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E6%8B%9F%E8%A1%8C%E4%B8%BA"><span class="toc-text">æ¨¡æ‹Ÿè¡Œä¸º</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E7%BC%80%E5%92%8C"><span class="toc-text">å‰ç¼€å’Œ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F-1"><span class="toc-text">å¿«é€Ÿæ’åº</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B7%AE%E5%88%86%E6%95%B0%E7%BB%84"><span class="toc-text">å·®åˆ†æ•°ç»„</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%93%BE%E8%A1%A8"><span class="toc-text">é“¾è¡¨</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%B8%E4%BA%A4%E9%93%BE%E8%A1%A8"><span class="toc-text">ç›¸äº¤é“¾è¡¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%8D%E8%BD%AC%E9%93%BE%E8%A1%A8"><span class="toc-text">åè½¬é“¾è¡¨</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%93%88%E5%B8%8C%E8%A1%A8"><span class="toc-text">å“ˆå¸Œè¡¨</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE-1"><span class="toc-text">é¢˜ç›®</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-text">å­—ç¬¦ä¸²</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#KMP%E7%AE%97%E6%B3%95"><span class="toc-text">KMPç®—æ³•</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE-2"><span class="toc-text">é¢˜ç›®</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8C%E5%8F%89%E6%A0%91"><span class="toc-text">äºŒå‰æ ‘</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E5%8F%89%E6%A0%91%E5%9F%BA%E7%A1%80"><span class="toc-text">äºŒå‰æ ‘åŸºç¡€</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E5%8F%89%E6%A0%91%E9%80%92%E5%BD%92%E9%81%8D%E5%8E%86"><span class="toc-text">äºŒå‰æ ‘é€’å½’éå†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E5%8F%89%E6%A0%91%E8%BF%AD%E4%BB%A3%E9%81%8D%E5%8E%86"><span class="toc-text">äºŒå‰æ ‘è¿­ä»£éå†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E5%B1%82%E5%BA%8F%E9%81%8D%E5%8E%86-BFS"><span class="toc-text">äºŒå‰æ ‘çš„å±‚åºéå†(BFS)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Morris%E9%81%8D%E5%8E%86"><span class="toc-text">Morriséå†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E5%8F%89%E6%A0%91%E9%A2%98%E7%9B%AE"><span class="toc-text">äºŒå‰æ ‘é¢˜ç›®</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9B%9E%E6%BA%AF%E7%AE%97%E6%B3%95"><span class="toc-text">å›æº¯ç®—æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9E%E6%BA%AF%E7%9A%84%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80"><span class="toc-text">å›æº¯çš„ç†è®ºåŸºç¡€</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9E%E6%BA%AF%E9%A2%98%E7%9B%AE"><span class="toc-text">å›æº¯é¢˜ç›®</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95"><span class="toc-text">è´ªå¿ƒç®—æ³•</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92"><span class="toc-text">åŠ¨æ€è§„åˆ’</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98"><span class="toc-text">èƒŒåŒ…é—®é¢˜</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#0-1-%E8%83%8C%E5%8C%85"><span class="toc-text">0-1 èƒŒåŒ…</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%8C%E5%85%A8%E8%83%8C%E5%8C%85"><span class="toc-text">å®Œå…¨èƒŒåŒ…</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E9%87%8D%E8%83%8C%E5%8C%85"><span class="toc-text">å¤šé‡èƒŒåŒ…</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E4%BD%8DDP"><span class="toc-text">æ•°ä½DP</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8D%95%E8%B0%83%E6%A0%88"><span class="toc-text">å•è°ƒæ ˆ</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9B%BE%E8%AE%BA"><span class="toc-text">å›¾è®º</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%BE%E8%AE%BA%E5%9F%BA%E7%A1%80"><span class="toc-text">å›¾è®ºåŸºç¡€</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DFS"><span class="toc-text">DFS</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E8%89%B2%E6%A0%87%E8%AE%B0%E6%B3%95"><span class="toc-text">ä¸‰è‰²æ ‡è®°æ³•</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E5%85%B8%E6%A0%91-%E5%89%8D%E7%BC%80%E6%A0%91"><span class="toc-text">å­—å…¸æ ‘ å‰ç¼€æ ‘</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AD%97%E5%85%B8%E5%BA%8F"><span class="toc-text">å­—å…¸åº</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E5%85%B8%E5%BA%8F-1"><span class="toc-text">å­—å…¸åº</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#LRU%E7%BC%93%E5%AD%98"><span class="toc-text">LRUç¼“å­˜</span></a></li></ol></div><div class="widget-footer">

<a class="top" onclick="util.scrollTop()"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="1.5"><path d="M2 12c0-4.714 0-7.071 1.464-8.536C4.93 2 7.286 2 12 2c4.714 0 7.071 0 8.535 1.464C22 4.93 22 7.286 22 12c0 4.714 0 7.071-1.465 8.535C19.072 22 16.714 22 12 22s-7.071 0-8.536-1.465C2 19.072 2 16.714 2 12Z"/><path stroke-linecap="round" stroke-linejoin="round" d="m9 15.5l3-3l3 3m-6-4l3-3l3 3"/></g></svg><span>å›åˆ°é¡¶éƒ¨</span></a></div></widget>
</div></aside><div class='float-panel blur'>
  <button type='button' style='display:none' class='laptop-only rightbar-toggle mobile' onclick='sidebar.rightbar()'>
    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6h11m-11 6h11m-11 6h11M4 6h1v4m-1 0h2m0 8H4c0-1 2-2 2-3s-1-1.5-2-1"/></svg>
  </button>
  <button type='button' style='display:none' class='mobile-only leftbar-toggle mobile' onclick='sidebar.leftbar()'>
    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="1.5"><path d="M2 11c0-3.771 0-5.657 1.172-6.828C4.343 3 6.229 3 10 3h4c3.771 0 5.657 0 6.828 1.172C22 5.343 22 7.229 22 11v2c0 3.771 0 5.657-1.172 6.828C19.657 21 17.771 21 14 21h-4c-3.771 0-5.657 0-6.828-1.172C2 18.657 2 16.771 2 13z"/><path id="sep" stroke-linecap="round" d="M5.5 10h6m-5 4h4m4.5 7V3"/></g></svg>
  </button>
</div>
</div><div class="scripts">
<script type="text/javascript">
  const ctx = {
    date_suffix: {
      just: `åˆšåˆš`,
      min: `åˆ†é’Ÿå‰`,
      hour: `å°æ—¶å‰`,
      day: `å¤©å‰`,
    },
    root : `/`,
    tag_plugins: {
      chat: Object.assign({"api":"https://siteinfo.listentothewind.cn/api/v1"}),
    }
  };

  // required plugins (only load if needs)
  if (`local_search`) {
    ctx.search = {};
    ctx.search.service = `local_search`;
    if (ctx.search.service == 'local_search') {
      let service_obj = Object.assign({}, `{"field":"all","path":"/search.json","content":true,"skip_search":null,"sort":"-date"}`);
      ctx.search[ctx.search.service] = service_obj;
    }
  }
  const def = {
    avatar: `https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/avatar/round/3442075.svg`,
    cover: `https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/cover/76b86c0226ffd.svg`,
  };
  const deps = {
    jquery: `https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js`,
    marked: `https://cdn.jsdelivr.net/npm/marked@13.0.1/lib/marked.umd.min.js`
  }
  

</script>

<script type="text/javascript">
  function RunItem() {
    this.list = []; // å­˜æ”¾å›è°ƒå‡½æ•°
    this.start = () => {
      for (var i = 0; i < this.list.length; i++) {
        this.list[i].run();
      }
    };
    this.push = (fn, name, setRequestAnimationFrame = true) => {
      let myfn = fn
      if (setRequestAnimationFrame) {
        myfn = () => {
          utils.requestAnimationFrame(fn)
        }
      }
      var f = new Item(myfn, name);
      this.list.push(f);
    };
    this.remove = (name) => {
      for (let index = 0; index < this.list.length; index++) {
        const e = this.list[index];
        if (e.name == name) {
          this.list.splice(index, 1);
        }
      }
    }
    // æ„é€ ä¸€ä¸ªå¯ä»¥runçš„å¯¹è±¡
    function Item(fn, name) {
      // å‡½æ•°åç§°
      this.name = name || fn.name;
      // runæ–¹æ³•
      this.run = () => {
        try {
          fn()
        } catch (error) {
          console.log(error);
        }
      };
    }
  }

  const utils = {
    // æ‡’åŠ è½½ css https://github.com/filamentgroup/loadCSS
    css: (href, before, media, attributes) => {
      var doc = window.document;
      var ss = doc.createElement("link");
      var ref;
      if (before) {
        ref = before;
      } else {
        var refs = (doc.body || doc.getElementsByTagName("head")[0]).childNodes;
        ref = refs[refs.length - 1];
      }
      var sheets = doc.styleSheets;
      if (attributes) {
        for (var attributeName in attributes) {
          if (attributes.hasOwnProperty(attributeName)) {
            ss.setAttribute(attributeName, attributes[attributeName]);
          }
        }
      }
      ss.rel = "stylesheet";
      ss.href = href;
      ss.media = "only x";
      function ready(cb) {
        if (doc.body) {
          return cb();
        }
        setTimeout(function () {
          ready(cb);
        });
      }
      ready(function () {
        ref.parentNode.insertBefore(ss, before ? ref : ref.nextSibling);
      });
      var onloadcssdefined = function (cb) {
        var resolvedHref = ss.href;
        var i = sheets.length;
        while (i--) {
          if (sheets[i].href === resolvedHref) {
            return cb();
          }
        }
        setTimeout(function () {
          onloadcssdefined(cb);
        });
      };
      function loadCB() {
        if (ss.addEventListener) {
          ss.removeEventListener("load", loadCB);
        }
        ss.media = media || "all";
      }
      if (ss.addEventListener) {
        ss.addEventListener("load", loadCB);
      }
      ss.onloadcssdefined = onloadcssdefined;
      onloadcssdefined(loadCB);
      return ss;
    },

    js: (src, opt) => new Promise((resolve, reject) => {
      var script = document.createElement('script');
      if (src.startsWith('/')) {
        src = ctx.root + src.substring(1);
      }
      script.src = src;
      if (opt) {
        for (let key of Object.keys(opt)) {
          script[key] = opt[key]
        }
      } else {
        // é»˜è®¤å¼‚æ­¥ï¼Œå¦‚æœéœ€è¦åŒæ­¥ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¼ å…¥ {} å³å¯
        script.async = true
      }
      script.onerror = reject
      script.onload = script.onreadystatechange = function () {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    }),

    jq: (fn) => {
      if (typeof jQuery === 'undefined') {
        utils.js(deps.jquery).then(fn)
      } else {
        fn()
      }
    },

    onLoading: (el) => {
      if (el) {
        $(el).append('<div class="loading-wrap"><svg xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" stroke-opacity=".3" d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="1.3s" values="60;0"/></path><path stroke-dasharray="15" stroke-dashoffset="15" d="M12 3C16.9706 3 21 7.02944 21 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="15;0"/><animateTransform attributeName="transform" dur="1.5s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"/></path></g></svg></div>');
      }
    },
    onLoadSuccess: (el) => {
      if (el) {
        $(el).find('.loading-wrap').remove();
      }
    },
    onLoadFailure: (el) => {
      if (el) {
        $(el).find('.loading-wrap svg').remove();
        $(el).find('.loading-wrap').append('<svg xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" d="M12 3L21 20H3L12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.5s" values="60;0"/></path><path stroke-dasharray="6" stroke-dashoffset="6" d="M12 10V14"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.6s" dur="0.2s" values="6;0"/></path></g><circle cx="12" cy="17" r="1" fill="currentColor" fill-opacity="0"><animate fill="freeze" attributeName="fill-opacity" begin="0.8s" dur="0.4s" values="0;1"/></circle></svg>');
        $(el).find('.loading-wrap').addClass('error');
      }
    },
    request: (el, url, callback, onFailure) => {
      let retryTimes = 3;
      utils.onLoading(el);
      function req() {
        return new Promise((resolve, reject) => {
          let status = 0; // 0 ç­‰å¾… 1 å®Œæˆ 2 è¶…æ—¶
          let timer = setTimeout(() => {
            if (status === 0) {
              status = 2;
              timer = null;
              reject('è¯·æ±‚è¶…æ—¶');
              if (retryTimes == 0) {
                onFailure();
              }
            }
          }, 5000);
          fetch(url).then(function (response) {
            if (status !== 2) {
              clearTimeout(timer);
              resolve(response);
              timer = null;
              status = 1;
            }
            if (response.ok) {
              return response.json();
            }
            throw new Error('Network response was not ok.');
          }).then(function (data) {
            retryTimes = 0;
            utils.onLoadSuccess(el);
            callback(data);
          }).catch(function (error) {
            if (retryTimes > 0) {
              retryTimes -= 1;
              setTimeout(() => {
                req();
              }, 5000);
            } else {
              utils.onLoadFailure(el);
              onFailure();
            }
          });
        });
      }
      req();
    },
    /********************** requestAnimationFrame ********************************/
    // 1ã€requestAnimationFrame ä¼šæŠŠæ¯ä¸€å¸§ä¸­çš„æ‰€æœ‰ DOM æ“ä½œé›†ä¸­èµ·æ¥ï¼Œåœ¨ä¸€æ¬¡é‡ç»˜æˆ–å›æµä¸­å°±å®Œæˆï¼Œå¹¶ä¸”é‡ç»˜æˆ–å›æµçš„æ—¶é—´é—´éš”ç´§ç´§è·Ÿéšæµè§ˆå™¨çš„åˆ·æ–°é¢‘ç‡ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œè¿™ä¸ªé¢‘ç‡ä¸ºæ¯ç§’60å¸§ã€‚
    // 2ã€åœ¨éšè—æˆ–ä¸å¯è§çš„å…ƒç´ ä¸­ï¼ŒrequestAnimationFrame å°†ä¸ä¼šè¿›è¡Œé‡ç»˜æˆ–å›æµï¼Œè¿™å½“ç„¶å°±æ„å‘³ç€æ›´å°‘çš„çš„ cpuï¼Œgpu å’Œå†…å­˜ä½¿ç”¨é‡ã€‚
    requestAnimationFrame: (fn) => {
      if (!window.requestAnimationFrame) {
        window.requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame;
      }
      window.requestAnimationFrame(fn)
    },
    dark: {},
  };

  // utils.dark.mode å½“å‰æ¨¡å¼ dark or light
  // utils.dark.toggle() æš—é»‘æ¨¡å¼è§¦å‘å™¨
  // utils.dark.push(callBack[,"callBackName"]) ä¼ å…¥è§¦å‘å™¨å›è°ƒå‡½æ•°
  utils.dark.method = {
    toggle: new RunItem(),
  };
  utils.dark = Object.assign(utils.dark, {
    push: utils.dark.method.toggle.push,
  });
</script>
<script>
  const sidebar = {
    leftbar: () => {
      if (l_body) {
        l_body.toggleAttribute('leftbar');
        l_body.removeAttribute('rightbar');
      }
    },
    rightbar: () => {
      if (l_body) {
        l_body.toggleAttribute('rightbar');
        l_body.removeAttribute('leftbar');
      }
    },
    dismiss: () => {
      if (l_body) {
        l_body.removeAttribute('leftbar');
        l_body.removeAttribute('rightbar');
      }
    },
    toggleTOC: () => {
      document.querySelector('#data-toc').classList.toggle('collapse');
    }
  }
</script>
<script type="text/javascript">
  (() => {
    const tagSwitchers = document.querySelectorAll('.tag-subtree.parent-tag > a > .tag-switcher-wrapper')
    for (const tagSwitcher of tagSwitchers) {
      tagSwitcher.addEventListener('click', (e) => {
        const parent = e.target.closest('.tag-subtree.parent-tag')
        parent.classList.toggle('expanded')
        e.preventDefault()
      })
    }

    // Get active tag from query string, then activate it.
    const urlParams = new URLSearchParams(window.location.search)
    const activeTag = urlParams.get('tag')
    if (activeTag) {
      let tag = document.querySelector(`.tag-subtree[data-tag="${activeTag}"]`)
      if (tag) {
        tag.querySelector('a').classList.add('active')
        
        while (tag) {
          tag.classList.add('expanded')
          tag = tag.parentElement.closest('.tag-subtree.parent-tag')
        }
      }
    }
  })()
</script>


<!-- required -->
<script src="/js/main.js?v=1.30.0" defer></script>

<script type="text/javascript">
  const applyTheme = (theme) => {
    if (theme === 'auto') {
      document.documentElement.removeAttribute('data-theme')
    } else {
      document.documentElement.setAttribute('data-theme', theme)
    }

    applyThemeToGiscus(theme)
  }

  const applyThemeToGiscus = (theme) => {
    theme = theme === 'auto' ? 'preferred_color_scheme' : theme

    const cmt = document.getElementById('giscus')
    if (cmt) {
      // This works before giscus load.
      cmt.setAttribute('data-theme', theme)
    }

    const iframe = document.querySelector('#comments > section.giscus > iframe')
    if (iframe) {
      // This works after giscus loaded.
      const src = iframe.src
      const newSrc = src.replace(/theme=[\w]+/, `theme=${theme}`)
      iframe.src = newSrc
    }
  }

  const switchTheme = () => {
    // light -> dark -> auto -> light -> ...
    const currentTheme = document.documentElement.getAttribute('data-theme')
    let newTheme;
    switch (currentTheme) {
      case 'light':
        newTheme = 'dark'
        break
      case 'dark':
        newTheme = 'auto'
        break
      default:
        newTheme = 'light'
    }
    applyTheme(newTheme)
    window.localStorage.setItem('Stellar.theme', newTheme)
    utils.dark.mode = newTheme === 'auto' ? (window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light") : newTheme;
    utils.dark.method.toggle.start();

    const messages = {
      light: `åˆ‡æ¢åˆ°æµ…è‰²æ¨¡å¼`,
      dark: `åˆ‡æ¢åˆ°æ·±è‰²æ¨¡å¼`,
      auto: `åˆ‡æ¢åˆ°è·Ÿéšç³»ç»Ÿé…è‰²`,
    }
    hud?.toast?.(messages[newTheme])
  }

  (() => {
    // Apply user's preferred theme, if any.
    const theme = window.localStorage.getItem('Stellar.theme')
    if (theme !== null) {
      applyTheme(theme)
    } else {
      utils.dark.mode = window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light";
    }
    utils.dark.method.toggle.start();
  })()
</script>


<!-- optional -->



<script defer>
  window.addEventListener('DOMContentLoaded', (event) => {
    ctx.services = Object.assign({}, JSON.parse(`{"mdrender":{"js":"/js/services/mdrender.js"},"siteinfo":{"js":"/js/services/siteinfo.js","api":null},"ghinfo":{"js":"/js/services/ghinfo.js"},"sites":{"js":"/js/services/sites.js"},"friends":{"js":"/js/services/friends.js"},"friends_and_posts":{"js":"/js/services/friends_and_posts.js"},"timeline":{"js":"/js/services/timeline.js"},"fcircle":{"js":"/js/services/fcircle.js"},"weibo":{"js":"/js/services/weibo.js"},"memos":{"js":"/js/services/memos.js"},"voice":{"js":"/js/plugins/voice.js"},"video":{"js":"/js/plugins/video.js"},"download-file":{"js":"/js/plugins/download-file.js"},"twikoo":{"js":"/js/services/twikoo_latest_comment.js"},"waline":{"js":"/js/services/waline_latest_comment.js"},"artalk":{"js":"/js/services/artalk_latest_comment.js"},"giscus":{"js":"/js/services/giscus_latest_comment.js"}}`));
    for (let id of Object.keys(ctx.services)) {
      const js = ctx.services[id].js;
      if (id == 'siteinfo') {
        ctx.cardlinks = document.querySelectorAll('a.link-card[cardlink]');
        if (ctx.cardlinks?.length > 0) {
          utils.js(js, { defer: true }).then(function () {
            setCardLink(ctx.cardlinks);
          });
        }
      } else if (id == 'voice') {
        ctx.voiceAudios = document.querySelectorAll('.voice>audio');
        if (ctx.voiceAudios?.length > 0) {
          utils.js(js, { defer: true }).then(function () {
            createVoiceDom(ctx.voiceAudios);
          });
        }
      } else if (id == 'video') {
        ctx.videos = document.querySelectorAll('.video>video');
        if (ctx.videos?.length > 0) {
          utils.js(js, { defer: true }).then(function () {
            videoEvents(ctx.videos);
          });
        }
      } else if (id == 'download-file') {
        ctx.files = document.querySelectorAll('.file');
        if (ctx.files?.length > 0) {
          utils.js(js, { defer: true }).then(function () {
            downloadFileEvent(ctx.files);
          });
        }
      } else {
        const els = document.getElementsByClassName(`ds-${id}`);
        if (els?.length > 0) {
          utils.jq(() => {
            if (id == 'timeline' || 'memos' || 'marked') {
              utils.js(deps.marked).then(function () {
                utils.js(js, { defer: true });
              });
            } else {
              utils.js(js, { defer: true });
            }
          });
        }
      }
    }

    // chat iphone time
    let phoneTimes = document.querySelectorAll('.chat .status-bar .time');

    if (phoneTimes.length > 0) {
      NowTime();
      var date = new Date();
      var sec = date.getSeconds();
      var firstAdjustInterval = setInterval(firstAdjustTime, 1000 * (60 - sec));
    }

    function firstAdjustTime() {
      NowTime();
      clearInterval(firstAdjustInterval);
      setInterval(NowTime, 1000 * 60);
    }

    function NowTime() {
      for (let i = 0; i < phoneTimes.length; ++i) {
        var timeSpan = phoneTimes[i];
        var date = new Date();
        var hour = date.getHours();
        var min = date.getMinutes();
        timeSpan.innerHTML = check(hour) + ":" + check(min);
      }
    };

    function check(val) {
      if (val < 10) {
        return ("0" + val);
      }
      return (val);
    }

    // chat quote
    const chat_quote_obverser = new IntersectionObserver((entries, observer) => {
      entries.filter((entry) => { return entry.isIntersecting }).sort((a, b) => a.intersectionRect.y !== b.intersectionRect.y ? a.intersectionRect.y - b.intersectionRect.y : a.intersectionRect.x - b.intersectionRect.x).forEach((entry, index) => {
          observer.unobserve(entry.target);
          setTimeout(() => {
            entry.target.classList.add('quote-blink');
            setTimeout(() => {
              entry.target.classList.remove('quote-blink');
            }, 1000);
          }, Math.max(100, 16) * (index + 1));
        });
    });

    var chatQuotes = document.querySelectorAll(".chat .talk .quote");
    chatQuotes.forEach((quote) => {
      quote.addEventListener('click', function () {
        var chatCellDom = document.getElementById("quote-" + quote.getAttribute("quotedCellTag"));
        if (chatCellDom) {
          var chatDiv = chatCellDom.parentElement;
          var mid = chatDiv.clientHeight / 2;
          var offsetTop = chatCellDom.offsetTop;
          if (offsetTop > mid - chatCellDom.clientHeight / 2) {
            chatDiv.scrollTo({
              top: chatCellDom.offsetTop - mid + chatCellDom.clientHeight / 2,
              behavior: "smooth"
            });
          } else {
            chatDiv.scrollTo({
              top: 0,
              behavior: "smooth"
            });
          }
          chat_quote_obverser.observe(chatCellDom);
        }
      });
    });
  });
</script>

<script>
  window.addEventListener('DOMContentLoaded', (event) => {
    ctx.search = {
      path: `/search.json`,
    }
    utils.js('/js/search/local-search.js', { defer: true });
  });
</script><script>
  window.FPConfig = {
    delay: 0,
    ignoreKeywords: [],
    maxRPS: 5,
    hoverDelay: 25
  };
</script>
<script defer src="https://cdn.jsdelivr.net/npm/flying-pages@2/flying-pages.min.js"></script><script defer src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@19.1.3/dist/lazyload.min.js"></script>
<script>
  // https://www.npmjs.com/package/vanilla-lazyload
  // Set the options globally
  // to make LazyLoad self-initialize
  window.lazyLoadOptions = {
    elements_selector: ".lazy",
  };
  // Listen to the initialization event
  // and get the instance of LazyLoad
  window.addEventListener(
    "LazyLoad::Initialized",
    function (event) {
      window.lazyLoadInstance = event.detail.instance;
    },
    false
  );
  document.addEventListener('DOMContentLoaded', function () {
    window.lazyLoadInstance?.update();
  });
</script><script>
  ctx.fancybox = {
    selector: `.timenode p>img`,
    css: `https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/fancybox/fancybox.css`,
    js: `https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/fancybox/fancybox.umd.js`
  };
  var selector = '[data-fancybox]:not(.error)';
  if (ctx.fancybox.selector) {
    selector += `, ${ctx.fancybox.selector}`
  }
  var needFancybox = document.querySelectorAll(selector).length !== 0;
  if (!needFancybox) {
    const els = document.getElementsByClassName('ds-memos');
    if (els != undefined && els.length > 0) {
      needFancybox = true;
    }
  }
  if (needFancybox) {
    utils.css(ctx.fancybox.css);
    utils.js(ctx.fancybox.js, { defer: true }).then(function () {
      Fancybox.bind(selector, {
        hideScrollbar: false,
        Thumbs: {
          autoStart: false,
        },
        caption: (fancybox, slide) => {
          return slide.triggerEl.alt || slide.triggerEl.dataset.caption || null
        }
      });
    })
  }
</script>
<script>
  window.addEventListener('DOMContentLoaded', (event) => {
    const swiper_api = document.getElementById('swiper-api');
    if (swiper_api != undefined) {
      utils.css(`https://unpkg.com/swiper@10.3.1/swiper-bundle.min.css`);
      utils.js(`https://unpkg.com/swiper@10.3.1/swiper-bundle.min.js`, { defer: true }).then(function () {
        const effect = swiper_api.getAttribute('effect') || '';
        var swiper = new Swiper('.swiper#swiper-api', {
          slidesPerView: 'auto',
          spaceBetween: 8,
          centeredSlides: true,
          effect: effect,
          rewind: true,
          pagination: {
            el: '.swiper-pagination',
            clickable: true,
          },
          navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
          },
        });
      })
    }
  });
</script>
<script defer src="https://cdn.jsdelivr.net/npm/scrollreveal@4.0.9/dist/scrollreveal.min.js"></script>
<script>
  window.addEventListener('DOMContentLoaded', (event) => {
    const slideUp = {
      distance: `16px`,
      duration: `800`,
      interval: `100`,
      scale: `1`,
      opacity: 0,
      easing: "ease-out"
    };
    ScrollReveal().reveal('.l_left .slide-up', slideUp);
    ScrollReveal().reveal('.l_main .slide-up', slideUp);
    ScrollReveal().reveal('.l_right .slide-up', slideUp);
  });
</script>

  <script type="text/javascript">
    // ä»æœåŠ¡å™¨ç«¯é…ç½®ä¸­è§£æé…ç½®å¯¹è±¡
    var cozeConfig = {"enable":true,"api_host":"http://localhost:8888","sdk_url":"http://localhost:8888/static/chat-sdk.js","config":{"type":"app","appInfo":{"appId":"7594744377281347584","workflowId":"7597782620230909952"}},"auth":{"type":"token","token":"pat_824d6b760a23f2f27174d1656d9f5bee888d270024a6494f9f164516fa641f75"},"componentProps":{"title":"AI åŠ©æ‰‹","lang":"zh-CN","layout":"PC"}};
    
    // ç­‰å¾… SDK å®Œå…¨åˆå§‹åŒ–çš„å‡½æ•°ï¼ˆä½¿ç”¨è½®è¯¢æœºåˆ¶ï¼‰
    function waitForSDK(maxAttempts, interval) {
      maxAttempts = maxAttempts || 50;
      interval = interval || 100;
      
      return new Promise(function(resolve, reject) {
        var attempts = 0;

        var checkSDK = function() {
          attempts++;

          // æ£€æŸ¥ SDK æ˜¯å¦åŠ è½½å®Œæˆ
          // å°è¯•å¤šç§å¯èƒ½çš„è®¿é—®æ–¹å¼
          var WebChatClient = null;
          
          if (window.CozeWebSDK) {
            // æ–¹å¼1: ç›´æ¥è®¿é—® (æ™®é€šå…¨å±€å¯¹è±¡)
            if (window.CozeWebSDK.WebChatClient) {
              WebChatClient = window.CozeWebSDK.WebChatClient;
            }
            // æ–¹å¼2: ES Module çš„ default å¯¼å‡º
            else if (window.CozeWebSDK.default && window.CozeWebSDK.default.WebChatClient) {
              WebChatClient = window.CozeWebSDK.default.WebChatClient;
            }
            // æ–¹å¼3: ES Module çš„ç›´æ¥å¯¼å‡º
            else if (window.CozeWebSDK.default) {
              // å¦‚æœ default å°±æ˜¯ WebChatClient
              WebChatClient = window.CozeWebSDK.default;
            }
            // æ–¹å¼4: æ£€æŸ¥æ˜¯å¦æœ‰å…¶ä»–å¯¼å‡ºæ–¹å¼
            else if (typeof window.CozeWebSDK === 'object') {
              // å°è¯•è®¿é—®æ‰€æœ‰å¯èƒ½çš„å±æ€§
              var sdk = window.CozeWebSDK;
              if (sdk.WebChatClient) {
                WebChatClient = sdk.WebChatClient;
              } else if (sdk.default && sdk.default.WebChatClient) {
                WebChatClient = sdk.default.WebChatClient;
              } else if (sdk.default && typeof sdk.default === 'function') {
                WebChatClient = sdk.default;
              }
            }
          }
          
          if (WebChatClient) {
            console.log('[Coze SDK] SDK åˆå§‹åŒ–æˆåŠŸï¼Œæ‰¾åˆ° WebChatClient');
            resolve(WebChatClient);
            return;
          }

          // æ£€æŸ¥æ˜¯å¦è¶…æ—¶
          if (attempts >= maxAttempts) {
            console.error('[Coze SDK] SDK åŠ è½½è¶…æ—¶');
            console.error('[Coze SDK] window.CozeWebSDK:', window.CozeWebSDK);
            console.error('[Coze SDK] window.CozeWebSDK ç±»å‹:', typeof window.CozeWebSDK);
            console.error('[Coze SDK] å¯ç”¨çš„ CozeWebSDK å±æ€§:', Object.keys(window.CozeWebSDK || {}));
            
            // å°è¯•è¾“å‡ºæ›´å¤šè°ƒè¯•ä¿¡æ¯
            if (window.CozeWebSDK) {
              console.error('[Coze SDK] window.CozeWebSDK.default:', window.CozeWebSDK.default);
              console.error('[Coze SDK] window.CozeWebSDK çš„æ‰€æœ‰å±æ€§ï¼ˆåŒ…æ‹¬ä¸å¯æšä¸¾ï¼‰:');
              for (var key in window.CozeWebSDK) {
                console.error('  -', key, ':', typeof window.CozeWebSDK[key]);
              }
            }
            
            reject(new Error('SDK åŠ è½½è¶…æ—¶'));
            return;
          }

          // ç»§ç»­ç­‰å¾…
          setTimeout(checkSDK, interval);
        };

        // å¼€å§‹æ£€æŸ¥
        checkSDK();
      });
    }
    
    // ç­‰å¾… DOM åŠ è½½å®Œæˆåå†åˆå§‹åŒ– SDK
    function initCozeSDK() {
      console.log('[Coze SDK] å¼€å§‹åŠ è½½ Coze SDK...');
      
      // æ£€æŸ¥ DOM æ˜¯å¦å·²åŠ è½½
      if (!document.head) {
        console.error('[Coze SDK] document.head ä¸å­˜åœ¨ï¼Œç­‰å¾… DOM åŠ è½½...');
        return;
      }
      
      // è®¾ç½® Coze API åœ°å€ï¼ˆå¦‚æœéœ€è¦ä¿®æ”¹é»˜è®¤åœ°å€ï¼‰
      if (cozeConfig.api_host) {
        window.__COZE_API_HOST__ = cozeConfig.api_host;
        console.log('[Coze SDK] API åœ°å€è®¾ç½®ä¸º:', cozeConfig.api_host);
      }
      
      // åŠ¨æ€åŠ è½½ Coze SDK
      var webSdkScript = document.createElement('script');
      var sdkUrl = cozeConfig.sdk_url || 'http://localhost:8888/static/chat-sdk.js';
      webSdkScript.src = sdkUrl;
      webSdkScript.async = true; // å¼‚æ­¥åŠ è½½
      console.log('[Coze SDK] æ­£åœ¨åŠ è½½ SDK è„šæœ¬:', sdkUrl);
      
      // SDK åŠ è½½æˆåŠŸåçš„å›è°ƒ
      webSdkScript.onload = function () {
        console.log('[Coze SDK] SDK è„šæœ¬åŠ è½½å®Œæˆ');

        // ç­‰å¾… SDK å®Œå…¨åˆå§‹åŒ–ï¼ˆä½¿ç”¨è½®è¯¢æœºåˆ¶ï¼‰
        waitForSDK()
          .then(function(WebChatClient) {
            try {
              // æ„å»ºé…ç½®å¯¹è±¡
              var authToken = (cozeConfig.auth && cozeConfig.auth.token) || "pat_824d6b760a23f2f27174d1656d9f5bee888d270024a6494f9f164516fa641f75";
              
              // æ„å»º auth é…ç½®ï¼Œç¡®ä¿ onRefreshToken å‡½æ•°å­˜åœ¨
              var authConfig = cozeConfig.auth || {
                type: "token",
                token: authToken
              };
              
              // ç¡®ä¿ onRefreshToken å‡½æ•°èƒ½æ­£ç¡®è¿”å› token
              if (!authConfig.onRefreshToken) {
                authConfig.onRefreshToken = function () {
                  return authToken;
                };
              }
              
              // æ„å»º appInfo é…ç½®ï¼ŒworkflowId æ˜¯å¯é€‰çš„
              var appInfo = {
                appId: (cozeConfig.config && cozeConfig.config.appInfo && cozeConfig.config.appInfo.appId) || "7594744377281347584"
              };
              
              // åªæœ‰å½“ workflowId å­˜åœ¨æ—¶æ‰æ·»åŠ 
              if (cozeConfig.config && cozeConfig.config.appInfo && cozeConfig.config.appInfo.workflowId) {
                appInfo.workflowId = cozeConfig.config.appInfo.workflowId;
              }
              
              var sdkConfig = {
                config: {
                  type: (cozeConfig.config && cozeConfig.config.type) || "app",
                  appInfo: appInfo
                },
                auth: authConfig
              };
              
              // æ·»åŠ  UI é…ç½®ï¼ˆå¦‚æœå­˜åœ¨ï¼‰
              if (cozeConfig.componentProps) {
                sdkConfig.componentProps = cozeConfig.componentProps;
              }
              
              console.log('[Coze SDK] å¼€å§‹åˆ›å»º WebChatClientï¼Œé…ç½®:', JSON.stringify(sdkConfig, null, 2));
              
              // åˆ›å»º WebChatClient å®ä¾‹
              var chatClient = new WebChatClient(sdkConfig);
              
              // ä¿å­˜ client å®ä¾‹åˆ°å…¨å±€ï¼Œæ–¹ä¾¿åç»­æ§åˆ¶
              window.cozeChatClient = chatClient;
              console.log('[Coze SDK] WebChatClient åˆ›å»ºæˆåŠŸï¼Œclient å®ä¾‹å·²ä¿å­˜åˆ° window.cozeChatClient');
              
              // å°è¯•è‡ªåŠ¨æ˜¾ç¤ºèŠå¤©çª—å£ï¼ˆå¦‚æœ SDK æ”¯æŒï¼‰
              if (typeof chatClient.showChatBot === 'function') {
                console.log('[Coze SDK] å°è¯•è‡ªåŠ¨æ˜¾ç¤ºèŠå¤©çª—å£');
                try {
                  chatClient.showChatBot();
                  console.log('[Coze SDK] èŠå¤©çª—å£æ˜¾ç¤ºå‘½ä»¤å·²æ‰§è¡Œ');
                } catch (e) {
                  console.warn('[Coze SDK] è‡ªåŠ¨æ˜¾ç¤ºèŠå¤©çª—å£å¤±è´¥ï¼Œå¯èƒ½éœ€è¦æ‰‹åŠ¨è°ƒç”¨:', e);
                }
              } else {
                console.log('[Coze SDK] showChatBot æ–¹æ³•ä¸å­˜åœ¨ï¼ŒèŠå¤©çª—å£å¯èƒ½éœ€è¦æ‰‹åŠ¨è§¦å‘');
              }
            } catch (error) {
              console.error('[Coze SDK] åˆ›å»º WebChatClient å¤±è´¥:', error);
              console.error('[Coze SDK] é”™è¯¯å †æ ˆ:', error.stack);
            }
          })
          .catch(function(error) {
            console.error('[Coze SDK] SDK åˆå§‹åŒ–å¤±è´¥:', error);
            console.error('[Coze SDK] è¯·æ£€æŸ¥ï¼š');
            console.error('1. SDK æ–‡ä»¶æ˜¯å¦æ­£ç¡®åŠ è½½');
            console.error('2. æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰å…¶ä»–é”™è¯¯');
            console.error('3. ç½‘ç»œè¯·æ±‚æ˜¯å¦æˆåŠŸ');
          });
      };
      
      // SDK åŠ è½½å¤±è´¥çš„å›è°ƒ
      webSdkScript.onerror = function() {
        console.error('[Coze SDK] SDK è„šæœ¬åŠ è½½å¤±è´¥');
        console.error('[Coze SDK] è¯·æ£€æŸ¥ä»¥ä¸‹äº‹é¡¹:');
        console.error('  1. Coze æœåŠ¡æ˜¯å¦è¿è¡Œåœ¨ ' + (cozeConfig.api_host || 'http://localhost:8888'));
        console.error('  2. SDK æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®: ' + sdkUrl);
        console.error('  3. æ˜¯å¦å­˜åœ¨è·¨åŸŸé—®é¢˜ï¼ˆCORSï¼‰');
        console.error('  4. æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰å…¶ä»–é”™è¯¯ä¿¡æ¯');
      };
      
      // å°†è„šæœ¬æ·»åŠ åˆ° head
      try {
        document.head.appendChild(webSdkScript);
        console.log('[Coze SDK] SDK è„šæœ¬æ ‡ç­¾å·²æ·»åŠ åˆ°é¡µé¢');
      } catch (e) {
        console.error('[Coze SDK] æ·»åŠ è„šæœ¬æ ‡ç­¾å¤±è´¥:', e);
      }
    }
    
    // å¦‚æœ DOM å·²ç»åŠ è½½å®Œæˆï¼Œç«‹å³æ‰§è¡Œï¼›å¦åˆ™ç­‰å¾… DOMContentLoaded äº‹ä»¶
    if (document.readyState === 'loading') {
      window.addEventListener('DOMContentLoaded', initCozeSDK);
    } else {
      // DOM å·²ç»åŠ è½½å®Œæˆï¼Œç«‹å³æ‰§è¡Œ
      initCozeSDK();
    }
  </script>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    window.codeElements = document.querySelectorAll('.code');
    if (window.codeElements.length > 0) {
      ctx.copycode = {
        default_text: `Copy`,
        success_text: `Copied`,
        toast: `å¤åˆ¶æˆåŠŸ`,
      };
      utils.js('/js/plugins/copycode.js');
    }
  });
</script>
<script>
(function() {
  if (typeof window === 'undefined') return;
  var dedupMode = 'day';
  var skip = false;
  var storageKey;
  if (dedupMode === 'session') {
    storageKey = 'visit_notify_sent';
    skip = sessionStorage.getItem(storageKey);
  } else if (dedupMode === 'day') {
    var now = new Date();
    var dateStr = now.getFullYear() + '-' + String(now.getMonth() + 1).padStart(2, '0') + '-' + String(now.getDate()).padStart(2, '0');
    storageKey = 'visit_notify_' + dateStr;
    try { skip = localStorage.getItem(storageKey); } catch (e) {}
  }
  if (skip) return;
  var page = location.href;
  var time = new Date().toLocaleString('zh-CN', { timeZone: 'Asia/Shanghai' });
  var referrer = document.referrer || '(ç›´æ¥è®¿é—®)';
  function done() {
    if (dedupMode === 'session') try { sessionStorage.setItem(storageKey, '1'); } catch (e) {}
    if (dedupMode === 'day') try { localStorage.setItem(storageKey, '1'); } catch (e) {}
  }
  function sendNotify(ip, location) {
    var ipStr = ip || '(è·å–å¤±è´¥)';
    var locStr = location || '(è·å–å¤±è´¥)';
    
    fetch('https://formsubmit.co/fdcb2ed2c38b8b8b5f4f6cf674c147b1', {
      method: 'POST',
      headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
      body: new URLSearchParams({
        _subject: 'ã€åšå®¢è®¿é—®ã€‘æœ‰äººæ‰“å¼€äº†ä½ çš„ç½‘ç«™',
        page: page,
        time: time,
        referrer: referrer,
        'è®¿å®¢IP': ipStr,
        'è®¿å®¢ä½ç½®': locStr,
        _template: 'box',
        _captcha: 'false'
      }).toString(),
      mode: 'no-cors'
    }).then(done).catch(function() {});
    
  }
  function tryGeo() {
    var last = { ip: null, loc: null };
    var urls = [
      { url: 'https://ipapi.co/json/', parse: function(d) { return { ip: d && d.ip, loc: (d && d.country_name) ? [d.city, d.region, d.country_name].filter(Boolean).join(', ') : null }; } },
      { url: 'https://get.geojs.io/v1/ip/geo.json', parse: function(d) { return { ip: d && d.ip, loc: (d && d.country) ? [d.city, d.region, d.country].filter(Boolean).join(', ') : null }; } },
      { url: 'https://ipinfo.io/json', parse: function(d) { return { ip: d && d.ip, loc: (d && d.country) ? [d.city, d.region, d.country].filter(Boolean).join(', ') : null }; } },
      { url: 'https://api.ipify.org?format=json', parse: function(d) { return { ip: d && d.ip, loc: null }; } },
      { url: 'https://httpbin.org/ip', parse: function(d) { return { ip: (d && d.origin) ? (typeof d.origin === 'string' ? d.origin : d.origin[0]) : null, loc: null }; } }
    ];
    function hasCity(loc) { return loc && loc.indexOf(',') >= 0; }
    function tryNext(i) {
      if (i >= urls.length) { sendNotify(last.ip, last.loc); return; }
      fetch(urls[i].url, { mode: 'cors' }).then(function(r) { if (!r.ok) throw new Error(); return r.json(); }).then(function(d) {
        var r = urls[i].parse(d);
        if (r.ip) last.ip = r.ip;
        if (r.loc) last.loc = r.loc;
        if (last.ip && hasCity(last.loc)) { sendNotify(last.ip, last.loc); return; }
        if (i === urls.length - 1) sendNotify(last.ip, last.loc);
        else tryNext(i + 1);
      }).catch(function() { tryNext(i + 1); });
    }
    tryNext(0);
  }
  tryGeo();
})();
</script>



<!-- inject -->

<script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script><script src="/js/check-in.js"></script></div></body></html>
